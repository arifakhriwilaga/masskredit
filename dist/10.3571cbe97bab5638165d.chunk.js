webpackJsonp([10],{701:function(n,t,e){"use strict";var a=e(0),i=e(50),o=e(804),s=function(){function VerifyComponent(n,t){this.verifyService=n,this.router=t,this.statusConfirm=1,this.dataInvest={access_token:null,loan_id:null,invest_amount:null,password:null},this.statusForm=new a.EventEmitter}return VerifyComponent.prototype.ngOnInit=function(){jQuery("#ModalForm").modal({backdrop:"static",keyboard:!1})},VerifyComponent.prototype.hideModal=function(){this.statusForm.emit(0)},VerifyComponent.prototype.cancelConfirmInvest=function(){jQuery("#ModalForm").modal("toggle"),this.router.navigateByUrl("dashboard/other-user-action/loan")},VerifyComponent.prototype.confirmInvest=function(){var n=this;jQuery("#confirmInvestForm").valid()?(this.statusConfirm=0,this.verifyService.createLoan(this.dataInvest).then(function(t){var e=t.meta.message,a=JSON.stringify(t.meta.code);"4"==a.charAt(0)&&n.handleError(e),"2"==a.charAt(0)&&n.handleSuccess()})):alert("Harap masukan password")},VerifyComponent.prototype.handleError=function(n){try{"Saldo Anda tidak mencukupi."==n?alert("Saldo Anda tidak mencukupi."):"Jumlah yang anda masukan melebihi jumlah pinjaman."==n?alert("Jumlah yang anda masukan melebihi jumlah pinjaman."):alert("Password anda salah")}finally{this.statusConfirm=1}},VerifyComponent.prototype.handleSuccess=function(){alert("Investasi berhasil dibuat, harap menunggu konfirmasi Borrower"),jQuery("#ModalForm").modal("toggle"),this.router.navigateByUrl("/dashboard/other-user-action/loan")},__decorate([a.Input(),__metadata("design:type",Object)],VerifyComponent.prototype,"dataInvest",void 0),__decorate([a.Output(),__metadata("design:type",Object)],VerifyComponent.prototype,"statusForm",void 0),VerifyComponent=__decorate([a.Component({selector:"verify",template:e(950),providers:[o.VerifyService]}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof o.VerifyService&&o.VerifyService)&&n||Object,"function"==typeof(t="undefined"!=typeof i.Router&&i.Router)&&t||Object])],VerifyComponent);var n,t}();t.VerifyComponent=s},796:function(n,t,e){"use strict";var a=e(0),i=e(87),o=e(50),s=e(797),l=function(){function DetailComponent(n,t,e,a){this.http=n,this.router=t,this.activatedRoute=e,this.detailService=a,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.access_token=JSON.parse(localStorage.getItem("access_token")),this.invest_id="",this.dataReqLoan={access_token:this.access_token,invest_id:null},this.invest={access_token:this.access_token,loan_id:null,invest_amount:null,password:null},this.amount={},this.restAmount={},this.dataDetailInvest=0,this.statusDataDetail=0,this.simulation={nominal:null,success_fee:null,nominal_and_fee:null,pokok:null,bunga:null,tenor:null,denda:null,cicilan_perbulan:null,transaction_fee:null},this.dataCalculation={access_token:this.access_token,jumlah:null,bunga:null,tenor:null},this.listInvestUrl="#/dashboard/other-user-action/invest",this.dataIsOn=[{value:1},{value:0}],this.isOn=0}return DetailComponent.prototype.listLoan=function(){this.router.navigateByUrl("/dashboard/other-user-action/loan")},DetailComponent.prototype.ngOnInit=function(){var n=this;jQuery("#FormSimulation").validate({rules:{jumlah:{required:!0}},messages:{jumlah:"Field harus diisi."}});this.activatedRoute.params.subscribe(function(t){var e=t.id;n.invest.loan_id=e,n.dataReqLoan.invest_id=e});this.getDetailInvest()},DetailComponent.prototype.cancelDetailInvest=function(){this.router.navigateByUrl("/dashboard/other-user-action/loan")},DetailComponent.prototype.handleError=function(n){"unauthorized"===n&&this.router.navigate(["/dashboard/sign-out"])},DetailComponent.prototype.handleSuccess=function(n){try{var t="assets/img/default_image.jpg";""==n.images&&(n.images=t),this.dataCalculation.bunga=n.interest,this.dataCalculation.tenor=n.tenor,this.detailInvest=n;var e=n.amount,a=n.sisa;this.restAmount=this.delimiter(a),this.amount=this.delimiter(e)}finally{this.statusDataDetail=1}},DetailComponent.prototype.getDetailInvest=function(){var n=this;this.detailService.getDetail(this.dataReqLoan).then(function(t){var e=t.meta.message,a=JSON.stringify(t.meta.code),i=t.data;n.dataCalculation.bunga=t.data.interest,n.dataCalculation.tenor=t.data.tenor,"4"===a.charAt(0)&&n.handleError(e),"2"===a.charAt(0)&&n.handleSuccess(i)})},DetailComponent.prototype.createInvest=function(){if(jQuery("#FormSimulation").valid()){if(0===this.isOn)return;this.formVerify=1}else alert("Data tidak valid")},DetailComponent.prototype.delimiter=function(n){var t=!1,e=n.toString();e<0&&(t=!0),e=e.replace(".",""),e=e.replace("-","");for(var a="",i=e.length,o=0,s=i;s>0;s--)o+=1,a=o%3==1&&1!=o?e.substr(s-1,1)+"."+a:e.substr(s-1,1)+a;t&&(a="-"+a);var l="Rp.";return l.concat(a)},DetailComponent.prototype.calculationInvest=function(){var n=this;jQuery("#FormSimulation").valid()?(this.invest.invest_amount=this.dataCalculation.jumlah,this.detailService.calculationInvest(this.dataCalculation).then(function(t){try{n.simulation.bunga=n.delimiter(t.data.simulation_result.bunga),n.simulation.cicilan_perbulan=n.delimiter(t.data.simulation_result.cicilan_perbulan),n.simulation.denda=n.delimiter(t.data.simulation_result.denda),n.simulation.nominal=n.delimiter(t.data.simulation_result.nominal),n.simulation.pokok=n.delimiter(t.data.simulation_result.pokok),n.simulation.success_fee=n.delimiter(t.data.simulation_result.sucess_fee)}finally{n.statusCalculation=1}})):alert("Data tidak valid")},DetailComponent.prototype.hideVerify=function(n){this.formVerify=n},DetailComponent=__decorate([a.Component({selector:"detail",template:e(948),providers:[s.DetailService]}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.Http&&i.Http)&&n||Object,"function"==typeof(t="undefined"!=typeof o.Router&&o.Router)&&t||Object,"function"==typeof(l="undefined"!=typeof o.ActivatedRoute&&o.ActivatedRoute)&&l||Object,"function"==typeof(r="undefined"!=typeof s.DetailService&&s.DetailService)&&r||Object])],DetailComponent);var n,t,l,r}();t.DetailComponent=l},797:function(n,t,e){"use strict";var a=e(0),i=e(87);e(403);var o=function(){function DetailService(n){this.http=n,this.headers=new i.Headers({"Content-Type":"application/json",API_KEY:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.detailLoanUrl="https://masscredit-api.stagingapps.net/user/investment/detail",this.calculationUrl="https://masscredit-api.stagingapps.net/user/investment/simulate"}return DetailService.prototype.getDetail=function(n){return this.http.post(this.detailLoanUrl,n,this.options).toPromise().then(function(n){return n.json()}).catch(this.handleError)},DetailService.prototype.handleError=function(n){var t=JSON.parse(n._body);return t},DetailService.prototype.calculationInvest=function(n){return this.http.post(this.calculationUrl,n,this.options).toPromise().then(function(n){return n.json()}).catch(this.handleError)},DetailService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.Http&&i.Http)&&n||Object])],DetailService);var n}();t.DetailService=o},798:function(n,t,e){"use strict";var a=e(0),i=e(50),o=function(){function FormDetailLoanComponent(n){this.router=n}return FormDetailLoanComponent.prototype.ngOnInit=function(){},__decorate([a.Input(),__metadata("design:type",Object)],FormDetailLoanComponent.prototype,"dataDetailInvest",void 0),__decorate([a.Input(),__metadata("design:type",String)],FormDetailLoanComponent.prototype,"dataAmount",void 0),__decorate([a.Input(),__metadata("design:type",String)],FormDetailLoanComponent.prototype,"dataRestAmount",void 0),FormDetailLoanComponent=__decorate([a.Component({selector:"form-detail",template:e(949)}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.Router&&i.Router)&&n||Object])],FormDetailLoanComponent);var n}();t.FormDetailLoanComponent=o},799:function(n,t,e){"use strict";function __export(n){for(var e in n)t.hasOwnProperty(e)||(t[e]=n[e])}__export(e(798))},800:function(n,t,e){"use strict";var a=e(0),i=e(50),o=e(87),s=e(153),l=e(72),r=e(796),d=e(803),c=e(802),u=e(799);t.routes=[{path:"",component:r.DetailComponent}];var m=function(){function DetailModule(){}return DetailModule.routes=t.routes,DetailModule=__decorate([a.NgModule({declarations:[r.DetailComponent,d.VerifyComponent,c.FormVerifyComponent,u.FormDetailLoanComponent],imports:[o.HttpModule,s.FormsModule,l.CommonModule,i.RouterModule.forChild(t.routes)],providers:[]}),__metadata("design:paramtypes",[])],DetailModule)}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=m},801:function(n,t,e){"use strict";var a=e(0),i=e(701),o=function(){function FormVerifyComponent(n){this.verifyComponent=n,this.dataInvest=this.verifyComponent.dataInvest}return FormVerifyComponent.prototype.ngOnInit=function(){jQuery("#confirmInvestForm").validate({rules:{password:{required:!0}}})},FormVerifyComponent=__decorate([a.Component({selector:"form-verify",template:'\n\t\t<form name="confirmInvestForm" id="confirmInvestForm">\n\t\t  <div class="col-md-6">\n\t\t    <div class="form-group">\n          <span class="required">*</span>\n          <input type="password" name="password" placeholder="Password" class="form-control input-md" id="password" [(ngModel)]="dataInvest.password">\n\t\t    </div>\n\t\t  </div>\n\t\t</form>\n\t'}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.VerifyComponent&&i.VerifyComponent)&&n||Object])],FormVerifyComponent);var n}();t.FormVerifyComponent=o},802:function(n,t,e){"use strict";function __export(n){for(var e in n)t.hasOwnProperty(e)||(t[e]=n[e])}__export(e(801))},803:function(n,t,e){"use strict";function __export(n){for(var e in n)t.hasOwnProperty(e)||(t[e]=n[e])}__export(e(701))},804:function(n,t,e){"use strict";var a=e(0),i=e(87);e(403);var o=function(){function VerifyService(n){this.http=n,this.headers=new i.Headers({"Content-Type":"application/json",API_KEY:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.investUrl="https://masscredit-api.stagingapps.net/other-user/investment/new"}return VerifyService.prototype.createLoan=function(n){return this.http.post(this.investUrl,n,this.options).toPromise().then(function(n){return n.json()}).catch(this.handleError)},VerifyService.prototype.handleError=function(n){var t=JSON.parse(n._body);return t},VerifyService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.Http&&i.Http)&&n||Object])],VerifyService);var n}();t.VerifyService=o},948:function(n,t){n.exports='<div class="col-md-4">\n  <div class="row">\n    <div class="box-header" align="center"><br>\n      <label><h2 style="font-size: 24px;color: orange;">Form Investasi</h2></label>\n    </div>\n    <div class="box-body">\n    <div class="col-xs-12">\n      <!-- component calculation -->\n      <form id="FormSimulation" name="FormSimulation">\n      <div class="form-group">\n        <input type="text" placeholder="Jumlah Pinjaman" class="form-control input-md" name="jumlah" id="jumlah" value="" [(ngModel)]="dataCalculation.jumlah">\n      </div>\n      </form>\n      <div class="form-group">\n        <button class="btn-back" (click)="listLoan()">KEMBALI</button>\n        <button type="submit" class="btn-simulation-invest" (click)="calculationInvest()">KALKULASI</button>\n      </div>\n      <hr>\n      <!-- <div align="center" *ngIf="dataDetailInvest == 3"> \n        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n        <span class="sr-only">Loading...</span>\n      </div> -->\n    </div>\n    </div>\n  </div>\n  <div class="row">\n    <br>\n    <div class="box-header" align="center">\n      <h2 class="box-title">Kalkulasi Investasi</h2>\n    </div>\n    <div class="box-body">\n      <div class="row">\n      <div class="col-xs-12">     \n        <!-- component form loan -->\n        <form name="FormInvest" id="FormInvest">\n          <fieldset disabled>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Nominal</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" name="nominal" placeholder="-" class="form-control input-md" id="nominal" [(ngModel)]="simulation.nominal">\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Success Fee</label>\n              </div>\n              <div class="col-md-7">\n                <input type="text" placeholder="-" class="form-control input-md" name="success_fee" id="success_fee" [(ngModel)]="simulation.success_fee">\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Nominal dan Fee</label>\n              </div>\n              <div class="col-md-7">\n                <input type="text" placeholder="-" class="form-control input-md" name="nominal_and_fee" id="nominal_and_fee" [(ngModel)]="simulation.nominal_and_fee">\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Pokok</label>\n              </div>\n              <div class="col-md-7">\n                <input type="text" name="pokok" placeholder="-" class="form-control input-md" id="pokok" [(ngModel)]="simulation.pokok"> \n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Bunga</label>\n              </div>\n              <div class="col-md-7">\n                <input type="text" placeholder="-" class="form-control input-md" name="bunga" id="bunga" [(ngModel)]="simulation.bunga">\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Tenor</label>\n              </div>\n              <div class="col-md-7">\n                <input type="text" placeholder="-" class="form-control input-md" name="tenor" id="tenor" [(ngModel)]="simulation.tenor">\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Denda</label>\n              </div>\n              <div class="col-md-7">\n                <input type="text" placeholder="-" class="form-control input-md" name="denda" id="denda" [(ngModel)]="simulation.denda">\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Cicilan/Bulan</label>\n              </div>\n              <div class="col-md-7">\n                <input type="text" placeholder="-" class="form-control input-md" name="cicilan_perbulan" id="cicilan_perbulan" [(ngModel)]="simulation.cicilan_perbulan">\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-5">\n                <label class="unit">Transaction Fee</label>\n              </div>\n              <div class="col-md-7">\n                <input type="text" placeholder="-" class="form-control input-md" name="transaction_fee" id="transaction_fee" [(ngModel)]="simulation.transaction_fee">\n              </div>\n            </div>\n          </fieldset>\n        </form>\n        <div class="col-md-12" *ngIf="statusCalculation == 1">\n          <div class="form-group col-center">\n          <div align="center">\n            <span class="input-group-addon">\n              <input type="checkbox" [checked]="isOn === dataIsOn[0].value" (change)="$event.target.checked? (isOn = dataIsOn[0].value) : (isOn = dataIsOn[1].value)">\n              <label>Saya setuju dengan syarat dan ketentuan</label>\n            </span>\n            <button class="btn btn-simulation-invest" (click)="createInvest()" [ngClass]="{disabled:isOn === 0}" id="createInvest">Pinjam Sekarang!</button>\n          </div>\n          </div>\n          <!-- component password -->\n          <verify *ngIf="formVerify == 1" [dataInvest]="invest" (statusForm)="hideVerify($event)"></verify>\n        </div> <!-- end component form-loan -->\n      </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="col-md-8">\n<div class="box-header" align="center">\n  <h2 class="box-title">Detail Pinjaman</h2>\n</div>\n<div class="box-body">\n  <div class="col-md-12">\n    <form-detail *ngIf="statusDataDetail == 1" [dataDetailInvest]="detailInvest" [dataAmount]="amount" [dataRestAmount]="restAmount"></form-detail>\n  </div>\n</div>\n</div>\n<div align="center" *ngIf="statusDataDetail == 0"> \n  <br>\n  <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n  <span class="sr-only">Loading...</span>\n</div>'},949:function(n,t){n.exports='<div class="form-group" align="center"><br>\n  <img src="{{ dataDetailInvest.images }}" alt="Foto Pinjaman" class="thumbnail" width="500px" height="250px">\n</div>\n<div class="form-group">\n  <div class="col-md-4 clearfix">\n    <label class="unit">Nama Pinjaman</label>\n  </div>\n  <div class="col-md-7 clearfix">\n    <input type="text" placeholder="Nama Pinjaman" class="form-control input-md" name="loan_name" id="loan_name" value="{{ dataDetailInvest.invest_name }}" disabled>\n  </div>\n</div>\n<div class="form-group">\n  <div class="col-md-4 clearfix">\n    <label class="unit">Jumlah Pinjaman</label>\n  </div>\n  <div class="col-md-7 clearfix">\n    <input type="text" placeholder="Jumlah Pinjaman" class="form-control input-md" name="amount" id="amount" value="{{ dataAmount }}" disabled>\n  </div>\n</div>\n<div class="form-group">\n  <div class="col-md-4 clearfix">\n    <label class="unit">Sisa Pinjaman</label>\n  </div>\n  <div class="col-md-7 clearfix">\n    <input type="text" placeholder="Sisa Pinjaman" class="form-control input-md" name="sisa" id="sisa" value="{{ dataRestAmount }}" disabled>\n  </div>\n</div>\n<div class="form-group">\n  <!-- null -->\n</div>\n<div class="form-group">\n  <div class="col-md-4 clearfix">\n    <label class="unit">Tipe Pinjaman</label>\n  </div>\n  <div class="col-md-7 clearfix">\n    <input type="text" placeholder="Tipe Invest" class="form-control input-md" name="invest_name" id="invest_name" value="{{ dataDetailInvest.tipe }}" disabled>\n  </div>\n</div>\n<div class="form-group">\n  <!-- null -->\n</div>\n<div class="form-group">\n  <div class="col-md-4 clearfix">\n    <label class="unit">Deskipsi</label>\n  </div>\n  <div class="col-md-7 clearfix">\n    <textarea type="text" placeholder="Description" class="form-control input-md" name="description" id="description" value="{{ dataDetailInvest.collateral_value }}" disabled></textarea>\n  </div>\n</div>\n<div class="form-group">\n<!-- null -->\n</div>\n<div class="form-group">\n  <div class="col-md-4 clearfix">\n    <label class="unit">Batas Penawaran</label>\n  </div>\n  <div class="col-md-7 clearfix">\n    <input  type="text" placeholder="Batas Akhir Penawaran" name="due_date" class="form-control input-md" id="due_date" value="" value="{{ dataDetailInvest.due_date }}" disabled>\n  </div>\n</div>\n<div class="form-group">\n<!-- null -->\n</div>\n<div class="form-group">\n  <div class="col-md-4 clearfix">\n    <label class="unit">Bunga</label>\n  </div>\n  <div class="col-md-5 clearfix">\n    <input type="text" placeholder="Bunga" class="form-control input-md" name="interest" id="interest" value="{{ dataDetailInvest.interest }}" disabled>\n  </div>\n    <label class="unit">%/Bulan</label>\n</div>\n<div class="form-group">\n  <!-- null -->\n</div>\n<div class="form-group">\n  <div class="col-md-4 clearfix">\n    <label class="unit">Tenor</label>\n  </div>\n  <div class="col-md-5">\n   <!-- <div class="col-md-10 clearfix"> -->\n    <input type="text" placeholder="Tenor" class="form-control input-md" name="tenor" id="tenor" value="{{ dataDetailInvest.tenor }}" disabled>\n   <!-- </div> -->\n  </div>\n  <label class="unit">Bulan</label>\n</div>\n<div class="form-group">\n  <!-- null -->\n</div>'},950:function(n,t){n.exports='<div class="modal fade" id="ModalForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index: 9000">\n<div class="modal-dialog  modal-style">\n\t<div class="modal-content">\n\t  <div class="modal-header">\n\t    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" (click)="hideModal()">&times;</button>\n\t\t  <h4 class="modal-title">Masukan Password untuk verifikasi</h4>\n\t  </div>\n\t  <div class="modal-body">\n\t   <div class="row">\n\t    <div align="center" *ngIf="statusConfirm == 0"> \n\t\t    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n\t\t    <span class="sr-only">Loading...</span>\n\t\t  </div>\n\t\t  <div *ngIf="statusConfirm == 1">\n\t\t  <!-- component form -->\n\t\t  <form-verify></form-verify>\n\t\t  <div class="col-md-6">\n\t\t    <div class="form-group">\n\t        <div class="col-md-12">\n\t          <button class="btn btn-default" (click)="cancelConfirmInvest()">Batal</button>\n\t          <button class="btn btn-red" (click)="confirmInvest()">Verifikasi</button>\n\t        </div>\n\t\t    </div>\n\t\t  </div>\n\t\t  </div>\n\t   </div>\n\t  </div>\n\t</div>\n</div>\n</div>'}});