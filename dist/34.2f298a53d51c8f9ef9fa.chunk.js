webpackJsonp([34],{764:function(e,t,a){"use strict";var o=a(0),n=a(109),i=a(62),r=function(){function ConfirmComponent(e,t,a){this.http=e,this.router=t,this.activatedRoute=a,this.headers=new n.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new n.RequestOptions({headers:this.headers}),this.access_token=JSON.parse(localStorage.getItem("access_token")),this.data={access_token:this.access_token,id:null,verification_code:null,password:""}}return ConfirmComponent.prototype.ngOnInit=function(){var e=this,t=localStorage.getItem("id_verification"),a=localStorage.getItem("verification_code");this.data.id=t,this.data.verification_code=a,jQuery("#confirmForm").validate({rules:{password:{required:!0}}});var o=JSON.parse(localStorage.getItem("access_token")),n={access_token:o};this.http.post("https://masscredit-api.stagingapps.net/user/fund/no-reference",n,this.options).map(function(e){return e.json()}).subscribe(function(e){var t=e.meta.code,a=e.meta.message;e.data.no_reference;console.log(t,a)},function(t){var a=JSON.parse(t._body),o=a.meta.message;if("unauthorized"==o)return alert("Maaf session anda telah habis silahkan login kembali"),e.router.navigateByUrl("/dashboard/sign-out")})},ConfirmComponent.prototype.confirmWithdrawal=function(e){var t=this;jQuery("#confirmForm").valid()?this.http.post("https://masscredit-api.stagingapps.net/user/withdrawal/confirm",this.data,this.options).map(function(e){return e.json()}).subscribe(function(e){var a=e.meta.code,o=e.meta.message;console.log(a,o),alert("Penarikan dana berhasil"),localStorage.removeItem("id_verification"),localStorage.removeItem("verification_code"),t.router.navigateByUrl("/dashboard/fund/fund-withdrawal")},function(e){var a=JSON.parse(e._body),o=a.meta.message,n=a.meta.code;return"unauthorized"==o?(alert("Maaf session anda telah habis silahkan login kembali"),t.router.navigateByUrl("/dashboard/sign-out")):void("400"==n&&alert("Transaksi tidak ditemukan"))}):alert("Data tidak valid")},ConfirmComponent.prototype.cancelWithdrawal=function(){return localStorage.removeItem("id_verification"),localStorage.removeItem("verification_code"),this.router.navigateByUrl("/dashboard/fund/fund-withdrawal")},ConfirmComponent=__decorate([o.Component({selector:"confirm",template:a(909)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof n.Http&&n.Http)&&e||Object,"function"==typeof(t="undefined"!=typeof i.Router&&i.Router)&&t||Object,"function"==typeof(r="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&r||Object])],ConfirmComponent);var e,t,r}();t.ConfirmComponent=r},765:function(e,t,a){"use strict";var o=a(0),n=a(62),i=a(109),r=a(154),s=a(764);t.routes=[{path:"",component:s.ConfirmComponent}];var d=function(){function CreateModule(){}return CreateModule.routes=t.routes,CreateModule=__decorate([o.NgModule({declarations:[s.ConfirmComponent],imports:[i.HttpModule,r.FormsModule,n.RouterModule.forChild(t.routes)],providers:[]}),__metadata("design:paramtypes",[])],CreateModule)}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},909:function(e,t){e.exports='<section class="content">\n <div class="row">\n   <div class="col-md-12">\n     <div class="box bg-transparent">\n       <div class="box-header">\n         <h2 class="box-title pull-left">Konfirmasi Dana</h2>\n       </div>\n       <div class="box-body">\n         <div class="form-login-register">\n           <form class="clearfix row white-bg detail-page form-space" name="confirmForm" id="confirmForm">\n              <div class="col-md-12">\n                  <div class="form-group" align="center">\n                      <label><h1>Verifikasi Penarikan</h1></label>\n                      <div class="form-group">\n                        <div class="col-md-12">\n                             <input  type="text" placeholder="Verifikasi Code" class="form-control input-md password" name="verification_code" id="verification_code" [(ngModel)]="data.verification_code" disabled>\n                        </div>\n                      </div> \n                      <div class="input-group">\n                         <br>\n                         <input  type="password" placeholder="Password" class="form-control input-md password" name="password" id="password" [(ngModel)]="data.password">\n                      </div>\n                 </div>\n              </div>\n           </form>\n               <div class="col-md-12">\n                 <div class="form-group">\n                    <div class="col-md-6 col-center">\n                      <a href="#/dashboard/fund/fund-withdrawal" class="btn btn-default" (click)="cancelWithdrawal()">Batal</a>\n                      <button class="btn btn-red" (click)="confirmWithdrawal(data)">Konfirmasi</button>\n                    </div>\n                 </div>\n              </div>\n         </div>\n       </div>\n    </div>\n   </div>\n </div>\n</section>'}});