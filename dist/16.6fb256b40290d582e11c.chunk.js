webpackJsonp([16],{690:function(e,t,n){"use strict";var a=n(0),o=n(87),r=n(50),i=function(){function CreateService(e,t){this.http=e,this.router=t,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.otpUrl="https://masscredit-api.stagingapps.net/user/addfund/otp",this.postFundUrl="https://masscredit-api.stagingapps.net/user/fund/add",this.bankMassCreditUrl="https://masscredit-api.stagingapps.net/master/bank-masscredit",this.noreferenceUrl="https://masscredit-api.stagingapps.net/user/fund/no-reference",this.bankUrl="https://masscredit-api.stagingapps.net/master/bank",this.profileUrl="https://masscredit-api.stagingapps.net/user/credential/profile"}return CreateService.prototype.getOtp=function(e){return this.http.post(this.otpUrl,e,this.options).toPromise().then(function(e){return e.json()}).catch(this.handleError)},CreateService.prototype.postFundAdd=function(e){return this.http.post(this.postFundUrl,e,this.options).toPromise().then(function(e){return e.json()}).catch(this.handleErrorFundAdd)},CreateService.prototype.getBankMasscredit=function(){return this.http.get(this.bankMassCreditUrl,this.options).toPromise().then(function(e){return e.json().data.tipe_bank}).catch(this.handleError)},CreateService.prototype.getNoReference=function(e){return this.http.post(this.noreferenceUrl,e,this.options).toPromise().then(function(e){return e.json().data.no_reference}).catch(this.handleError)},CreateService.prototype.getBank=function(){return this.http.get(this.bankUrl,this.options).toPromise().then(function(e){return e.json().data.tipe_bank}).catch(this.handleError)},CreateService.prototype.getProfile=function(e){return this.http.post(this.profileUrl,e,this.options).toPromise().then(function(e){return e.json().data.profile.name}).catch(this.handleError)},CreateService.prototype.handleError=function(e){var t=JSON.parse(e._body),n=(t.meta.code,t.meta.message);if("unauthorized"==n)return alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")},CreateService.prototype.handleErrorFundAdd=function(e){var t=JSON.parse(e._body);return t},CreateService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Http&&o.Http)&&e||Object,"function"==typeof(t="undefined"!=typeof r.Router&&r.Router)&&t||Object])],CreateService);var e,t}();t.CreateService=i},693:function(e,t,n){"use strict";var a=n(0),o=n(87),r=n(50),i=n(690),s=function(){function CreateComponent(e,t,n){this.router=e,this.http=t,this.createService=n,this.statusDataAddFund=0,this.access_token=JSON.parse(localStorage.getItem("access_token")),this.dataNoReferenceProfile={access_token:this.access_token},this.data={access_token:this.access_token,date:"",no_reference:"",nama_lengkap:"",bank_id:0,no_rekening:"",amount:"",nama_bank_lainnya:"",id_bank_masscredit:0}}return CreateComponent.prototype.ngOnInit=function(){this.getProfile(),this.getBank(),this.getNoReference(),this.getBankMasscredit()},CreateComponent.prototype.getBankMasscredit=function(){var e=this;this.createService.getBankMasscredit().then(function(t){e.bankMassCredits=t,e.statusDataAddFund=1})},CreateComponent.prototype.getNoReference=function(){var e=this;this.createService.getNoReference(this.dataNoReferenceProfile).then(function(t){e.data.no_reference=t})},CreateComponent.prototype.getBank=function(){var e=this;this.createService.getBank().then(function(t){e.banks=t})},CreateComponent.prototype.getProfile=function(){var e=this;this.createService.getProfile(this.dataNoReferenceProfile).then(function(t){e.data.nama_lengkap=t})},CreateComponent.prototype.dataFundCreate=function(e){var t=this;e?this.createService.getOtp(this.dataNoReferenceProfile).then(function(n){var a=n.meta.message,o=JSON.stringify(n.meta.code);"4"===o.charAt(0)&&t.handleError(a),"2"===o.charAt(0)&&t.handleSuccess(e)}):alert("Penambahan dana gagal")},CreateComponent.prototype.handleError=function(e){"unauthorized"===e&&this.router.navigate(["/dashboard/sign-out"])},CreateComponent.prototype.handleSuccess=function(e){this.dataCreate=e,this.statusDataFundCreate=1},CreateComponent=__decorate([a.Component({selector:"create",template:n(930)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Router&&r.Router)&&e||Object,"function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object,"function"==typeof(s="undefined"!=typeof i.CreateService&&i.CreateService)&&s||Object])],CreateComponent);var e,t,s}();t.CreateComponent=s},726:function(e,t,n){"use strict";var a=n(0),o=n(50),r=n(87),i=n(153),s=n(62),d=n(693),c=n(730),l=n(728),p=n(690);t.routes=[{path:"",component:d.CreateComponent}];var u=function(){function CreateModule(){}return CreateModule.routes=t.routes,CreateModule=__decorate([a.NgModule({declarations:[d.CreateComponent,c.FormComponent,l.FormConfirmFundComponent],imports:[r.HttpModule,i.FormsModule,s.CommonModule,o.RouterModule.forChild(t.routes)],providers:[p.CreateService]}),__metadata("design:paramtypes",[])],CreateModule)}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},727:function(e,t,n){"use strict";var a=n(0),o=n(50),r=n(87),i=n(690),s=function(){function FormConfirmFundComponent(e,t,n){this.router=e,this.http=t,this.createService=n,this.data={access_token:null,date:"",no_reference:"",nama_lengkap:"",bank_id:0,no_rekening:null,amount:null,nama_bank_lainnya:"",id_bank_masscredit:0,otp:"",password:""},this.statusDataConfirm=1}return FormConfirmFundComponent.prototype.ngOnInit=function(){jQuery("#FormConfirm").modal({backdrop:"static",keyboard:!1}),this.data.access_token=this.dataFund.access_token,this.data.date=this.dataFund.date,this.data.no_reference=this.dataFund.no_reference,this.data.nama_lengkap=this.dataFund.nama_lengkap,this.data.bank_id=this.dataFund.bank_id,this.data.no_rekening=this.dataFund.no_rekening,this.data.amount=this.dataFund.amount,this.data.nama_bank_lainnya=this.dataFund.nama_bank_lainnya,this.data.id_bank_masscredit=this.dataFund.id_bank_masscredit},FormConfirmFundComponent.prototype.confirmAddFund=function(){if(""!=this.data.otp&&""!=this.data.password){this.loader=!0,jQuery("#createFund").prop("disabled",!0)}else alert("Data tidak valid")},FormConfirmFundComponent.prototype.handleError=function(e){"unauthorized"==e&&(alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")),"Password salah"==e?(alert("Password salah"),this.statusDataConfirm=1):(alert("Verifikasi salah"),this.statusDataConfirm=1)},FormConfirmFundComponent.prototype.handleSuccess=function(){alert("Penambahan berhasil, harap konfirmasi dana."),jQuery("#FormConfirm").modal("toggle"),this.router.navigateByUrl("/dashboard/fund/fund-add")},FormConfirmFundComponent.prototype.cancelAddFund=function(){jQuery("#FormConfirm").modal("toggle"),this.router.navigateByUrl("/dashboard/fund/fund-add")},__decorate([a.Input("dataId"),__metadata("design:type",Object)],FormConfirmFundComponent.prototype,"incomingDataId",void 0),__decorate([a.Input("dataFundCreate"),__metadata("design:type",Object)],FormConfirmFundComponent.prototype,"dataFund",void 0),FormConfirmFundComponent=__decorate([a.Component({selector:"form-confirm-fund",template:n(931),providers:[i.CreateService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Router&&o.Router)&&e||Object,"function"==typeof(t="undefined"!=typeof r.Http&&r.Http)&&t||Object,"function"==typeof(s="undefined"!=typeof i.CreateService&&i.CreateService)&&s||Object])],FormConfirmFundComponent);var e,t,s}();t.FormConfirmFundComponent=s},728:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(727))},729:function(e,t,n){"use strict";var a=n(0),o=n(87),r=n(50),i=n(693),s=n(690),d=function(){function FormComponent(e,t,n,o){this.router=e,this.http=t,this.createService=n,this.createComponent=o,this.data=this.createComponent.data,this.banks=[],this.bankMassCredits=[],this.bank=0,this.idBankMasscredit=0,this.dataFundCreate=new a.EventEmitter}return FormComponent.prototype.ngOnInit=function(){jQuery("#createForm").validate({rules:{bank_name:{required:!0},no_rekening:{required:!0,minlength:10},amount:{required:!0},tujuan_bank:{required:!0}},messages:{bank_name:"Pilih bank.",tujuan_bank:"Pilih bank tujuan.",no_rekening:{required:"Field ini harus diisi.",minlength:"Masukan no rekening yang valid."},amount:"Field ini harus diisi."}}),jQuery("#amount").mask("000000000000"),jQuery("#no_rekening").mask("000000000000000")},FormComponent.prototype.getBankName=function(e){this.createComponent.data.bank_id=e,this.bank=e},FormComponent.prototype.getTujuanBank=function(e){this.createComponent.data.id_bank_masscredit=e,this.idBankMasscredit=e},FormComponent.prototype.cancelFund=function(){return this.router.navigateByUrl("/dashboard/fund")},FormComponent.prototype.createFund=function(){jQuery("#createForm").valid()?(this.loader=!0,this.dataFundCreate.emit(this.data)):alert("Data tidak valid")},__decorate([a.Input("dataBanks"),__metadata("design:type",Object)],FormComponent.prototype,"banks",void 0),__decorate([a.Input("dataBankMasscredits"),__metadata("design:type",Object)],FormComponent.prototype,"bankMassCredits",void 0),__decorate([a.Output(),__metadata("design:type",Object)],FormComponent.prototype,"dataFundCreate",void 0),FormComponent=__decorate([a.Component({selector:"form-add-fund",template:n(932),providers:[s.CreateService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Router&&r.Router)&&e||Object,"function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object,"function"==typeof(d="undefined"!=typeof s.CreateService&&s.CreateService)&&d||Object,"function"==typeof(c="undefined"!=typeof i.CreateComponent&&i.CreateComponent)&&c||Object])],FormComponent);var e,t,d,c}();t.FormComponent=d},730:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(729))},930:function(e,t){e.exports='<div class="box-header" align="center">\n  <h2 class="box-title">Form Tambah Dana</h2>\n</div>\n<div class="box-body">\n  <div align="center" *ngIf="statusDataAddFund == 0"> \n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n  <div *ngIf="statusDataAddFund == 1">\n    <form-add-fund [dataBanks]="banks" [dataBankMasscredits]="bankMassCredits" (dataFundCreate)="dataFundCreate($event)"></form-add-fund>\n    <form-confirm-fund *ngIf="statusDataFundCreate == 1" [dataFundCreate]="dataCreate"></form-confirm-fund>\n  </div>\n</div>'},931:function(e,t){e.exports='<div class="modal fade" id="FormConfirm" style="z-index:9000;">\n  <div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-body">\n    <button type="button" class="close" (click)="cancelComplement()" style="color: #ffffff">&times;</button>\n    <div class="row">\n      <div class="col-md-12">\n        <div class="form-group" align="center">\n          <label><h1>Verifikasi Tambah Dana</h1></label>\n          <div align="center" *ngIf="statusDataConfirm == 0"> \n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n            <span class="sr-only">Loading...</span>\n          </div>\n          <div *ngIf="statusDataConfirm == 1">\n          <form  name="confirmForm" id="confirmForm">\n            <div class="form-group" align="center">\n            <div class="input-group">\n              <input  type="text" placeholder="Otp" class="form-control input-md" name="otp" id="otp" [(ngModel)]="data.otp">\n            </div> \n            <div class="input-group">\n            <br>\n              <input  type="password" placeholder="Password" class="form-control input-md password" name="password" id="password" [(ngModel)]="data.password">\n            </div>\n            </div>\n          </form>\n          </div>\n        </div>\n        <div *ngIf="statusDataConfirm == 1">\n        <div class="form-group">\n        <div class="col-md-6 col-center">\n          <button class="btn btn-default" (click)="cancelAddFund()">Batal</button>\n          <button class="btn btn-red" (click)="confirmAddFund()">Verifikasi <i *ngIf="loader == true" class="fa fa-spinner ld ld-cycle"></i></button>\n        </div>\n        </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n  </div>\n</div>'},932:function(e,t){e.exports='<div class="form-login-register">\n  <form class="form-horizontal clearfix row" name="createForm" id="createForm" #createForm="ngForm">\n    <div class="col-md-12">\n      <fieldset disabled>\n      <div class="form-group">\n        <div class="col-md-12 clearfix">\n          <label>Nominal Referensi :</label>\n          <input type="text" placeholder="Nominal Referensi" class="form-control input-md" name="no_reference" id="no_reference" [(ngModel)]="data.no_reference" disabled>\n        </div>\n       </div>\n      <div class="form-group">\n        <div class="col-md-12 clearfix">\n          <label>Nama Lengkap :</label>\n          <input type="text" placeholder="Nama Lengkap" class="form-control input-md" name="nama_lengkap" id="nama_lengkap" [(ngModel)]="data.nama_lengkap" disabled>\n        </div>\n      </div>\n      </fieldset>\n      <div class="form-group">\n        <div class="col-md-12 clearfix">\n          <span class="required">*</span>\n          <label>Bank :</label>\n          <select class="form-control input-md" name="bank_name" id="bank_name" (change)="getBankName($event.target.value)" [(ngModel)]="data.bank_id">\n            <option value="0" disabled>Pilih Bank</option>\n            <option *ngFor="let bank of banks" [value]="bank.id_tipe_bank">{{ bank.desc_tipe_bank }}</option>\n          </select>\n        </div>\n      <br>\n      </div>\n      <div class="form-group">\n        <div class="col-md-12 clearfix">\n          <div *ngIf="bank == -1">\n            <input type="text" placeholder="Nama Bank" class="form-control input-md" name="other_bank" id="other_bank" [(ngModel)]="data.nama_bank_lainnya">\n          </div>\n        </div>\n      </div>\n      <div class="form-group">\n        <div class="col-md-12 clearfix">\n          <span class="required">*</span>\n          <label>Nomor Rekening :</label>\n          <input type="text" placeholder="Nomor Rekening" class="form-control input-md" name="no_rekening" id="no_rekening" [(ngModel)]="data.no_rekening">\n        </div>\n      </div>\n      <div class="form-group">\n        <div class="col-md-12 clearfix">\n          <span class="required">*</span>\n          <label>Nominal :</label>\n          <input type="text" placeholder="Nominal" class="form-control input-md" name="amount" id="amount" [(ngModel)]="data.amount">\n        </div>\n      </div>\n      <div class="form-group">\n        <div class="col-md-6 clearfix">\n          <span class="required">*</span>\n          <label>Pilih Bank MassCredit :</label>\n          <select class="form-control input-md" name="tujuan_bank" id="tujuan_bank" (change)="getTujuanBank($event.target.value)" [(ngModel)]="data.id_bank_masscredit">\n            <option value="0" disabled>Pilih Bank</option>\n            <option *ngFor="let bankMassCredit of bankMassCredits" [value]="bankMassCredit.id_tipe_bank">{{ bankMassCredit.nama_bank }}</option>\n          </select>\n        </div>\n        <div class="col-md-6 clearfix">  \n          <div *ngIf="idBankMasscredit == 0">\n            <label>No Rekening MassCredit :</label>\n            <fieldset disabled>\n              <input type="text" placeholder="No Rekening Tujuan" class="form-control input-md">\n            </fieldset>\n          </div>\n          <div *ngFor="let bankMassCredit of bankMassCredits">\n            <div *ngIf="idBankMasscredit == bankMassCredit.id_tipe_bank">\n            <label>No Rekening MassCredit :</label>\n            <fieldset disabled>\n              <input type="text" placeholder="No Rekening Tujuan" class="form-control input-md" name="no_rekening_tujuan" id="no_rekening_tujuan" value="{{ bankMassCredit.no_rekening }}">\n            </fieldset>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n  <div class="col-md-12 col-center">\n    <button class="btn-back-fund" (click)="cancelFund()">Batal</button>\n    <button class="btn-submit-fund" name="createFund" id="createFund" type="submit" (click)="createFund()">Tambah <i *ngIf="loader == true" class="fa fa-spinner ld ld-cycle"></i></button>\n  </div>\n</div>'}});