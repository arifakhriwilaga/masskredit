webpackJsonp([22],{787:function(t,e,n){"use strict";var a=n(0),i=n(50),o=n(788),r=function(){function IndexComponent(t,e){this.indexService=t,this.router=e,this.data={access_token:JSON.parse(localStorage.getItem("access_token")),page:1,limit:10},this.dataListInvest=0,this.dataArrayNull=0,this.number=0}return IndexComponent.prototype.ngOnInit=function(){var t=this;this.timer=setTimeout(function(){t.getListInvests()},1500)},IndexComponent.prototype.timedCount=function(){var t=this,e=this.number+=1;return 5==e?(window.clearTimeout(this.timer),this.dataListInvest=1,!1):void(this.timer=setTimeout(function(){t.timedCount()},100))},IndexComponent.prototype.handleError=function(t){"unauthorized"===t&&this.router.navigate(["/dashboard/sign-out"])},IndexComponent.prototype.handleSuccess=function(t){try{this.invest=t.loans,null==t&&(this.dataArrayNull=1);for(var e=0;e<this.invest.length;e++){var n=this.invest[e],a=n.amount,i="assets/img/default_profile.png";""==n.image_profile&&(n.image_profile=i),n.amount=this.delimiter(a)}}finally{this.dataListInvest=1}},IndexComponent.prototype.delimiter=function(t){var e=!1,n=t.toString();n<0&&(e=!0),n=n.replace(".",""),n=n.replace("-","");for(var a="",i=n.length,o=0,r=i;r>0;r--)o+=1,a=o%3==1&&1!=o?n.substr(r-1,1)+"."+a:n.substr(r-1,1)+a;e&&(a="-"+a);var s="Rp.";return s.concat(a)},IndexComponent.prototype.getListInvests=function(){var t=this;this.indexService.getListInvests(this.data).then(function(e){var n=e.meta.message,a=JSON.stringify(e.meta.code),i=e.data;"4"===a.charAt(0)&&t.handleError(n),"2"===a.charAt(0)&&t.handleSuccess(i)})},IndexComponent.prototype.linkCreateInvest=function(){this.indexService.toCreateInvest()},IndexComponent=__decorate([a.Component({selector:"index",template:n(952),providers:[o.IndexService]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.IndexService&&o.IndexService)&&t||Object,"function"==typeof(e="undefined"!=typeof i.Router&&i.Router)&&e||Object])],IndexComponent);var t,e}();e.IndexComponent=r},788:function(t,e,n){"use strict";var a=n(0),i=n(87),o=n(50),r=function(){function IndexService(t,e){this.http=t,this.router=e,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.listInvestUrl="https://masscredit-api.stagingapps.net/user/loan/getlist",this.token=JSON.parse(localStorage.getItem("access_token"))}return IndexService.prototype.getListInvests=function(t){return this.http.post(this.listInvestUrl,t,this.options).toPromise().then(function(t){return t.json()}).catch(this.handleError)},IndexService.prototype.handleError=function(t){var e=JSON.parse(t._body);return e},IndexService.prototype.toCreateInvest=function(){this.router.navigateByUrl("/dashboard/other-user-action/invest/create")},IndexService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(e="undefined"!=typeof o.Router&&o.Router)&&e||Object])],IndexService);var t,e}();e.IndexService=r},789:function(t,e,n){"use strict";var a=n(0),i=n(50),o=n(87),r=n(153),s=n(62),d=n(787);e.routes=[{path:"",component:d.IndexComponent}];var l=function(){function IndexModule(){}return IndexModule.routes=e.routes,IndexModule=__decorate([a.NgModule({declarations:[d.IndexComponent],imports:[o.HttpModule,r.FormsModule,s.CommonModule,r.ReactiveFormsModule,i.RouterModule.forChild(e.routes)],providers:[]}),__metadata("design:paramtypes",[])],IndexModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=l},952:function(t,e){t.exports='<div class="box-header" align="center">\n  <h2 class="box-title">List Pinjaman</h2>\n</div>\n<div class="box-body">\n  <div  *ngIf="dataListInvest == 1">\n    <div class="col-xs-12" align="right">\n      <button class="btn-add" (click)="linkCreateInvest()">\n        Tambah\n      </button>\n    </div>\n    <div class="col-xs-12">\n    <div class="tab-content ">\n      <br>\n      <div role="tabpanel" class="tab-pane active" id="investasi">\n      <div class="box-body data-tables table-responsive">\n        <table class="table table-hover" id="example2">\n          <thead>\n            <tr>\n              <th>No.</th>\n              <th>Investor</th>\n              <th>Nama Investor</th>\n              <th>Nilai</th>\n              <th>Tipe</th>\n              <th>Nominal Investasi</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngIf="dataArrayNull == 1">\n              <td colspan="5" align="center">Data belum tersedia</td>\n            </tr>\n            <tr *ngFor="let data of invest; let i = \'index\'">\n              <td>{{ i + 1 }}</td>\n              <td align="left"><img src="{{ data.image_profile }}" alt="Profile Investor" style="border-radius: 80px;width:55px;height:55px"></td>\n              <td>{{ data.nama_investor }}</td>\n              <td>\n                Investor: {{ data.user_score_investor }} <br>\n                Salary: {{ data.user_class }} <br>\n                Credit: {{ data.user_score_credit }}\n              </td>\n              <td>{{ data.type_invest }}</td>\n              <td>{{ data.amount }}</td>\n              <td>\n                <button class="pull-right" [routerLink]="[\'/dashboard/other-user-action/invest/detail\', data.id]"><i aria-hidden="true" class="fa fa-info-circle"></i></button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>  \n      <nav aria-label="Page navigation" *ngIf="total_pagination > 1">\n        <ul class="pagination">\n         <!--  <li>\n            <a href="#" aria-label="Previous">\n              <span aria-hidden="true">&laquo;</span>\n            </a>\n          </li> -->\n          <!-- <li *ngFor="let a of array_total"><a href="#/dashboard/fund" id="a" (click)="linkTo(a)">{{ a }}</a></li> -->\n          <!-- <li>\n            <a href="#" aria-label="Next">\n              <span aria-hidden="true">&raquo;</span>\n            </a>\n          </li> -->\n        </ul>\n      </nav>      \n      </div>\n    </div>\n    </div>\n  </div>\n  <br>\n  <div align="center" *ngIf="dataListInvest == 0"> \n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n</div>'}});