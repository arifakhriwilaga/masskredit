webpackJsonp([11],{707:function(t,n,o){"use strict";var a=o(0),e=o(109),s=o(62),r=function(){function LoanNotBeenApprovedComponent(t,n,o){this.http=t,this.router=n,this.activatedRoute=o,this.headers=new e.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new e.RequestOptions({headers:this.headers}),this.access_token=JSON.parse(localStorage.getItem("access_token")),this.data_borrower={access_token:this.access_token,borrower_id:""},this.otp={access_token:this.access_token},this.dataDetailBorrower=0,this.data={},this.dataApprove={access_token:this.access_token,borrower_id:null,invest_id:null,approval_status:null,password:null},this.dataSalary={},this.dataBorrowerAmount={},this.dataApproveBorrower=0,this.otpUrl="https://masscredit-api.stagingapps.net/user/investment/approval-otp",this.dataConfirm=0}return LoanNotBeenApprovedComponent.prototype.ngOnInit=function(){var t=this;this.activatedRoute.params.subscribe(function(n){var o=n.id;t.data_borrower.borrower_id=o,t.dataApprove.borrower_id=o});this.http.post("https://masscredit-api.stagingapps.net/user/borrower/detail",this.data_borrower,this.options).map(function(t){return t.json()}).subscribe(function(n){t.data=n.data,t.dataApprove.invest_id=n.data.invest_id,t.dataSalary=n.data.amount,t.dataBorrowerAmount=n.data.borrower_amount,t.delimiterSalary(t.dataSalary)})},LoanNotBeenApprovedComponent.prototype.approveInvest=function(){this.dataApprove.approval_status=1,this.dataApproveBorrower=1},LoanNotBeenApprovedComponent.prototype.rejectInvest=function(){this.dataApprove.approval_status=0,this.dataApproveBorrower=1},LoanNotBeenApprovedComponent.prototype.sendDataApprove=function(){var t=this;console.log(this.dataApprove),this.http.post("https://masscredit-api.stagingapps.net/user/investment/approve",this.dataApprove,this.options).map(function(t){return t.json()}).subscribe(function(n){var o=n.meta.code;"200"==o&&(alert("Investasi berhasil"),t.router.navigateByUrl("/dashboard/user-action/user-invest"))},function(t){var n=JSON.parse(t._body),o=(n.meta.code,n.meta.message);"Password salah!"==o&&alert("Password salah!")})},LoanNotBeenApprovedComponent.prototype.delimiterSalary=function(t){try{var n=!1,o=t.toString();o<0&&(n=!0),o=o.replace(".",""),o=o.replace("-","");for(var a="",e=o.length,s=0,r=e;r>0;r--)s+=1,a=s%3==1&&1!=s?o.substr(r-1,1)+"."+a:o.substr(r-1,1)+a;n&&(a="-"+a);var i="Rp.";this.dataSalary=i.concat(a)}finally{this.delimiterBorrowerAmount(this.dataBorrowerAmount)}},LoanNotBeenApprovedComponent.prototype.delimiterBorrowerAmount=function(t){try{var n=!1,o=t.toString();o<0&&(n=!0),o=o.replace(".",""),o=o.replace("-","");for(var a="",e=o.length,s=0,r=e;r>0;r--)s+=1,a=s%3==1&&1!=s?o.substr(r-1,1)+"."+a:o.substr(r-1,1)+a;n&&(a="-"+a);var i="Rp.";this.dataBorrowerAmount=i.concat(a)}finally{return this.dataDetailBorrower=1,!0}},LoanNotBeenApprovedComponent.prototype.getOtp=function(){var t=this;this.http.post(this.otpUrl,this.otp,this.options).map(function(t){return t.json()}).subscribe(function(n){var o=n.meta.code;"200"==o&&(alert("Investasi berhasil"),t.router.navigateByUrl("/dashboard/user-action/user-invest"))},function(t){var n=JSON.parse(t._body),o=(n.meta.code,n.meta.message);"Password salah!"==o&&alert("Password salah!")})},LoanNotBeenApprovedComponent=__decorate([a.Component({selector:"loan-not-been-approved",template:o(938)}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof e.Http&&e.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof s.Router&&s.Router)&&n||Object,"function"==typeof(r="undefined"!=typeof s.ActivatedRoute&&s.ActivatedRoute)&&r||Object])],LoanNotBeenApprovedComponent);var t,n,r}();n.LoanNotBeenApprovedComponent=r},849:function(t,n,o){"use strict";var a=o(0),e=o(62),s=o(109),r=o(154),i=o(73),d=o(707),l=o(850);n.routes=[{path:"",component:d.LoanNotBeenApprovedComponent}];var p=function(){function LoanNotBeenApprovedModule(){}return LoanNotBeenApprovedModule.routes=n.routes,LoanNotBeenApprovedModule=__decorate([a.NgModule({declarations:[d.LoanNotBeenApprovedComponent,l.VerifyComponent],imports:[s.HttpModule,r.FormsModule,i.CommonModule,e.RouterModule.forChild(n.routes)],providers:[]}),__metadata("design:paramtypes",[])],LoanNotBeenApprovedModule)}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=p},850:function(t,n,o){"use strict";function __export(t){for(var o in t)n.hasOwnProperty(o)||(n[o]=t[o])}__export(o(851))},851:function(t,n,o){"use strict";var a=o(0),e=o(62),s=o(707),r=function(){function VerifyComponent(t,n){this.dataApprove=t,this.router=n,this.invest=this.dataApprove.dataApprove,this.approvalStatus=this.dataApprove.dataApprove.approval_status}return VerifyComponent.prototype.ngOnInit=function(){jQuery("#confirmInvestForm").validate({rules:{password:{required:!0}}})},VerifyComponent.prototype.cancelConfirmInvest=function(){this.router.navigateByUrl("/dashboard/user-action/user-invest")},VerifyComponent.prototype.confirmInvest=function(){jQuery("#confirmInvestForm").valid()?1==this.approvalStatus?this.dataApprove.sendDataApprove():this.dataApprove.sendDataApprove():alert("Harap masukan password")},VerifyComponent=__decorate([a.Component({selector:"verify",template:o(939)}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof s.LoanNotBeenApprovedComponent&&s.LoanNotBeenApprovedComponent)&&t||Object,"function"==typeof(n="undefined"!=typeof e.Router&&e.Router)&&n||Object])],VerifyComponent);var t,n}();n.VerifyComponent=r},938:function(t,n){t.exports='<section class="content">\n<div *ngIf="dataDetailBorrower == 0">\n<div class="row">\n  <div align="center"> \n    <br><br><br><br><br>\n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n</div>\n</div>\n  <div *ngIf="dataApproveBorrower == 1">\n    <!-- component password -->\n    <verify></verify>\n  </div>\n<div *ngIf="dataDetailBorrower == 1">\n  <div *ngIf="dataApproveBorrower == 0">\n    <div class="col-xs-12" align="center">\n      <div class="row" >\n        <label><h2 style="font-size: 24px;color: orange;">Detail Peminjam</h2></label>\n      </div>\n    </div>\n    <div class="col-md-4">\n       <div class="row">\n          <div class="box box-solid radius-10" style="border: 2px">\n            <div class="form-group">\n                <img src="" alt="Foto Diri Peminjam" class="thumbnail" width="250px" height="250px">\n            </div>\n          </div>\n      </div>\n    </div>\n    <div class="col-md-7">\n      <div class="row">\n          <div class="box box-solid radius-10" style="border: 2px">\n            <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Nama Lengkap</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" placeholder="Nama Lengkap" class="form-control input-md" name="full_name" id="full_name" value="{{ data.borrower_name }}" disabled>\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Borrower</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" placeholder="Borrower" class="form-control input-md" name="borrower" id="borrower" value="{{ data.borrower}}" disabled>\n              </div>\n           </div>\n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Credit</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" placeholder="Credit" class="form-control input-md" name="credit" id="credit" value="{{ data.fund_history }}" disabled>\n              </div>\n           </div>\n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Salary</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" placeholder="Salary" class="form-control input-md" name="salary" id="salary" value="{{ dataSalary }}" disabled>\n              </div>\n           </div>\n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Review</label>\n              </div>\n              <div class="col-xs-7">\n                <div class="unit">\n                    <!-- <i class="fa fa-star-half-full full" area-hidden="true"></i> -->\n                    <i class="fa fa-star null" aria-hidden="true" style="font-size: 24px;color: orange"></i>\n                    <i class="fa fa-star null" aria-hidden="true" style="font-size: 24px;color: orange"></i>\n                    <i class="fa fa-star null" aria-hidden="true" style="font-size: 24px;color: orange"></i>\n                    <i class="fa fa-star null" aria-hidden="true" style="font-size: 24px; color: orange"></i>\n                    <i class="fa fa-star null" aria-hidden="true" style="font-size: 24px;color: orange"></i>\n                    <!-- <span class="bs-glyphicons-list">\n                    <span class="glyphicon glyphicon-star star-color star-full"></span>\n                    <span class="glyphicon glyphicon-star star-color font half"></span>\n                    </span> -->\n                    <span>({{ data.avg_reviews }} %)</span>\n                    <!-- <span>(12.000 user)</span> -->\n                </div>\n              </div>\n           </div>\n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Jumlah Pinjaman</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" placeholder="Nilai Pinjaman" class="form-control input-md" name="nilai_pinjaman" id="nilai_pinjaman" value="{{ dataBorrowerAmount }}" disabled>\n              </div>\n           </div>\n          </div>\n      </div>\n    </div>\n    <div class="col-md-12">\n       <div class="form-group">\n          <div class="col-md-6 col-center">\n            <button class="btn btn-default" (click)="rejectInvest()">Tolak</button>\n            <button class="btn btn-red" (click)="approveInvest()">Setuju</button>\n          </div>\n       </div>\n    </div>\n  </div>\n</div>\n</section>'},939:function(t,n){t.exports='\n<div class="modal fade" id="modalFormConfirm" style="z-index:9000;">\n<div class="modal-dialog">\n  <div class="modal-content">\n  <div class="modal-body">\n    <!-- <button type="button" class="close" style="color: #ffffff">&times;</button> -->\n      <div class="row">\n        <div class="col-md-12">\n        <div class="form-group" align="center">\n          <label>\n            <h2 style="font-size: 24px;color: orange;">Konfirmasi Investasi</h2>\n          </label>\n          <div align="center" *ngIf="dataConfirm == 0"> \n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n            <span class="sr-only">Loading...</span>\n          </div>\n          <div *ngIf="dataConfirm == 1">\n            <div class="row">\n              <div class="input-group" align="center">\n\t\t\t\t\t\t\t<form name="confirmInvestForm" id="confirmInvestForm">\n\t\t\t\t\t\t    <div class="form-group">\n\t\t\t\t\t        <input type="password" name="password" placeholder="Password" class="form-control input-md" id="password" [(ngModel)]="invest.password">\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t  \t</form>\n\t\t\t\t\t    <div class="form-group">\n\t\t\t          <button class="btn btn-default" (click)="cancelConfirmInvest()">Batal</button>\n\t\t\t          <button class="btn btn-red" (click)="confirmInvest(invest)"style="background-color: #e74c3c;">\n\t\t\t          \t<font style="color:white">Verifikasi</font>\n\t\t\t          </button> \n\t\t\t\t\t    </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="form-group">\n        <div class="col-md-6 col-center">\n          <button href="#/dashboard/fund/fund-withdrawal" class="btn btn-default" (click)="cancelConfirmInvest()">Batal</button>\n          <button class="btn btn-red" (click)="submitConfirmInvest(data)">Konfirmasi</button>\n        </div>\n        </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</div>'}});