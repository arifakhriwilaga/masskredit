webpackJsonp([8],{693:function(t,n,e){"use strict";var a=e(0),i=e(87),o=e(50),r=function(){function IndexService(t,n){this.http=t,this.router=n,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.listFundUrl="https://masscredit-api.stagingapps.net/user/fund/get-list"}return IndexService.prototype.getFunds=function(t){return this.http.post(this.listFundUrl,t,this.options).toPromise().then(function(t){return t.json()}).catch(this.handleError)},IndexService.prototype.handleError=function(t){var n=JSON.parse(t._body);return n},IndexService.prototype.toCreateAdd=function(){this.router.navigateByUrl("/dashboard/fund/fund-add/create")},IndexService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof o.Router&&o.Router)&&n||Object])],IndexService);var t,n}();n.IndexService=r},726:function(t,n,e){"use strict";var a=e(0),i=e(87),o=e(50),r=e(693),s=function(){function IndexComponent(t,n,e){this.http=t,this.indexService=n,this.router=e,this.access_token={access_token:this.access_token},this.acces_token=JSON.parse(localStorage.getItem("access_token")),this.current_page=null,this.pages=[],this.per_page=null,this.totalPages=null,this.limit=3,this.page=1,this.dataListFund={access_token:this.acces_token,page:this.page,limit:this.limit},this.dataFundsNull=0,this.statusDataFunds=0,this.data={access_token:this.acces_token,fund_id:null,struct_image:null,confirm_date:null}}return IndexComponent.prototype.ngOnInit=function(){this.getListFunds()},IndexComponent.prototype.linkCreateFund=function(){this.indexService.toCreateAdd()},IndexComponent.prototype.getListFunds=function(){var t=this;this.indexService.getFunds(this.dataListFund).then(function(n){try{var e=n.meta.message,a=JSON.stringify(n.meta.code),i=n.data.fund,o=n.data.paging;0==i.length&&(t.dataFundsNull=1),"4"===a.charAt(0)&&t.handleError(e),"2"===a.charAt(0)&&t.handleSuccess(i,o)}finally{t.statusDataFunds=1}})},IndexComponent.prototype.handleError=function(t){"unauthorized"===t&&(alert("Maaf akses token tidak terdaftar"),this.router.navigate(["/dashboard/sign-out"]))},IndexComponent.prototype.handleSuccess=function(t,n){this.delimiter(t),this.currentPage=n.current_page,this.totalPages=n.total/n.per_page;for(var e=1;e<=this.totalPages;e++)this.pages.push(e)},IndexComponent.prototype.delimiter=function(t){try{for(var n=0;n<t.length;n++){var e=t[n],a=e.amount,i=e.confirm_date;""===i&&(e.confirm_date="-");var o=!1,r=a.toString();r<0&&(o=!0),r=r.replace(".",""),r=r.replace("-","");for(var s="",d=r.length,l=0,c=d;c>0;c--)l+=1,s=l%3==1&&1!=l?r.substr(c-1,1)+"."+s:r.substr(c-1,1)+s;o&&(s="-"+s);var u="Rp.";e.amount=u.concat(s)}}finally{this.funds=t}},IndexComponent.prototype.linkTo=function(t,n){var e=this;0===n&&1===this.currentPage||n===-1&&1===this.currentPage||n===-2&&this.currentPage===this.totalPages||n===-3&&this.currentPage===this.totalPages||this.currentPage!==t&&(this.dataListFund.page=t,this.indexService.getFunds(this.dataListFund).then(function(n){try{var a=n.meta.message,i=JSON.stringify(n.meta.code),o=n.data.fund,r=n.data.paging;"4"===i.charAt(0)&&e.handleError(a),"2"===i.charAt(0)&&(e.currentPage=r.current_page,e.delimiter(o))}finally{console.log(e.currentPage,t),e.statusDataFunds=1}}))},IndexComponent.prototype.showFormConfirm=function(t){this.statusFormConfirm=1,this.fundId=t},IndexComponent.prototype.hideDetailConfirm=function(t){this.statusFormConfirm=t},IndexComponent.prototype.showDetailFund=function(t){this.fundId=t,this.statusDetailFund=1},IndexComponent.prototype.hideDetailFund=function(t){this.statusDetailFund=t},IndexComponent=__decorate([a.Component({selector:"index",template:e(923)}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof r.IndexService&&r.IndexService)&&n||Object,"function"==typeof(s="undefined"!=typeof o.Router&&o.Router)&&s||Object])],IndexComponent);var t,n,s}();n.IndexComponent=s},727:function(t,n,e){"use strict";var a=e(0),i=e(50),o=e(87),r=e(153),s=e(72),d=e(726),l=e(735),c=e(730),u=e(731),p=e(693);n.routes=[{path:"",component:d.IndexComponent}];var m=function(){function IndexModule(){}return IndexModule.routes=n.routes,IndexModule=__decorate([a.NgModule({declarations:[d.IndexComponent,l.DetailComponent,c.FormConfirmComponent,u.StructComponent],imports:[o.HttpModule,r.FormsModule,s.CommonModule,i.RouterModule.forChild(n.routes)],providers:[p.IndexService]}),__metadata("design:paramtypes",[])],IndexModule)}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=m},728:function(t,n,e){"use strict";var a=e(0),i=e(729),o=function(){function FormConfirmComponent(t){this.confirmService=t,this.statusConfirm=1,this.data={access_token:JSON.parse(localStorage.getItem("access_token")),fund_id:null,struct_image:"",confirm_date:""},this.hideFormConfirm=new a.EventEmitter}return FormConfirmComponent.prototype.hideDetailDana=function(){jQuery("#FormConfirm").modal("toggle")},FormConfirmComponent.prototype.ngOnInit=function(){if(null!=this.dataFundId)try{this.data.fund_id=this.dataFundId}finally{jQuery("#FormConfirm").modal({backdrop:"static",keyboard:!1})}},FormConfirmComponent.prototype.cancelConfirm=function(){jQuery("#FormConfirm").modal("toggle"),this.hideFormConfirm.emit(0)},FormConfirmComponent.prototype.submitConfirm=function(){if(jQuery("#StructForm").valid()){this.statusConfirm=0;var t=document.getElementById("struct_image");this.encodeImage(t)}else alert("Data tidak valid")},FormConfirmComponent.prototype.readImage=function(t){var n=new FileReader;return n.readAsDataURL(t),n},FormConfirmComponent.prototype.encodeImage=function(t){var n=t.files[0],e=new Uint8Array([1,2,3]),a=e.buffer,i=new Blob([a]);void 0==n&&(n=i),this.readImage(n).onload=function(t,n){try{var e=t.target.result.split(",")[1];"AQID"==e&&(this.data.struct_image=null),"AQID"!=e&&(this.data.struct_image=e)}finally{this.confirmFund()}}.bind(this)},FormConfirmComponent.prototype.confirmFund=function(){var t=this;this.confirmService.postConfirm(this.data).then(function(n){alert("Penambahan berhasil, harap menunggu konfirmasi admin"),t.cancelConfirm()})},__decorate([a.Input(),__metadata("design:type",Number)],FormConfirmComponent.prototype,"dataFundId",void 0),__decorate([a.Output(),__metadata("design:type",Object)],FormConfirmComponent.prototype,"hideFormConfirm",void 0),FormConfirmComponent=__decorate([a.Component({selector:"form-confirm",template:e(924),providers:[i.ConfirmService]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.ConfirmService&&i.ConfirmService)&&t||Object])],FormConfirmComponent);var t}();n.FormConfirmComponent=o},729:function(t,n,e){"use strict";var a=e(0),i=e(87),o=e(50),r=function(){function ConfirmService(t,n){this.http=t,this.router=n,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.confirmFundUrl="https://masscredit-api.stagingapps.net/user/fund/confirm"}return ConfirmService.prototype.postConfirm=function(t){return this.http.post(this.confirmFundUrl,t,this.options).toPromise().then(function(t){return t.json().meta.message}).catch(this.handleError)},ConfirmService.prototype.handleError=function(t){var n=JSON.parse(t._body),e=(n.meta.code,n.meta.message);if("unauthorized"==e)return alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")},ConfirmService.prototype.toCreateAdd=function(){this.router.navigateByUrl("/dashboard/fund/fund-add/create")},ConfirmService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof o.Router&&o.Router)&&n||Object])],ConfirmService);var t,n}();n.ConfirmService=r},730:function(t,n,e){"use strict";function __export(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}__export(e(728))},731:function(t,n,e){"use strict";function __export(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}__export(e(732))},732:function(t,n,e){"use strict";var a=e(0),i=function(){function StructComponent(){}return StructComponent.prototype.ngOnInit=function(){jQuery("#StructForm").validate({rules:{struct_image:{required:!0}}})},StructComponent.prototype.MyChange=function(t){console.log(t.srcElement.value)},StructComponent=__decorate([a.Component({selector:"struct",template:e(925)}),__metadata("design:paramtypes",[])],StructComponent)}();n.StructComponent=i},733:function(t,n,e){"use strict";var a=e(0),i=e(734),o=function(){function DetailComponent(t){this.detailService=t,this.dataDetailFund={access_token:JSON.parse(localStorage.getItem("access_token")),fund_id:null},this.statusDataFund=0,this.dataAmount={},this.bank={},this.hideFormDetail=new a.EventEmitter}return DetailComponent.prototype.ngOnInit=function(){jQuery("#FormDetail").modal({backdrop:"static",keyboard:!1}),null!=this.dataFundId&&(this.dataDetailFund.fund_id=this.dataFundId,null!=this.dataDetailFund.fund_id&&this.getFund())},DetailComponent.prototype.getFund=function(){var t=this;this.detailService.getFund(this.dataDetailFund).then(function(n){var e=n.bank;1==e&&(t.bank="BCA"),2==e&&(t.bank="Mandiri"),3==e&&(t.bank="Danamon"),4==e&&(t.bank="Sinarmas"),5==e&&(t.bank="BNI"),6==e&&(t.bank="Niaga"),"undefined"==e&&(t.bank=""),e==-1&&(t.bank="Lainnya"),t.delimiter(n.amount),t.fund=n})},DetailComponent.prototype.delimiter=function(t){try{var n=!1,e=t.toString();e<0&&(n=!0),e=e.replace(".",""),e=e.replace("-","");for(var a="",i=e.length,o=0,r=i;r>0;r--)o+=1,a=o%3==1&&1!=o?e.substr(r-1,1)+"."+a:e.substr(r-1,1)+a;n&&(a="-"+a);var s="Rp.";this.dataAmount=s.concat(a)}finally{this.statusDataFund=1}},DetailComponent.prototype.hideDetailFund=function(){jQuery("#FormDetail").modal("toggle"),this.hideFormDetail.emit(0)},__decorate([a.Input(),__metadata("design:type",Number)],DetailComponent.prototype,"dataFundId",void 0),__decorate([a.Output(),__metadata("design:type",Object)],DetailComponent.prototype,"hideFormDetail",void 0),DetailComponent=__decorate([a.Component({selector:"detail",template:e(926),providers:[i.DetailService]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.DetailService&&i.DetailService)&&t||Object])],DetailComponent);var t}();n.DetailComponent=o},734:function(t,n,e){"use strict";var a=e(0),i=e(87),o=e(50),r=function(){function DetailService(t,n){this.http=t,this.router=n,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.fundUrl="https://masscredit-api.stagingapps.net/user/fund/get-detail"}return DetailService.prototype.getFund=function(t){return this.http.post(this.fundUrl,t,this.options).toPromise().then(function(t){return t.json().data}).catch(this.handleError)},DetailService.prototype.handleError=function(t){var n=JSON.parse(t._body),e=(n.meta.code,n.meta.message);if("unauthorized"==e)return alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")},DetailService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof o.Router&&o.Router)&&n||Object])],DetailService);var t,n}();n.DetailService=r},735:function(t,n,e){"use strict";function __export(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}__export(e(733))},923:function(t,n){t.exports='<div class="box-header" align="center">\n  <h2 class="box-title">List Tambah Dana</h2>\n</div>\n<div class="box-body">\n  <div *ngIf="statusDataFunds == 1">\n    <div class="col-xs-12" align="right">\n      <button class="add-advance-search" (click)="linkCreateFund()">\n        Tambah\n      </button>\n    </div>\n    <div class="col-xs-12">\n    <div class="tab-content ">\n      <br>\n      <div role="tabpanel" class="tab-pane active" id="investasi">\n      <div class="box-body data-tables table-responsive">\n        <table class="table table-hover" id="example2">\n          <thead>\n            <tr>\n              <th>No.</th>\n              <th>Nomor Referensi</th>\n              <th>Nominal Rp</th>\n              <th>Tanggal Konfirmasi</th>\n              <th>Status</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngIf="dataFundsNull == 1">\n              <td colspan="5" align="center">Data belum tersedia</td>\n            </tr>\n            <tr *ngFor="let data of funds; let i=\'index\'">\n              <td>{{ i+currentPage }}</td>\n              <td>{{ data.no_reference }}</td>\n              <td>{{ data.amount }}</td>\n              <td>{{ data.confirm_date }}</td>\n              <td>{{ data.status }}</td>\n              <td>\n                <button *ngIf="data.status != \'Disetujui\'" class="pull-right" (click)="showFormConfirm(data.id)">Konfimasi</button>\n                <button class="pull-right" (click)="showDetailFund(data.id)"><i aria-hidden="true" class="fa fa-search"></i></button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>  \n      <nav aria-label="Page navigation">\n        <ul class="pagination">\n          <li [ngClass]="{disabled:currentPage === 1}"><a href="#/dashboard/fund/fund-add/index" (click)="linkTo(1,-1)">First</a></li>\n          <li [ngClass]="{disabled:currentPage === 1}">\n              <a (click)="linkTo(currentPage-1,0)">Previous</a>\n          </li>\n          <li *ngFor="let data of pages"><a href="#/dashboard/fund/fund-add/index" (click)="linkTo(data)">{{ data }}</a></li>\n          <li [ngClass]="{disabled:currentPage === totalPages}">\n              <a (click)="linkTo(currentPage+1,-2)">Next</a>\n          </li>\n          <li id="" [ngClass]="{disabled:currentPage === totalPages}">\n              <a (click)="linkTo(totalPages,-3)">Last</a>\n          </li>\n        </ul>\n      </nav>\n      </div>\n      </div>\n    </div>\n  </div>\n  <div align="center" *ngIf="statusDataFunds == 0"> \n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n  \n  <!-- component for detail fund -->\n  <detail *ngIf="statusDetailFund == 1" [dataFundId]="fundId" (hideFormDetail)="hideDetailFund($event)"></detail>\n\n  <!-- component for confirm fund -->\n  <form-confirm *ngIf="statusFormConfirm == 1" [dataFundId]="fundId" (hideFormConfirm)="hideDetailConfirm($event)"></form-confirm>\n</div>'},924:function(t,n){t.exports='<div class="modal fade" id="FormConfirm" name="FormConfirm" tabindex="-1">\n  <div class="modal-dialog">\n    <!-- Modal content-->\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" (click)="cancelConfirm()">&times;</button>\n        <h4 class="modal-title">Konfirmasi Dana</h4>\n      </div>\n      <div class="modal-body">\n      <div  *ngIf="statusConfirm == 0">\n        <div class="row">\n          <div align="center"> \n            <br><br><br><br><br>\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n            <span class="sr-only">Loading...</span>\n          </div>\n        </div>\n      </div>\n      <div  *ngIf="statusConfirm == 1">\n        <struct></struct>\n      </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" style="background-color: #c0392b;color: white" (click)="cancelConfirm()">Batal</button>\n        <button type="button" class="btn btn-red" (click)="submitConfirm()">Konfirmasi</button>\n      </div>\n    </div>\n  </div>\n</div>'},925:function(t,n){t.exports='<div class="row">\n  <div class="col-md-12">\n  <form id="StructForm" name="StructForm">\n    <div class="form-group" align="center">\n    <label><h1>Foto Struk Transfer</h1></label>\n    <div class="form-group">\n      <div class="col-md-12">\n          <input type="file" name="struct_image" id="struct_image" (change)="MyChange($event)">\n      </div>\n    </div> \n    </div>\n  </form>\n  </div>\n</div>'},926:function(t,n){t.exports='<!-- Modal -->\n<div class="modal fade" id="FormDetail" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <!-- Modal content-->\n    <div class="modal-content">\n      <div class="modal-header" align="center">\n        <button type="button" class="close" (click)="hideDetailFund()">&times;</button>\n        <h3 class="modal-title">Detail Penambahan</h3>\n      </div>\n      <div class="modal-body">\n      <div *ngIf="statusDataFund == 0">\n        <div class="row">\n          <div align="center"> \n          <br>\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n            <span class="sr-only">Loading...</span>\n          </div>\n        </div>\n      </div>\n      <div  *ngIf="statusDataFund == 1">\n        <div class="row">\n          <div class="col-md-12">\n            <div class="col-xs-6">\n              <div class="form-group">\n                <div class="col-xs-5">\n                  <label class="unit">No Referensi</label>\n                </div>\n                <div class="col-xs-7">\n                  <input type="text" placeholder="No Referensi" class="form-control input-md" name="no_reference" id="no_reference" value="{{ fund.no_reference }}" disabled>\n                </div>\n              </div>\n              <div class="form-group">\n                <div class="col-xs-5">\n                  <label class="unit">Nama Lengkap</label>\n                </div>\n                <div class="col-xs-7">\n                  <input type="text" placeholder="Nama Lengkap" class="form-control input-md" name="nama_lengkap" id="nama_lengkap" value="{{ fund.nama_lengkap }}" disabled>\n                </div>\n             </div>\n             <div class="form-group">\n                <div class="col-xs-5">\n                  <label class="unit">Nama Bank</label>\n                </div>\n                <div class="col-xs-7">\n                  <input type="text" placeholder="Nama Bank" class="form-control input-md"  name="bank_name" id="bank_name" value="{{ bank }}" disabled>\n                </div>\n             </div>\n             <div class="form-group">\n                <div class="col-xs-5">\n                  <label class="unit">Tanggal</label>\n                </div>\n                <div class="col-xs-7">\n                    <input  type="text" placeholder="Tanggal" name="date" class="form-control input-md datepicker" id="date" value="{{ fund.date }}" disabled>\n                </div>\n             </div>\n            </div>\n            <div class="col-xs-6">\n              <div class="form-group">\n                <div class="col-xs-5">\n                  <label class="unit">Nominal</label>\n                </div>\n                <div class="col-xs-7">\n                   <input type="text" placeholder="Nominal" class="form-control input-md" name="amount" id="amount" value="{{ dataAmount }}" disabled>\n                </div>\n              </div>\n              <div class="form-group">\n                <div class="col-xs-5">\n                  <label class="unit">Tanggal Transfer</label>\n                </div>\n                <div class="col-xs-7">\n                  <input type="text" placeholder="Tanggal Transfer" class="form-control input-md" name="tanggal_transfer" id="tanggal_transfer" value="{{ fund.date }}" disabled>\n                </div>\n              </div> \n              <div class="form-group" align="center">\n                <div class="col-xs-9">\n                  <label class="unit">Bukti Transfer</label><br>\n                  <img src="{{ fund.images }}" alt="Bukti Transfer" disabled>\n                </div>\n              </div>\n            </div> \n          </div>\n        </div>\n      </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" (click)="hideDetailFund()">Close</button>\n      </div>\n    </div>\n  </div>\n</div>'}});