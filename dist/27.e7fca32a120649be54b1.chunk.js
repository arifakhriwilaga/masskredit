webpackJsonp([27],{716:function(e,s,t){"use strict";var r=t(0),o=t(87),n=t(50),a=t(153),i=t(717);s.routes=[{path:"",component:i.NewPasswordComponent}];var d=function(){function StepRegisterModule(){}return StepRegisterModule.routes=s.routes,StepRegisterModule=__decorate([r.NgModule({declarations:[i.NewPasswordComponent],imports:[o.HttpModule,a.FormsModule,n.RouterModule.forChild(s.routes)],providers:[]}),__metadata("design:paramtypes",[])],StepRegisterModule)}();Object.defineProperty(s,"__esModule",{value:!0}),s.default=d},717:function(e,s,t){"use strict";var r=t(0),o=t(50),n=t(87),a=t(718),i=function(){function NewPasswordComponent(e,s,t,r){this.newPasswordService=e,this.router=s,this.http=t,this.activatedRoute=r,this.user={new_password:null,confirm_new_password:null,reset_token:null},this.cancelUrl="#/home"}return NewPasswordComponent.prototype.ngOnInit=function(){var e=this;this.activatedRoute.params.subscribe(function(s){var t=s.token;e.user.reset_token=t});jQuery("#ResetForm").validate({rules:{new_password:{required:!0,minlength:8,matchConfirm:!0},confirm_new_password:{required:!0,minlength:8,match:!0}},messages:{new_password:{required:"Data dibutuhkan",minlength:"Password terlalu pendek"},confirm_new_password:{required:"Data dibutuhkan",match:"Password tidak sama",minlength:"Password terlalu pendek"}}}),this.regex()},NewPasswordComponent.prototype.regex=function(){jQuery.validator.addMethod("match",function(e,s){var t=e,r=jQuery("#new_password").val();return t==r||this.optional(s)},"Data input salah."),jQuery.validator.addMethod("matchConfirm",function(e){var s=(jQuery("#confirm_new_password").get(),e),t=jQuery("#confirm_new_password").val();return t==s?jQuery("#confirm_new_password").valid():""==t||t==s||jQuery("#confirm_new_password").valid("false")},null)},NewPasswordComponent.prototype.submitResetPassword=function(e){var s=this;jQuery("#ResetForm").valid()?this.newPasswordService.resetPassword(this.user).then(function(e){var t=e.meta.message,r=JSON.stringify(e.meta.code),o=e.meta.message;"5"==r.charAt(0)&&s.handleError(t),"2"==r.charAt(0)&&s.handleSuccess(o)}):alert("Data tidak valid")},NewPasswordComponent.prototype.handleError=function(e){"Password dan Confirm Password tidak sama"==e&&alert("Password dan Confirm Password tidak sama")},NewPasswordComponent.prototype.handleSuccess=function(e){alert("Password berhasil diubah."),this.router.navigateByUrl("/home")},NewPasswordComponent=__decorate([r.Component({selector:"new-password",template:t(925),providers:[a.NewPasswordService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.NewPasswordService&&a.NewPasswordService)&&e||Object,"function"==typeof(s="undefined"!=typeof o.Router&&o.Router)&&s||Object,"function"==typeof(i="undefined"!=typeof n.Http&&n.Http)&&i||Object,"function"==typeof(d="undefined"!=typeof o.ActivatedRoute&&o.ActivatedRoute)&&d||Object])],NewPasswordComponent);var e,s,i,d}();s.NewPasswordComponent=i},718:function(e,s,t){"use strict";var r=t(0),o=t(87),n=t(50),a=function(){function NewPasswordService(e,s){this.router=e,this.http=s,this.newPasswordUrl="https://masscredit-api.stagingapps.net/user/credential/forgetpassword/new-password",this.headers=new o.Headers({"Content-Type":"application/json",API_KEY:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.message={}}return NewPasswordService.prototype.resetPassword=function(e){return this.http.post(this.newPasswordUrl,e,this.options).toPromise().then(function(e){return e.json()}).catch(this.handleError)},NewPasswordService.prototype.handleError=function(e){var s=JSON.parse(e._body);return s},NewPasswordService.prototype.showNotif=function(){jQuery("#myModal").modal({backdrop:"static",keyboard:!1})},NewPasswordService=__decorate([r.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof n.Router&&n.Router)&&e||Object,"function"==typeof(s="undefined"!=typeof o.Http&&o.Http)&&s||Object])],NewPasswordService);var e,s}();s.NewPasswordService=a},925:function(e,s){e.exports='<div class="row">\n<div class="container">\n  <div class="form-account form-login-register" id="step-1">\n    <br>\n    <br>\n    <h2>Ganti Password</h2>\n    <p>Masukan password baru anda</p>\n    <div class="col-xs-12">\n    <form class="form-horizontal clearfix row" name="ResetForm" id="ResetForm">\n      <div class="col-xs-3">\n      </div>\n      <div class="col-xs-6">\n      <div class="form-group">\n        <div class="col-xs-12">\n        <label><span class="required">*</span></label>\n          <input type="password" placeholder="New Password" class="form-control input-md" [(ngModel)]="user.new_password" id="new_password" name="new_password">\n        </div>\n      </div>\n      <div class="form-group">\n        <div class="col-xs-12">\n        <label><span class="required">*</span></label>\n          <input type="password" placeholder="Confirm Password" class="form-control input-md" [(ngModel)]="user.confirm_new_password" id="confirm_new_password" name="confirm_new_password">\n        </div>\n      </div>\n      </div>\n      <div class="col-xs-3">\n      </div>\n    </form>\n    </div>\n    <div class="row">\n    <div class="col-xs-12">\n      <div class="form-group">\n        <div class="col-md-6 col-center">\n          <a [href]="cancelUrl" name="singlebutton" class="btn btn-default" id="load-reject">Batal</a>\n          <button type="submit" (click)="submitResetPassword()" name="singlebutton" class="btn btn-red">Ganti</button>\n        </div>\n      </div>\n    </div>\n    </div>\n    <br><br><br><br><br><br><br><br>\n  </div>\n</div>\n</div>'}});