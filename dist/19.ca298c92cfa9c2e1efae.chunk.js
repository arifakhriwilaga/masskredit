webpackJsonp([19],{707:function(t,e,n){"use strict";var a=n(0),i=n(87),s=n(50),o=function(){function IndexService(t,e){this.http=t,this.router=e,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.listInvestUrl="https://masscredit-api.stagingapps.net/user/myinvestment/getlist",this.token=JSON.parse(localStorage.getItem("access_token"))}return IndexService.prototype.getListInvests=function(t){return this.http.post(this.listInvestUrl,t,this.options).toPromise().then(function(t){return t.json().data.investments}).catch(this.handleError)},IndexService.prototype.handleError=function(t){var e=JSON.parse(t._body),n=(e.meta.code,e.meta.message);if("unauthorized"==n)return alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")},IndexService.prototype.detailAddInvest=function(t){this.router.navigateByUrl("/dashboard/user-action/user-invest/detail/"+t)},IndexService.prototype.detailGiveInvest=function(t,e){this.router.navigateByUrl("/dashboard/user-action/user-invest/detail/"+t+"/loan-approved/"+e)},IndexService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(e="undefined"!=typeof s.Router&&s.Router)&&e||Object])],IndexService);var t,e}();e.IndexService=o},870:function(t,e,n){"use strict";var a=n(0),i=n(707),s=function(){function IndexComponent(t){this.indexService=t,this.data={access_token:JSON.parse(localStorage.getItem("access_token")),page:1,limit:10},this.statusInvests=0,this.dataInvestsNull=0}return IndexComponent.prototype.ngOnInit=function(){this.getListInvest()},IndexComponent.prototype.getListInvest=function(){var t=this;this.indexService.getListInvests(this.data).then(function(e){console.log(e);try{0==e.length&&(t.dataInvestsNull=1);for(var n=0;n<e.length;n++){var a=e[n],i=a.type_invest,s=a.loan_category;""==i&&(a.type_invest="-"),""==s&&(a.loan_category="-");var o="assets/img/default_image.jpg";""==a.image_invest&&(a.image_invest=o);var r=a.amount,d=r-a.sisa_invest;a.amount=t.delimiter(a.amount),a.entry_amount=t.delimiter(d);var l=a.due_date;if(""!==l){var c=new Date(l),v=new Date("2017-04-21"),u=Math.abs(c.getTime()-v.getTime()),p=Math.ceil(u/864e5);v>c?a.sisa_hari="Invest Expired":v<c?a.sisa_hari=p:a.sisa_hari="Hari ini"}else a.sisa_hari="Tanggal Kosong"}}finally{t.invests=e,t.statusInvests=1}})},IndexComponent.prototype.delimiter=function(t){var e=!1,n=t.toString();n<0&&(e=!0),n=n.replace(".",""),n=n.replace("-","");for(var a="",i=n.length,s=0,o=i;o>0;o--)s+=1,a=s%3==1&&1!=s?n.substr(o-1,1)+"."+a:n.substr(o-1,1)+a;e&&(a="-"+a);var r="Rp.",d=r.concat(a);return d},IndexComponent.prototype.detailAddInvest=function(t){this.indexService.detailAddInvest(t)},IndexComponent.prototype.detailGiveInvest=function(t,e){this.indexService.detailGiveInvest(t,e)},IndexComponent=__decorate([a.Component({selector:"index",template:n(985)}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.IndexService&&i.IndexService)&&t||Object])],IndexComponent);var t}();e.IndexComponent=s},871:function(t,e,n){"use strict";var a=n(0),i=n(50),s=n(87),o=n(153),r=n(62),d=n(870),l=n(707);e.routes=[{path:"",component:d.IndexComponent}];var c=function(){function IndexModule(){}return IndexModule.routes=e.routes,IndexModule=__decorate([a.NgModule({declarations:[d.IndexComponent],imports:[s.HttpModule,o.FormsModule,r.CommonModule,i.RouterModule.forChild(e.routes)],providers:[l.IndexService]}),__metadata("design:paramtypes",[])],IndexModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},985:function(t,e){t.exports='<div class="box-header" align="center">\n  <h2 class="box-title">List Investasi Saya</h2>\n</div>\n<div class="box-body">\n  <div class="row">\n  <div align="center" *ngIf="statusInvests == 0"> \n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n  <br>\n  </div>\n  <!-- Main content -->\n  <div class="row">\n    <div class="col-xs-12" *ngIf="statusInvests == 1">\n    <div class="tab-content ">\n        <div role="tabpanel" class="tab-pane active" id="investasi">\n        <div class="box-body data-tables table-responsive">\n          <table class="table table-hover" id="example2">\n            <thead>\n              <tr>\n                <th>No.</th>\n                <th>Nama Investasi</th>\n                <th>Investasi</th>\n                <th>Tipe</th>\n                <th>Kategori</th>\n                <th>Nominal Investasi</th>\n                <th>Nominal Masuk</th>\n                <th>Sisa Hari</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngIf="dataInvestsNull == 1">\n                <td colspan="5" align="center">Data belum tersedia</td>\n              </tr>\n              <tr *ngFor="let data of invests, let i = \'index\';">\n                <td>{{ i + 1 }}</td>\n                <td align="left">{{ data.invest_name }}</td>\n                <td><img src="{{ data.image_invest }}" alt="Investasi" style="border-radius: 5px;width:70px;height:70px"></td>\n                <td>{{ data.type_invest }}</td>\n                <td>{{ data.loan_category }}</td>\n                <td>{{ data.amount }}</td>\n                <td>{{ data.entry_amount }}</td>\n                <td>{{ data.sisa_hari }}</td>  \n                <td>\n                  <button class="pull-right" *ngIf="data.loan_category == \'-\'" (click)="detailAddInvest(data.id)"><i aria-hidden="true" class="fa fa-info-circle"></i></button>\n                  <button class="pull-right" *ngIf="data.loan_category != \'-\'" (click)="detailGiveInvest(data.id,data.borrower_id)"><i aria-hidden="true" class="fa fa-info-circle"></i></button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          </div>  \n        <nav aria-label="Page navigation" *ngIf="total_pagination > 1">\n          <ul class="pagination">\n           <!--  <li>\n              <a href="#" aria-label="Previous">\n                <span aria-hidden="true">&laquo;</span>\n              </a>\n            </li> -->\n            <!-- <li *ngFor="let a of array_total"><a href="#/dashboard/fund" id="a" (click)="linkTo(a)">{{ a }}</a></li> -->\n            <!-- <li>\n              <a href="#" aria-label="Next">\n                <span aria-hidden="true">&raquo;</span>\n              </a>\n            </li> -->\n          </ul>\n        </nav>      \n        </div>\n        <br><br>\n      </div>\n    </div>\n  </div>  \n</div>'}});