webpackJsonp([7],{695:function(e,t,n){"use strict";var a=n(0),o=n(87),r=n(50),i=n(696),s=function(){function CreateComponent(e,t,n){this.router=e,this.http=t,this.createService=n,this.statusDataWithdrawalFund=0,this.access_token=JSON.parse(localStorage.getItem("access_token")),this.dataNoReferenceProfile={access_token:this.access_token},this.data={access_token:this.access_token,no_reference:null,nama_lengkap:null,bank_id:null,no_rekening:null,amount:""},this.bank=null}return CreateComponent.prototype.ngOnInit=function(){this.getProfile(),this.getNoReference()},CreateComponent.prototype.getNoReference=function(){var e=this;this.createService.getNoReference(this.dataNoReferenceProfile).then(function(t){e.data.no_reference=t})},CreateComponent.prototype.getProfile=function(){var e=this;this.createService.getProfile(this.dataNoReferenceProfile).then(function(t){var n=t.profile.complement_user.bank,a=t.profile.complement_user.no_rekening;0==n&&(e.bank="Belum diisi",e.data.no_rekening="Belum diisi"),1==n&&(e.bank="BCA"),2==n&&(e.bank="Mandiri"),3==n&&(e.bank="Danamon"),4==n&&(e.bank="Sinarmas"),5==n&&(e.bank="BNI"),6==n&&(e.bank="Niaga"),""==a?e.data.no_rekening="Belum diisi":e.data.no_rekening=a,e.data.nama_lengkap=t.profile.name,e.data.bank_id=t.profile.complement_user.bank,e.statusDataWithdrawalFund=1})},CreateComponent=__decorate([a.Component({selector:"create",template:n(938)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Router&&r.Router)&&e||Object,"function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object,"function"==typeof(s="undefined"!=typeof i.CreateService&&i.CreateService)&&s||Object])],CreateComponent);var e,t,s}();t.CreateComponent=s},696:function(e,t,n){"use strict";var a=n(0),o=n(87),r=n(50),i=function(){function CreateService(e,t){this.http=e,this.router=t,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.withdrawalUrl="https://masscredit-api.stagingapps.net/user/withdrawal/add",this.noreferenceUrl="https://masscredit-api.stagingapps.net/user/fund/no-reference",this.profileUrl="https://masscredit-api.stagingapps.net/user/credential/profile"}return CreateService.prototype.postFundWithdrawal=function(e){return this.http.post(this.withdrawalUrl,e,this.options).toPromise().then(function(e){return e.json().data}).catch(this.handleError)},CreateService.prototype.getNoReference=function(e){return this.http.post(this.noreferenceUrl,e,this.options).toPromise().then(function(e){return e.json().data.no_reference}).catch(this.handleError)},CreateService.prototype.getProfile=function(e){return this.http.post(this.profileUrl,e,this.options).toPromise().then(function(e){return e.json().data}).catch(this.handleError)},CreateService.prototype.handleError=function(e){var t=JSON.parse(e._body),n=(t.meta.code,t.meta.message);if("unauthorized"==n)return alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")},CreateService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Http&&o.Http)&&e||Object,"function"==typeof(t="undefined"!=typeof r.Router&&r.Router)&&t||Object])],CreateService);var e,t}();t.CreateService=i},743:function(e,t,n){"use strict";var a=n(0),o=n(50),r=n(87),i=n(153),s=n(62),d=n(695),c=n(749),l=n(750),p=n(746),f=n(696);t.routes=[{path:"",component:d.CreateComponent}];var m=function(){function CreateModule(){}return CreateModule.routes=t.routes,CreateModule=__decorate([a.NgModule({declarations:[d.CreateComponent,c.FormComponent,l.MessageComponent,p.FormConfirmComponent],imports:[r.HttpModule,i.FormsModule,s.CommonModule,o.RouterModule.forChild(t.routes)],providers:[f.CreateService]}),__metadata("design:paramtypes",[])],CreateModule)}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=m},744:function(e,t,n){"use strict";var a=n(0),o=n(87),r=n(50),i=function(){function ConfirmService(e,t){this.http=e,this.router=t,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.confirmWithdrawalUrl="https://masscredit-api.stagingapps.net/user/withdrawal/confirm"}return ConfirmService.prototype.postConfirm=function(e){return this.http.post(this.confirmWithdrawalUrl,e,this.options).toPromise().then(function(e){return e.json()}).catch(this.handleError)},ConfirmService.prototype.handleError=function(e){var t=JSON.parse(e._body);return t},ConfirmService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Http&&o.Http)&&e||Object,"function"==typeof(t="undefined"!=typeof r.Router&&r.Router)&&t||Object])],ConfirmService);var e,t}();t.ConfirmService=i},745:function(e,t,n){"use strict";var a=n(0),o=n(50),r=n(87),i=n(744),s=function(){function FormConfirmComponent(e,t,n){this.router=e,this.http=t,this.confirmService=n,this.data={access_token:JSON.parse(localStorage.getItem("access_token")),id:this.incomingDataId,verification_code:"",password:""},this.statusDataConfirm=1}return FormConfirmComponent.prototype.ngOnInit=function(){jQuery("#FormConfirm").modal({backdrop:"static",keyboard:!1}),null!=this.incomingDataId&&(this.data.id=this.incomingDataId)},FormConfirmComponent.prototype.confirmWithdrawal=function(e){var t=this;""!=this.data.password&&""!=this.data.verification_code?(this.statusDataConfirm=0,this.confirmService.postConfirm(this.data).then(function(e){var n=e.meta.message,a=JSON.stringify(e.meta.code);"4"==a.charAt(0)&&t.handleError(n),"2"==a.charAt(0)&&t.handleSuccess()})):alert("Data tidak valid")},FormConfirmComponent.prototype.handleError=function(e){"unauthorized"==e&&(alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")),"Password salah"==e?(alert("Password salah"),this.statusDataConfirm=1):"Transaksi tidak ditemukan"==e?(alert("Transaksi tidak ditemukan"),this.statusDataConfirm=1):(alert("Verifikasi salah"),this.statusDataConfirm=1)},FormConfirmComponent.prototype.handleSuccess=function(){alert("Penarikan berhasil, harap menunggu konfirmasi admin"),jQuery("#FormConfirm").modal("toggle"),this.router.navigateByUrl("/dashboard/fund/fund-withdrawal")},FormConfirmComponent.prototype.cancelWithdrawal=function(){jQuery("#FormConfirm").modal("toggle"),this.router.navigateByUrl("/dashboard/fund/fund-withdrawal")},__decorate([a.Input("dataId"),__metadata("design:type",Object)],FormConfirmComponent.prototype,"incomingDataId",void 0),FormConfirmComponent=__decorate([a.Component({selector:"form-confirm",template:n(939),providers:[i.ConfirmService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Router&&o.Router)&&e||Object,"function"==typeof(t="undefined"!=typeof r.Http&&r.Http)&&t||Object,"function"==typeof(s="undefined"!=typeof i.ConfirmService&&i.ConfirmService)&&s||Object])],FormConfirmComponent);var e,t,s}();t.FormConfirmComponent=s},746:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(745))},747:function(e,t,n){"use strict";var a=n(0),o=n(87),r=n(50),i=n(748),s=n(695),d=function(){function FormComponent(e,t,n,a){this.router=e,this.http=t,this.formService=n,this.createComponent=a,this.data=this.createComponent.data,this.statusFormConfirm=0,this.idWithdrawal=null}return FormComponent.prototype.ngOnInit=function(){jQuery("#createForm").validate({rules:{amount:{required:!0}},messages:{amount:"Masukan nominal penarikan dana."}}),jQuery("#amount").mask("000000000000")},FormComponent.prototype.cancelWithdrawal=function(){this.router.navigateByUrl("/dashboard/fund/fund-withdrawal")},FormComponent.prototype.createWithdrawal=function(e){var t=this;jQuery("#createForm").valid()?(this.loader=!0,jQuery("#createWithdrawal").prop("disabled",!0),this.formService.postCreate(this.data).then(function(e){var n=e.meta.message,a=JSON.stringify(e.meta.code),o=e.data;"4"===a.charAt(0)&&t.handleError(n),"2"===a.charAt(0)&&t.handleSuccess(o)})):alert("Data tidak valid")},FormComponent.prototype.handleError=function(e){"unauthorized"==e?(alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")):alert(e),this.loader=!1,jQuery("#createWithdrawal").prop("disabled",!1)},FormComponent.prototype.handleSuccess=function(e){try{this.idWithdrawal=e.id}finally{this.statusFormConfirm=1}},__decorate([a.Input("dataBank"),__metadata("design:type",String)],FormComponent.prototype,"bank",void 0),FormComponent=__decorate([a.Component({selector:"form-add-withdrawal",template:n(940),providers:[i.FormService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Router&&r.Router)&&e||Object,"function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object,"function"==typeof(d="undefined"!=typeof i.FormService&&i.FormService)&&d||Object,"function"==typeof(c="undefined"!=typeof s.CreateComponent&&s.CreateComponent)&&c||Object])],FormComponent);var e,t,d,c}();t.FormComponent=d},748:function(e,t,n){"use strict";var a=n(0),o=n(87),r=n(50),i=function(){function FormService(e,t){this.http=e,this.router=t,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.createWithdrawalUrl="https://masscredit-api.stagingapps.net/user/withdrawal/add"}return FormService.prototype.postCreate=function(e){return this.http.post(this.createWithdrawalUrl,e,this.options).toPromise().then(function(e){return e.json()}).catch(this.handleError)},FormService.prototype.handleError=function(e){var t=JSON.parse(e._body);return t},FormService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Http&&o.Http)&&e||Object,"function"==typeof(t="undefined"!=typeof r.Router&&r.Router)&&t||Object])],FormService);var e,t}();t.FormService=i},749:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(747))},750:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(751))},751:function(e,t,n){"use strict";var a=n(0),o=n(50),r=function(){function MessageComponent(e){this.router=e}return MessageComponent.prototype.ngOnInit=function(){jQuery("#myModal").modal({backdrop:"static",keyboard:!1})},MessageComponent.prototype.cancelComplement=function(){jQuery("#myModal").modal("toggle"),this.router.navigateByUrl("/dashboard/fund/fund-withdrawal")},MessageComponent.prototype.submitComplement=function(){jQuery("#myModal").modal("toggle"),this.router.navigateByUrl("/dashboard")},MessageComponent=__decorate([a.Component({selector:"message",template:n(941)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Router&&o.Router)&&e||Object])],MessageComponent);var e}();t.MessageComponent=r},938:function(e,t){e.exports='<div class="box-header" align="center">\n  <h2 class="box-title">Form Tarik Dana</h2>\n</div>\n<div class="box-body">\n  <div align="center" *ngIf="statusDataWithdrawalFund == 0"> \n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n  <div *ngIf="statusDataWithdrawalFund == 1">\n    <form-add-withdrawal [dataBank]="bank"></form-add-withdrawal>\n  </div>\n</div>'},939:function(e,t){e.exports='<div class="modal fade" id="FormConfirm" style="z-index:9000;">\n  <div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-body">\n    <button type="button" class="close" (click)="cancelComplement()" style="color: #ffffff">&times;</button>\n    <div class="row">\n      <div class="col-md-12">\n        <div class="form-group" align="center">\n          <label><h1>Verifikasi Penarikan</h1></label>\n          <div align="center" *ngIf="statusDataConfirm == 0"> \n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n            <span class="sr-only">Loading...</span>\n          </div>\n          <div *ngIf="statusDataConfirm == 1">\n          <form  name="confirmForm" id="confirmForm">\n            <div class="form-group" align="center">\n            <div class="input-group">\n              <input  type="text" placeholder="Verifikasi Code" class="form-control input-md" name="verification_code" id="verification_code" [(ngModel)]="data.verification_code">\n            </div> \n            <div class="input-group">\n            <br>\n              <input  type="password" placeholder="Password" class="form-control input-md password" name="password" id="password" [(ngModel)]="data.password">\n            </div>\n            </div>\n          </form>\n          </div>\n        </div>\n        <div *ngIf="statusDataConfirm == 1">\n        <div class="form-group">\n        <div class="col-md-6 col-center">\n          <a href="#/dashboard/fund/fund-withdrawal" class="btn btn-default" (click)="cancelWithdrawal()">Batal</a>\n          <button class="btn btn-red" (click)="confirmWithdrawal(data)">Konfirmasi</button>\n        </div>\n        </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n  </div>\n</div>'},940:function(e,t){e.exports='<div class="form-login-register">\n  <form class="form-horizontal clearfix row" name="createForm" id="createForm">\n    <div class="col-md-12">\n    <fieldset disabled>\n      <div class="form-group">\n          <label>Nominal Referensi :</label>\n          <input type="text" placeholder="Nominal Referensi" class="form-control input-md" name="no_reference" id="no_reference" [(ngModel)]="data.no_reference">\n       </div>\n      <div class="form-group">\n          <label>Nama Lengkap :</label>\n          <input type="text" placeholder="Nama Lengkap" class="form-control input-md" name="nama_lengkap" id="nama_lengkap" [(ngModel)]="data.nama_lengkap">\n      </div>\n      <div class="form-group">\n          <label>Nama Bank :</label>\n          <input type="text" placeholder="Nama Bank" class="form-control input-md" name="other_bank" id="other_bank" [(ngModel)]="bank">\n      </div>\n      <div class="form-group">\n          <label>Nomor Rekening :</label>\n          <input type="text" placeholder="Nomor Rekening" class="form-control input-md" name="no_rekening" id="no_rekening" [(ngModel)]="data.no_rekening">\n      </div>\n    </fieldset>\n      <div class="form-group">\n        <div class="col-md-12">\n        <span class="required">*</span>\n          <label>Nominal :</label>\n          <input type="text" placeholder="Nominal" class="form-control input-md" name="amount" id="amount" [(ngModel)]="data.amount" required>\n        </div>\n      </div>\n    </div>\n  </form>\n  <div class="col-md-12 col-center">\n    <button class="btn-back-fund" (click)="cancelWithdrawal()">Batal</button>\n    <button class="btn-submit-fund" id="createWithdrawal" name="singlebutton" type="submit" (click)="createWithdrawal(data)">Tarik <i *ngIf="loader == true" class="fa fa-spinner ld ld-cycle"></i></button>\n  </div>\n  <!-- component confirm after user success withdrawal fund -->\n  <form-confirm *ngIf="statusFormConfirm == 1" [dataId]="idWithdrawal" ></form-confirm>\n  <!-- component for notif if data bank user blank -->\n  <message *ngIf="data.bank == \'Belum diisi\' || data.no_rekening == \'Belum diisi\'"></message>\n</div>'},941:function(e,t){e.exports='<div class="modal fade" id="myModal" style="z-index:9000;">\n  <div class="modal-dialog">\n  <div class="modal-content bg-navy">\n    <div class="modal-body">\n    <button type="button" class="close" (click)="cancelComplement()" style="color: #ffffff">&times;</button>\n      <div class="row">\n        <div class="col-md-12">\n          <div class="form-group">\n          <h1 style="color:#ffc300;">Data Bank Anda belum lengkap.</h1>\n          <h2 style="color:#ffffff;">silahkan lakukan pengisian Data Bank Anda di pengaturan profil.</h2>\n          </div>\n          <button type="submit" class="btn btn-default" (click)="submitComplement()" style="color: #ffffff; align-content: center;">Kembali</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  </div>\n</div>'}});