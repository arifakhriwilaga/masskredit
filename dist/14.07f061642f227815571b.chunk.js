webpackJsonp([14],{850:function(t,e,a){"use strict";var n=a(0),o=a(87),r=a(50),i=function(){function DetailPaymentComponent(t,e){this.http=t,this.router=e,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.access_token=JSON.parse(localStorage.getItem("access_token")),this.dataInvestor={access_token:this.access_token,investor_id:null,loan_id:null},this.dataDetailInvestor={},this.loaderInstallmentPaid=0,this.loaderDetailInvestor=0,this.dataDetailPayment={payment_date:null},this.onHide=new n.EventEmitter}return DetailPaymentComponent.prototype.ngOnInit=function(){if(jQuery("#FormDetailPayment").modal({backdrop:"static",keyboard:!1}),null!=this.dataDetailPayment)try{null==this.dataDetailPayment.payment_date?this.dataDetailPayment.payment_date="-":this.dataDetailPayment.payment_date}finally{this.loaderInstallmentPaid=1}},DetailPaymentComponent.prototype.hideDetailPayment=function(t){jQuery("#FormDetailPayment").modal("toggle"),this.onHide.emit(t)},__decorate([n.Input(),__metadata("design:type",Object)],DetailPaymentComponent.prototype,"dataDetailPayment",void 0),__decorate([n.Output(),__metadata("design:type",Object)],DetailPaymentComponent.prototype,"onHide",void 0),DetailPaymentComponent=__decorate([n.Component({selector:"detail-payment",template:a(971),providers:[]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object,"function"==typeof(e="undefined"!=typeof r.Router&&r.Router)&&e||Object])],DetailPaymentComponent);var t,e}();e.DetailPaymentComponent=i},851:function(t,e,a){"use strict";function __export(t){for(var a in t)e.hasOwnProperty(a)||(e[a]=t[a])}__export(a(850))},852:function(t,e,a){"use strict";var n=a(0),o=a(50),r=a(87),i=a(153),s=a(72),l=a(853),d=a(851),c=a(855);e.routes=[{path:"",component:l.LoanApprovedComponent}];var p=function(){function LoanApprovedModule(){}return LoanApprovedModule.routes=e.routes,LoanApprovedModule=__decorate([n.NgModule({declarations:[l.LoanApprovedComponent,d.DetailPaymentComponent,c.ScoringFormComponent],imports:[r.HttpModule,i.FormsModule,s.CommonModule,o.RouterModule.forChild(e.routes)],providers:[]}),__metadata("design:paramtypes",[])],LoanApprovedModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=p},853:function(t,e,a){"use strict";var n=a(0),o=a(87),r=a(50),i=a(854),s=function(){function LoanApprovedComponent(t,e,a,n){this.http=t,this.router=e,this.activatedRoute=a,this.loanApprovedService=n,this.access_token=JSON.parse(localStorage.getItem("access_token")),this.data_detail_invest={access_token:this.access_token,invest_id:""},this.dataBorrower={access_token:this.access_token,borrower_id:null,invest_id:null},this.data={},this.loaderDetailBorrower=0,this.imageRate100=[],this.imageRate0=[],this.dataDetailBorrower={},this.dataScoring={access_token:this.access_token,borrower_id:null},this.dataBorrowerAmount={},this.dataListPayment={access_token:this.access_token,invest_id:"",borrower_id:"",page:1,limit:10},this.dataPayment=[]}return LoanApprovedComponent.prototype.ngOnInit=function(){var t=this;this.activatedRoute.params.subscribe(function(e){var a=e.id,n=e.borrowerId;null!=a&&null!=n&&(t.dataBorrower.invest_id=a,t.dataBorrower.borrower_id=n,t.dataListPayment.invest_id=a,t.dataListPayment.borrower_id=n,null!=t.dataBorrower.invest_id&&null!=t.dataBorrower.borrower_id&&t.getDetailBorrower())})},LoanApprovedComponent.prototype.getDetailBorrower=function(){var t=this;this.loanApprovedService.getDetailBorrower(this.dataBorrower).then(function(e){var a=e.meta.message,n=JSON.stringify(e.meta.code),o=e.data;t.dataScoring.borrower_id=o.borrower_id,"4"===n.charAt(0)&&t.handleError(a),"2"===n.charAt(0)&&t.handleSuccess(o)})},LoanApprovedComponent.prototype.handleError=function(t){"unauthorized"===t&&this.router.navigate(["/dashboard/sign-out"])},LoanApprovedComponent.prototype.handleSuccess=function(t){var e="assets/img/default_profile.png";""==t.borrower_image&&(t.borrower_image=e);var a=[1,1.5,2,2.5,3,3.5,4,4.5,5],n=Number(t.avg_reviews);if(0===n)for(var o=5;o>=1;o--)this.imageRate0.push(o);else for(var r=0,i=a;r<i.length;r++){var s=i[r];if(s===n){var l=s.toString(),d=Number(l),c=5;if(l.match(/^[\d]\.\d$/)){for(var p=Number(l.split(".")[0]),m=4-p,o=1;o<=m;o++)this.imageRate0.push(o);for(var o=1;o<=p;o++)this.imageRate100.push(o);l.match(/^[\d]\.5/)&&(this.imageRate50=1)}else{for(var m=c-d,o=1;o<=d;o++)this.imageRate100.push(o);for(var o=1;o<=m;o++)this.imageRate0.push(o)}}}this.dataDetailBorrower=t;var u=t.borrower_amount;this.delimiterSalary(u)},LoanApprovedComponent.prototype.delimiterSalary=function(t){try{var e=!1,a=t.toString();a<0&&(e=!0),a=a.replace(".",""),a=a.replace("-","");for(var n="",o=a.length,r=0,i=o;i>0;i--)r+=1,n=r%3==1&&1!=r?a.substr(i-1,1)+"."+n:a.substr(i-1,1)+n;e&&(n="-"+n);var s="Rp.";this.dataBorrowerAmount=s.concat(n)}finally{this.getListPayment()}},LoanApprovedComponent.prototype.getListPayment=function(){var t=this;this.loanApprovedService.getListPayment(this.dataListPayment).then(function(e){var a=(e.meta.message,JSON.stringify(e.meta.code),e.data.history_payment);if(0===a.length)t.dataArrayNull=1,t.loaderDetailBorrower=1;else try{for(var n=0;n<a.length;n++){var o=a[n],r=o.pokok,i=!1,s=r.toString();s<0&&(i=!0),s=s.replace(".",""),s=s.replace("-","");for(var l="",d=s.length,c=0,p=d;p>0;p--)c+=1,l=c%3==1&&1!=c?s.substr(p-1,1)+"."+l:s.substr(p-1,1)+l;i&&(l="-"+l);var m="Rp.";o.pokok=m.concat(l)}}finally{try{for(var n=0;n<a.length;n++){var o=a[n],r=o.total_payment,i=!1,s=r.toString();s<0&&(i=!0),s=s.replace(".",""),s=s.replace("-","");for(var l="",d=s.length,c=0,u=d;u>0;u--)c+=1,l=c%3==1&&1!=c?s.substr(u-1,1)+"."+l:s.substr(u-1,1)+l;i&&(l="-"+l);var m="Rp.";o.total_payment=m.concat(l)}}finally{console.log(t.dataPayment);try{t.dataPayment=a}finally{t.loaderDetailBorrower=1}}}})},LoanApprovedComponent.prototype.showNotPaidForm=function(t){for(var e=0,a=this.dataPayment;e<a.length;e++){var n=a[e];n.history_payment_id==t&&(this.detailPayment=n)}this.showDetailPayment=1},LoanApprovedComponent.prototype.showPaidForm=function(t){for(var e=0,a=this.dataPayment;e<a.length;e++){var n=a[e];n.history_payment_id==t&&(this.detailPayment=n)}this.showDetailPayment=1},LoanApprovedComponent.prototype.onHide=function(t){this.showDetailPayment=t},LoanApprovedComponent.prototype.hideForm=function(t){this.scoringForm=t},LoanApprovedComponent.prototype.showScoringForm=function(){this.scoringForm=1},LoanApprovedComponent=__decorate([n.Component({selector:"loan-approved",template:a(972),providers:[i.LoanApprovedService]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object,"function"==typeof(e="undefined"!=typeof r.Router&&r.Router)&&e||Object,"function"==typeof(s="undefined"!=typeof r.ActivatedRoute&&r.ActivatedRoute)&&s||Object,"function"==typeof(l="undefined"!=typeof i.LoanApprovedService&&i.LoanApprovedService)&&l||Object])],LoanApprovedComponent);var t,e,s,l}();e.LoanApprovedComponent=s},854:function(t,e,a){"use strict";var n=a(0),o=a(87),r=function(){function LoanApprovedService(t){this.http=t,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.detailBorrowerUrl="https://masscredit-api.stagingapps.net/user/borrower/detail",this.listPaymentUrl="https://masscredit-api.stagingapps.net/user/payment-history/get-list"}return LoanApprovedService.prototype.getDetailBorrower=function(t){return this.http.post(this.detailBorrowerUrl,t,this.options).toPromise().then(function(t){return t.json()}).catch(this.handleError)},LoanApprovedService.prototype.getListPayment=function(t){return this.http.post(this.listPaymentUrl,t,this.options).toPromise().then(function(t){return t.json()}).catch(this.handleError)},LoanApprovedService.prototype.handleError=function(t){var e=JSON.parse(t._body);return e},LoanApprovedService=__decorate([n.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object])],LoanApprovedService);var t}();e.LoanApprovedService=r},855:function(t,e,a){"use strict";function __export(t){for(var a in t)e.hasOwnProperty(a)||(e[a]=t[a])}__export(a(856))},856:function(t,e,a){"use strict";var n=a(0),o=a(857),r=function(){function ScoringFormComponent(t){this.scoringFormService=t,this.statusForm=new n.EventEmitter,this.dataRate={access_token:null,target_user_id:null,rate_value:null}}return ScoringFormComponent.prototype.ngOnInit=function(){var t=this.dataRate;null!==this.dataScoring&&(this.dataRate.target_user_id=this.dataScoring.borrower_id,this.dataRate.access_token=this.dataScoring.access_token),jQuery("#ScoringForm").modal({backdrop:"static",keyboard:!1}),jQuery(function(){jQuery("#jRate").jRate({startColor:"#FFC300",endColor:"#FFC300",rating:0,strokeColor:"black",precision:1,minSelected:1,onChange:function(t){},onSet:function(e){t.rate_value=e}})})},ScoringFormComponent.prototype.hideForm=function(){jQuery("#ScoringForm").modal("toggle"),this.statusForm.emit(0)},ScoringFormComponent.prototype.rateUser=function(){var t=this;null!==this.dataRate.rate_value?this.scoringFormService.rateUser(this.dataRate).then(function(e){var a=JSON.stringify(e.meta.code);"2"===a.charAt(0)?(alert("Berhasil melakukan rating"),t.hideForm()):(alert("Gagal melakukan rating"),t.hideForm())}):alert("Masukan jumlah bintang")},__decorate([n.Output(),__metadata("design:type",Object)],ScoringFormComponent.prototype,"statusForm",void 0),__decorate([n.Input(),__metadata("design:type",Object)],ScoringFormComponent.prototype,"dataScoring",void 0),ScoringFormComponent=__decorate([n.Component({selector:"scoring-form",template:a(973),providers:[o.ScoringFormService]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.ScoringFormService&&o.ScoringFormService)&&t||Object])],ScoringFormComponent);var t}();e.ScoringFormComponent=r},857:function(t,e,a){"use strict";var n=a(0),o=a(87),r=function(){function ScoringFormService(t){this.http=t,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.scoringUrl="https://masscredit-api.stagingapps.net/user/rate/rate-other-user"}return ScoringFormService.prototype.rateUser=function(t){return this.http.post(this.scoringUrl,t,this.options).toPromise().then(function(t){return t.json()}).catch(this.handleError)},ScoringFormService.prototype.handleError=function(t){var e=JSON.parse(t._body);return e},ScoringFormService=__decorate([n.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object])],ScoringFormService);var t}();e.ScoringFormService=r},971:function(t,e){t.exports='<section class="content">\n<!-- Modal -->\n<div class="modal fade modal-lg" id="FormDetailPayment" style="z-index:9000;">\n  <div class="modal-dialog modal-lg">\n    <!-- Modal content-->\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" (click)="hideDetailPayment(0)">&times;</button>\n      <h4 class="modal-title">Detail Angsuran</h4>\n    </div>\n    <div class="modal-body">\n    <div  *ngIf="loaderInstallmentPaid == 0">\n    <div class="row">\n      <div align="center"> \n        <br><br><br><br><br>\n        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n        <span class="sr-only">Loading...</span>\n      </div>\n    </div>\n    </div>\n    <div  *ngIf="loaderInstallmentPaid == 1">\n    <div class="row">\n      <div class="col-md-6">\n        <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Angsuran ke</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Angsuran ke" class="form-control input-md" name="angsuran_ke" id="angsuran_ke" value="{{ dataDetailPayment.installment_order }}" disabled>\n          </div>\n        </div>\n        <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Tanggal Jatuh Tempo</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Tanggal Jatuh Tempo" class="form-control input-md" name="tanggal_jatuh_tempo" id="tanggal_jatuh_tempo" value="{{ dataDetailPayment.due_date }}" disabled>\n          </div>\n       </div>\n      <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Status</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Status" class="form-control input-md" name="status" id="status" value="{{ dataDetailPayment.status }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Pokok</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Pokok" class="form-control input-md" name="pokok" id="pokok" value="{{ dataDetailPayment.pokok }}" disabled>\n          </div>\n       </div>\n      </div>\n      <div class="col-md-6">\n       <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Bunga</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Bunga" class="form-control input-md" name="bunga" id="bunga" value="{{ dataDetailPayment.bunga }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Charge</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Charge" class="form-control input-md" name="charge" id="charge" value="{{ dataDetailPayment.charge_fee }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Denda</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Denda" class="form-control input-md" name="denda" id="denda" value="{{ dataDetailPayment.denda }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Total Pembayaran</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Total Pembayaran" class="form-control" name="total_pembayaran" id="total_pembayaran" value="{{ dataDetailPayment.total_payment }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-5">\n            <label class="unit">Tanggal Pembayaran</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Tangal Pembayaran" class="form-control" name="tanggal_pembayaran" id="tanggal_pembayaran" value="{{ dataDetailPayment.payment_date }}" disabled>\n          </div>\n       </div>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-md-12">\n      <div class="form-group">\n        <div class="col-md-6 col-center">\n          <button class="btn btn-red" (click)="hideDetailPayment(0)">Tutup</button>\n        </div>\n      </div>\n      </div>\n    </div>\n    </div>\n    </div>\n  </div>\n  </div>\n</div>\n</section>'},972:function(t,e){t.exports='<div class="box-header" align="center">\n  <h2 class="box-title">Detail Borrower</h2>\n</div>\n<div class="box-body">\n  <div  *ngIf="loaderDetailBorrower == 0">\n  <div class="row">\n    <div align="center"> \n      <br>\n      <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n      <span class="sr-only">Loading...</span>\n    </div>\n  </div>\n</div>\n<div  *ngIf="loaderDetailBorrower == 1">\n  <div class="row">\n    <div class="col-md-4">\n     <img src="{{ dataDetailBorrower.borrower_image }}" alt="Foto Peminjam" style="padding-left: 25%;">\n    </div>\n    <div class="col-md-8">\n      <div class="form-group">\n        <div class="col-xs-4">\n          <label class="unit">Nama Lengkap</label>\n        </div>\n        <div class="col-xs-7">\n          <input type="text" placeholder="Nama Lengkap" class="form-control input-md" name="full_name" id="full_name" value="{{ dataDetailBorrower.borrower_name }}" disabled>\n        </div>\n      </div>\n      <div class="form-group">\n        <div class="col-xs-4">\n          <label class="unit">Borrower</label>\n        </div>\n        <div class="col-xs-7">\n          <input type="text" placeholder="Borrower" class="form-control input-md" name="borrower" id="borrower" value="{{ dataDetailBorrower.borrower }}" disabled>\n        </div>\n     </div>\n     <div class="form-group">\n        <div class="col-xs-4">\n          <label class="unit">Credit</label>\n        </div>\n        <div class="col-xs-7">\n          <input type="text" placeholder="Credit" class="form-control input-md" name="credit" id="credit" value="{{ dataDetailBorrower.fund_history }}" disabled>\n        </div>\n     </div>\n     <div class="form-group">\n        <div class="col-xs-4">\n          <label class="unit">Salary</label>\n        </div>\n        <div class="col-xs-7">\n          <input type="text" placeholder="Salary" class="form-control input-md" name="salary" id="salary" value="{{ dataDetailBorrower.user_class }}" disabled>\n        </div>\n     </div>\n     <div class="form-group">\n        <div class="col-xs-4">\n          <label class="unit">Review</label>\n        </div>\n        <div class="col-xs-7">\n          <div class="unit">\n            <label *ngFor="let data of imageRate100"><img onmousedown="return false" oncontexmenu="return false" onselectstart="return false" src="../../assets/img/star/100.png" style="width:30px ;height: 30px;"></label>\n            <label *ngIf="imageRate25 === 1"><img onmousedown="return false" oncontexmenu="return false" onselectstart="return false" src="../../assets/img/star/25.png" style="width:30px ;height: 30px;"></label>\n            <label *ngIf="imageRate50 === 1"><img onmousedown="return false" oncontexmenu="return false" onselectstart="return false" src="../../assets/img/star/50.png" style="width:30px ;height: 30px;"></label>\n            <label *ngIf="imageRate75 === 1"><img onmousedown="return false" oncontexmenu="return false" onselectstart="return false" src="../../assets/img/star/75.png" style="width:30px ;height: 30px;"></label>\n            <label *ngFor="let data of imageRate0"><img onmousedown="return false" oncontexmenu="return false" onselectstart="return false" src="../../assets/img/star/0.png" style="width:30px ;height: 30px;"></label>\n            <span  class="unit">({{ dataDetailBorrower.avg_reviews }}) reviews {{ dataDetailBorrower.total_reviews }} user </span><br><button color="red" (click)="showScoringForm()">Rate User</button>\n          </div>\n        </div>\n     </div>\n     <div class="form-group">\n        <div class="col-xs-4">\n          <label class="unit">Jumlah Pinjaman</label>\n        </div>\n        <div class="col-xs-7">\n          <input type="text" placeholder="Nilai Pinjaman" class="form-control input-md" name="nilai_pinjaman" id="nilai_pinjaman" value="{{ dataBorrowerAmount }}" disabled>\n        </div>\n     </div> \n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-12">\n   <label><h2 style="font-size: 30px;color: orange;">Riwayat Pembayaran</h2></label>\n    <div class="box-body data-tables table-responsive">\n    <table class="table table-hover" id="example2">\n      <thead>\n        <tr>\n          <th>No.</th>\n          <th>Angsuran Ke</th>\n          <th>Tanggal Jatuh Tempo</th>\n          <th>Tanggal Pembayaran</th>\n          <th>Status</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngIf="dataArrayNull === 1">\n          <td colspan="5" align="center">Data belum tersedia</td>\n        </tr>\n        <tr *ngFor="let dataPayment of dataPayment, let i =\'index\'">\n          <td>{{ i + 1 }}</td>\n          <td>{{ dataPayment.installment_order }}</td>\n          <td>{{ dataPayment.due_date }}</td>\n          <td>{{ dataPayment.payment_date }}</td>\n          <td>{{ dataPayment.status }}</td>\n          <td *ngIf="dataPayment.status == \'Belum Bayar\'">\n            <button class="pull-right" (click)="showNotPaidForm(dataPayment.history_payment_id)"><i aria-hidden="true" class="fa fa-search"></i></button>\n          </td>\n          <td *ngIf="dataPayment.status == \'Lunas\'">\n            <button class="pull-right" (click)="showPaidForm(dataPayment.history_payment_id)">\n              <i aria-hidden="true" class="fa fa-search"></i>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    </div>  \n    </div>\n  </div>\n  <detail-payment *ngIf="showDetailPayment == 1" [dataDetailPayment]="detailPayment" (onHide)="onHide($event)"></detail-payment>\n  <scoring-form *ngIf="scoringForm === 1" (statusForm)="hideForm($event)" [dataScoring]="dataScoring"></scoring-form>\n</div>\n</div>'},973:function(t,e){t.exports='<!-- Modal -->\n<div class="modal fade" id="ScoringForm" style="z-index:9000;">\n  <div class="modal-dialog">\n    <!-- Modal content-->\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" (click)="hideForm(0)">&times;</button>\n    </div>\n    <div class="modal-body">\n      <div class="row">\n      <div class="col-md-12 col-center">\n        <div class="form-group">\n          <h2 style="font-size: 24px;color:black">Form Penilaian</h2>\n        </div>\n        <div class="form-group">\n          <div id="jRate" style="height:100px;width: 100%;"></div>\n          <br>\n          <button (click)="rateUser()">Rate</button>\n       </div>\n      </div>\n    </div> \n  </div>\n  </div>\n</div>\n</div>'}});