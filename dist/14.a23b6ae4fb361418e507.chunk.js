webpackJsonp([14],{696:function(e,n,a){"use strict";var t=a(0),o=a(87),i=a(50),s=function(){function CreateComponent(e,n){this.router=e,this.http=n,this.dataFundAdd=0,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.access_token=JSON.parse(localStorage.getItem("access_token")),this.data_access_token={access_token:this.access_token},this.data={access_token:this.access_token,date:null,no_reference:null,nama_lengkap:null,bank_id:0,no_rekening:null,amount:null,nama_bank_lainnya:null,id_bank_masscredit:0},this.banks=[],this.bank_masscredit=[],this.listData=0,this.lastBank=null,this.bankUrl="https://masscredit-api.stagingapps.net/master/bank",this.bankmasscreditkUrl="https://masscredit-api.stagingapps.net/master/bank-masscredit",this.profileUrl="https://masscredit-api.stagingapps.net/user/credential/profile",this.noreferenceUrl="https://masscredit-api.stagingapps.net/user/fund/no-reference"}return CreateComponent.prototype.ngOnInit=function(){this.getProfile(),this.getBank(),this.getNoReference(),this.getBankMasscredit()},CreateComponent.prototype.getBankMasscredit=function(){var e=this;this.http.get(this.bankmasscreditkUrl,this.options).map(function(e){return e.json()}).subscribe(function(n){e.bank_masscredit=n.data.tipe_bank},function(n){var a=JSON.parse(n._body),t=a.meta.message;"unauthorized"==t&&(alert("Maaf session anda telah habis silahkan login kembali"),e.router.navigateByUrl("/dashboard/sign-out"))})},CreateComponent.prototype.getNoReference=function(){var e=this;this.http.post(this.noreferenceUrl,this.data,this.options).map(function(e){return e.json()}).subscribe(function(n){var a=(n.meta.code,n.meta.message,n.data.no_reference);e.data.no_reference=a,e.listData=3,3==e.listData&&(e.dataFundAdd=1)},function(n){var a=JSON.parse(n._body),t=a.meta.message;"unauthorized"==t&&(alert("Maaf session anda telah habis silahkan login kembali"),e.router.navigateByUrl("/dashboard/sign-out"))})},CreateComponent.prototype.getBank=function(){var e=this;this.http.get(this.bankUrl,this.options).map(function(e){return e.json()}).subscribe(function(n){e.banks=n.data.tipe_bank},function(n){var a=JSON.parse(n._body),t=a.meta.message;"unauthorized"==t&&(alert("Maaf session anda telah habis silahkan login kembali"),e.router.navigateByUrl("/dashboard/sign-out"))})},CreateComponent.prototype.getProfile=function(){var e=this;this.http.post(this.profileUrl,this.data_access_token,this.options).map(function(e){return e.json()}).subscribe(function(n){e.data.nama_lengkap=n.data.profile.name},function(n){var a=JSON.parse(n._body),t=a.meta.message;"unauthorized"==t&&(alert("Maaf session anda telah habis silahkan login kembali"),e.router.navigateByUrl("/dashboard/sign-out"))})},CreateComponent=__decorate([t.Component({selector:"create",template:a(919)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.Router&&i.Router)&&e||Object,"function"==typeof(n="undefined"!=typeof o.Http&&o.Http)&&n||Object])],CreateComponent);var e,n}();n.CreateComponent=s},756:function(e,n,a){"use strict";var t=a(0),o=a(87),i=a(50),s=function(){function CreateService(e,n){this.http=e,this.router=n,this.headers=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new o.RequestOptions({headers:this.headers}),this.postFundUrl="https://masscredit-api.stagingapps.net/user/fund/add"}return CreateService.prototype.postFundAdd=function(e){var n=this,a=jQuery("#load");this.http.post(this.postFundUrl,e,this.options).map(function(e){return e.json()}).subscribe(function(e){a.button("reset"),alert("Penambahan dana berhasil, harap konfirmasi dana"),n.router.navigateByUrl("/dashboard/fund")},function(e){var t=JSON.parse(e._body),o=t.meta.message;"unauthorized"==o&&(a.button("reset"),alert("Maaf session anda telah habis silahkan login kembali"),n.router.navigateByUrl("/dashboard/sign-out"))})},CreateService=__decorate([t.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.Http&&o.Http)&&e||Object,"function"==typeof(n="undefined"!=typeof i.Router&&i.Router)&&n||Object])],CreateService);var e,n}();n.CreateService=s},757:function(e,n,a){"use strict";var t=a(0),o=a(87),i=a(50),s=a(756),r=a(696),d=function(){function FormComponent(e,n,a,t){this.router=e,this.http=n,this.createService=a,this.createComponent=t,this.banks=[],this.bank_masscredit=[],this.lastBank=null,this.data=this.createComponent.data,this.bank=0,this.idBankMasscredit=0}return FormComponent.prototype.ngOnInit=function(){jQuery("#createForm").validate({rules:{bank_name:{required:!0},no_rekening:{required:!0},amount:{required:!0},tujuan_bank:{required:!0}}}),jQuery("#amount").mask("000000000000"),jQuery("#no_rekening").mask("000000000000000")},FormComponent.prototype.getBankName=function(e){this.createComponent.data.bank_id=e,this.bank=e},FormComponent.prototype.getTujuanBank=function(e){this.createComponent.data.id_bank_masscredit=e,this.idBankMasscredit=e},FormComponent.prototype.cancelFund=function(){return this.router.navigateByUrl("/dashboard/fund")},FormComponent.prototype.createFund=function(e){if(jQuery("#createForm").valid()){var n=jQuery("#load");n.button("loading"),this.createService.postFundAdd(e)}else alert("Data tidak valid")},__decorate([t.Input("dataBank"),__metadata("design:type",Object)],FormComponent.prototype,"banks",void 0),__decorate([t.Input("dataBankMasscredit"),__metadata("design:type",Object)],FormComponent.prototype,"bank_masscredit",void 0),__decorate([t.Input("dataLastBank"),__metadata("design:type",Object)],FormComponent.prototype,"lastBank",void 0),FormComponent=__decorate([t.Component({selector:"form-add-fund",template:a(920),providers:[s.CreateService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.Router&&i.Router)&&e||Object,"function"==typeof(n="undefined"!=typeof o.Http&&o.Http)&&n||Object,"function"==typeof(d="undefined"!=typeof s.CreateService&&s.CreateService)&&d||Object,"function"==typeof(l="undefined"!=typeof r.CreateComponent&&r.CreateComponent)&&l||Object])],FormComponent);var e,n,d,l}();n.FormComponent=d},758:function(e,n,a){"use strict";function __export(e){for(var a in e)n.hasOwnProperty(a)||(n[a]=e[a])}__export(a(757))},759:function(e,n,a){"use strict";var t=a(0),o=a(50),i=a(87),s=a(153),r=a(72),d=a(696),l=a(758);n.routes=[{path:"",component:d.CreateComponent}];var c=function(){function CreateModule(){}return CreateModule.routes=n.routes,CreateModule=__decorate([t.NgModule({declarations:[d.CreateComponent,l.FormComponent],imports:[i.HttpModule,s.FormsModule,r.CommonModule,o.RouterModule.forChild(n.routes)],providers:[]}),__metadata("design:paramtypes",[])],CreateModule)}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=c},919:function(e,n){e.exports='<section class="content">\n<div class="row">\n  <div class="col-md-12">\n    <div class="row">\n      <div align="center" *ngIf="dataFundAdd == 0"> \n        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n        <span class="sr-only">Loading...</span>\n      </div>\n      <br>\n    </div>\n    <div class="row" *ngIf="dataFundAdd == 1">\n      <form-add-fund [dataBank]="banks" [dataLastBank]="lastBank" [dataBankMasscredit]="bank_masscredit"></form-add-fund>\n    </div>\n  </div>\n</div>\n</section>'},920:function(e,n){e.exports='<div class="box bg-transparent">\n  <div class="box-header" align="center">\n     <h2 class="box-title">Tambah Dana</h2>\n  </div>\n  <div class="box-body">\n  <div class="form-login-register">\n      <form class="form-horizontal clearfix row" name="createForm" id="createForm">\n        <div class="col-md-12">\n          <fieldset disabled>\n            <div class="form-group">\n              <div class="col-md-10 clearfix">\n                <label>Nominal Referensi :</label>\n                <input type="text" placeholder="Nominal Referensi" class="form-control input-md" name="no_reference" id="no_reference" [(ngModel)]="data.no_reference" disabled>\n              </div>\n             </div>\n            <div class="form-group">\n              <div class="col-md-10 clearfix">\n                <label>Nama Lengkap :</label>\n                <input type="text" placeholder="Nama Lengkap" class="form-control input-md" name="nama_lengkap" id="nama_lengkap" [(ngModel)]="data.nama_lengkap" disabled>\n              </div>\n            </div>\n          </fieldset>\n            <div class="form-group">\n              <div class="col-md-10 clearfix">\n               <span class="required">*</span>\n                <label>Bank :</label>\n                <select class="form-control input-md" name="bank_name" id="bank_name" (change)="getBankName($event.target.value)" [(ngModel)]="data.bank_id">\n                  <option value="0" disabled>Bank</option>\n                  <option *ngFor="let bank of banks" [value]="bank.id_tipe_bank">\n                    {{ bank.desc_tipe_bank }}\n                  </option>\n                </select>\n              </div>\n              <br>\n            </div>\n            <div class="form-group">\n              <div class="col-md-10 clearfix">\n                <div *ngIf="bank == -1">\n                  <input type="text" placeholder="Nama Bank" class="form-control input-md" name="other_bank" id="other_bank" [(ngModel)]="data.nama_bank_lainnya">\n                </div>\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-md-10 clearfix">\n                <span class="required">*</span>\n                <label>Nomor Rekening :</label>\n                <input type="text" placeholder="Nomor Rekening" class="form-control input-md" name="no_rekening" id="no_rekening" [(ngModel)]="data.no_rekening">\n              </div>\n            </div>\n            <!-- <div class="form-group">\n              <div class="col-md-12">\n                <label>Tanggal Penambahan Dana :</label>\n                <input  type="text" placeholder="Tanggal" name="date" class="form-control input-md datepicker" id="date" disabled>\n              </div>\n            </div> -->\n            <div class="form-group">\n              <div class="col-md-10 clearfix">\n              <span class="required">*</span>\n                <label>Nominal :</label>\n                <input type="text" placeholder="Nominal" class="form-control input-md" name="amount" id="amount" [(ngModel)]="data.amount">\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-md-5 clearfix">\n              <span class="required">*</span>\n              <label>Pilih Bank MassCredit :</label>\n              <select class="form-control input-md" name="tujuan_bank" id="tujuan_bank" (change)="getTujuanBank($event.target.value)" [(ngModel)]="data.id_bank_masscredit">\n                <option value="0" disabled>Bank</option>\n                <option *ngFor="let bank of bank_masscredit" [value]="bank.id_tipe_bank">\n                  {{ bank.nama_bank }}\n                </option>\n              </select>\n            </div>\n            <div class="col-md-5 clearfix">  \n              <div *ngIf="idBankMasscredit == 0">\n              <label>No Rekening MassCredit :</label>\n              <fieldset disabled>\n                <input type="text" placeholder="No Rekening Tujuan" class="form-control input-md">\n              </fieldset>\n              </div>\n              <div *ngFor="let bank of bank_masscredit">\n                <div *ngIf="idBankMasscredit == bank.id_tipe_bank">\n                <label>No Rekening MassCredit :</label>\n                <fieldset disabled>\n                  <input type="text" placeholder="No Rekening Tujuan" class="form-control input-md" name="no_rekening_tujuan" id="no_rekening_tujuan" value="{{ bank.no_rekening+bank.id_tipe_bank }}">\n                </fieldset>\n                </div>\n              </div>\n            </div>\n              <br>\n            </div>\n            <div class="form-group">\n              <div class="col-md-10 clearfix">\n              </div>\n            </div>\n        </div>\n      </form>\n      <div class="col-md-12 col-center">\n        <button class="btn btn-default" (click)="cancelFund()">Batal</button>\n        <button class="btn btn-red" id="load" data-loading-text="<i class=\'fa fa-spinner fa-spin \'></i>  Loading.." name="singlebutton" type="submit" (click)="createFund(data)">Simpan</button>\n      </div>\n  </div>\n  </div>\n</div>'}});