webpackJsonp([17],{700:function(t,n,a){"use strict";var e=a(0),i=a(87),s=a(50),o=function(){function DetailComponent(t,n,a){this.http=t,this.router=n,this.activatedRoute=a,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.access_token=JSON.parse(localStorage.getItem("access_token")),this.invest_id="",this.data_detail_loan={access_token:this.access_token,invest_id:null},this.data={},this.invest={access_token:this.access_token,loan_id:null,invest_amount:null,password:null},this.dataAmount={},this.dataRestAmount={},this.dataDetailInvest=0,this.dataDetailListInvest=0,this.postInvestUrl="https://masscredit-api.stagingapps.net/other-user/investment/new"}return DetailComponent.prototype.ngOnInit=function(){var t=this;this.activatedRoute.params.subscribe(function(n){var a=n.id;t.invest.loan_id=a,t.data_detail_loan.invest_id=a});this.getDetailInvest()},DetailComponent.prototype.cancelDetailInvest=function(){this.router.navigateByUrl("/dashboard/other-user-action/loan")},DetailComponent.prototype.getDetailInvest=function(){var t=this;this.http.post("https://masscredit-api.stagingapps.net/user/investment/detail",this.data_detail_loan,this.options).map(function(t){return t.json()}).subscribe(function(n){var a="assets/img/default_image.jpg";""==n.data.images&&(n.data.images=a),t.data=n.data,t.dataAmount=n.data.amount,t.dataRestAmount=n.data.sisa,t.delimiterAmount(t.dataAmount)})},DetailComponent.prototype.makeInvest=function(t){this.dataDetailInvest=1},DetailComponent.prototype.postInvest=function(){var t=this;this.http.post(this.postInvestUrl,this.invest,this.options).map(function(t){return t.json()}).subscribe(function(n){t.data=n.data,t.dataDetailInvest=0,alert("Investasi berhasil, harap menunggu konfirmasi borrower"),t.router.navigateByUrl("/dashboard/other-user-action/loan")},function(n){var a=JSON.parse(n._body),e=a.meta.message;a.meta.code;return"unauthorized"==e?(alert("Maaf session anda telah habis silahkan login kembali"),t.router.navigateByUrl("/dashboard/sign-out")):("Anda harus mempunyai jaminan untuk melakukan pinjaman."==e&&(alert("Anda harus mempunyai jaminan untuk melakukan pinjaman"),t.dataDetailInvest=1),"Jumlah yang anda masukan melebihi jumlah pinjaman."==e&&(alert("Jumlah investasi melebihi jumlah pinjaman"),t.dataDetailInvest=1),"Password salah!"==e&&(t.dataDetailInvest=1,alert("Password salah!")),void("Saldo Anda tidak mencukupi."==e&&(t.dataDetailInvest=1,alert("Saldo Anda tidak mencukupi."))))})},DetailComponent.prototype.delimiterAmount=function(t){try{var n=!1,a=t.toString();a<0&&(n=!0),a=a.replace(".",""),a=a.replace("-","");for(var e="",i=a.length,s=0,o=i;o>0;o--)s+=1,e=s%3==1&&1!=s?a.substr(o-1,1)+"."+e:a.substr(o-1,1)+e;n&&(e="-"+e);var l="Rp.";this.dataAmount=l.concat(e)}finally{this.delimiterRestAmount(this.dataRestAmount)}},DetailComponent.prototype.delimiterRestAmount=function(t){try{var n=!1,a=t.toString();a<0&&(n=!0),a=a.replace(".",""),a=a.replace("-","");for(var e="",i=a.length,s=0,o=i;o>0;o--)s+=1,e=s%3==1&&1!=s?a.substr(o-1,1)+"."+e:a.substr(o-1,1)+e;n&&(e="-"+e);var l="Rp.";this.dataRestAmount=l.concat(e)}finally{return this.dataDetailListInvest=1,!0}},DetailComponent=__decorate([e.Component({selector:"detail",template:a(939)}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof s.Router&&s.Router)&&n||Object,"function"==typeof(o="undefined"!=typeof s.ActivatedRoute&&s.ActivatedRoute)&&o||Object])],DetailComponent);var t,n,o}();n.DetailComponent=o},799:function(t,n,a){"use strict";var e=a(0),i=a(50),s=a(87),o=a(153),l=a(72),d=a(700),r=a(800);n.routes=[{path:"",component:d.DetailComponent}];var c=function(){function DetailModule(){}return DetailModule.routes=n.routes,DetailModule=__decorate([e.NgModule({declarations:[d.DetailComponent,r.VerifyComponent],imports:[s.HttpModule,o.FormsModule,l.CommonModule,i.RouterModule.forChild(n.routes)],providers:[]}),__metadata("design:paramtypes",[])],DetailModule)}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=c},800:function(t,n,a){"use strict";function __export(t){for(var a in t)n.hasOwnProperty(a)||(n[a]=t[a])}__export(a(801))},801:function(t,n,a){"use strict";var e=a(0),i=a(50),s=a(700),o=function(){function VerifyComponent(t,n){this.detail=t,this.router=n,this.invest=this.detail.invest}return VerifyComponent.prototype.ngOnInit=function(){jQuery("#confirmInvestForm").validate({rules:{password:{required:!0}}})},VerifyComponent.prototype.cancelConfirmInvest=function(){this.router.navigateByUrl("/dashboard/other-user-action/loan")},VerifyComponent.prototype.confirmInvest=function(){jQuery("#confirmInvestForm").valid()?(this.detail.dataDetailInvest=3,this.detail.postInvest()):alert("Harap masukan password")},VerifyComponent=__decorate([e.Component({selector:"verify",template:' \n\t\t<form name="confirmInvestForm" id="confirmInvestForm">\n\t    <div class="form-group">\n        <input type="password" name="password" placeholder="Password" class="form-control input-md" id="password" [(ngModel)]="invest.password">\n\t    </div>\n  \t</form>\n\t    <div class="form-group">\n          <button class="btn btn-default" (click)="cancelConfirmInvest()">Batal</button>\n          <button class="btn btn-red" (click)="confirmInvest(invest)"style="background-color: #e74c3c;">\n          \t<font style="color:white">Verifikasi</font>\n          </button> \n\t    </div>\n  '}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof s.DetailComponent&&s.DetailComponent)&&t||Object,"function"==typeof(n="undefined"!=typeof i.Router&&i.Router)&&n||Object])],VerifyComponent);var t,n}();n.VerifyComponent=o},939:function(t,n){t.exports='<div class="box-header" align="center">\n  <h2 class="box-title">Detail Pinjaman</h2>\n</div>\n<div class="box-body">\n  <div class="row" *ngIf="dataDetailListInvest == 1">\n    <div class="col-md-4">\n      <div class="box box-solid radius-10" style="border: 2px">\n        <div class="form-group"><br>\n          <img src="{{ data.images }}" alt="Foto Pinjaman" class="thumbnail" width="250px" height="250px">\n        </div>\n      </div>\n      <div class="box box-solid radius-10">\n        <div align="center">\n          <label><h2 style="font-size: 24px;color: orange;">Form Investasi</h2></label>\n        </div>\n        <div *ngIf="dataDetailInvest == 0">\n          <div class="form-group">\n            <input type="text" placeholder="Jumlah Investasi" class="form-control input-md" name="loan_amount" id="loan_amount" value="" [(ngModel)]="invest.invest_amount">\n          </div>\n          <div class="form-group">\n            <button class="btn btn-default" (click)="cancelDetailInvest()">Kembali</button>\n            <button class="btn btn-red" (click)="makeInvest(invest)" style="background-color: #e74c3c;"><font style="color:white">Investasi Sekarang!</font></button>\n          </div>\n        </div>\n        <!-- component password -->\n        <verify *ngIf="dataDetailInvest == 1"></verify>\n        <div align="center" *ngIf="dataDetailInvest == 3"> \n          <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n          <span class="sr-only">Loading...</span>\n        </div>\n      </div>\n    </div>\n    <div class="col-md-7">\n      <div class="box box-solid radius-10">\n        <div class="col-md-12 clearfix"> \n        <div class="form-group">\n          <div class="col-md-4 clearfix">\n            <label class="unit">Nama Pinjaman</label>\n          </div>\n          <div class="col-md-7 clearfix">\n            <input type="text" placeholder="Nama Pinjaman" class="form-control input-md" name="loan_name" id="loan_name" value="{{ data.invest_name }}" disabled>\n          </div>\n        </div>\n        <div class="form-group">\n          <div class="col-md-4 clearfix">\n            <label class="unit">Jumlah Pinjaman</label>\n          </div>\n          <div class="col-md-7 clearfix">\n            <input type="text" placeholder="Jumlah Pinjaman" class="form-control input-md" name="amount" id="amount" value="{{ dataAmount }}" disabled>\n          </div>\n        </div>\n        <div class="form-group">\n          <div class="col-md-4 clearfix">\n            <label class="unit">Sisa Pinjaman</label>\n          </div>\n          <div class="col-md-7 clearfix">\n            <input type="text" placeholder="Sisa Pinjaman" class="form-control input-md" name="sisa" id="sisa" value="{{ dataRestAmount }}" disabled>\n          </div>\n        </div>\n        <div class="form-group">\n          <!-- null -->\n        </div>\n        <div class="form-group">\n          <div class="col-md-4 clearfix">\n            <label class="unit">Tipe Pinjaman</label>\n          </div>\n          <div class="col-md-7 clearfix">\n            <input type="text" placeholder="Tipe Invest" class="form-control input-md" name="invest_name" id="invest_name" value="{{ data.tipe }}" disabled>\n          </div>\n        </div>\n        <div class="form-group">\n          <!-- null -->\n        </div>\n        <div class="form-group">\n          <div class="col-md-4 clearfix">\n            <label class="unit">Deskipsi</label>\n          </div>\n          <div class="col-md-7 clearfix">\n            <textarea type="text" placeholder="Description" class="form-control input-md" name="description" id="description" value="{{ data.collateral_value }}" disabled></textarea>\n          </div>\n        </div>\n        <div class="form-group">\n        <!-- null -->\n        </div>\n        <div class="form-group">\n          <div class="col-md-4 clearfix">\n            <label class="unit">Batas Penawaran</label>\n          </div>\n          <div class="col-md-7 clearfix">\n            <input  type="text" placeholder="Batas Akhir Penawaran" name="due_date" class="form-control input-md" id="due_date" value="" value="{{ data.due_date }}" disabled>\n          </div>\n        </div>\n        <div class="form-group">\n        <!-- null -->\n        </div>\n        <div class="form-group">\n          <div class="col-md-4 clearfix">\n            <label class="unit">Bunga</label>\n          </div>\n          <div class="col-md-5 clearfix">\n            <input type="text" placeholder="Bunga" class="form-control input-md" name="interest" id="interest" value="{{ data.interest }}" disabled>\n          </div>\n            <label class="unit">%/Bulan</label>\n        </div>\n        <div class="form-group">\n          <!-- null -->\n        </div>\n        <div class="form-group">\n          <div class="col-md-4 clearfix">\n            <label class="unit">Tenor</label>\n          </div>\n          <div class="col-md-5">\n           <!-- <div class="col-md-10 clearfix"> -->\n            <input type="text" placeholder="Tenor" class="form-control input-md" name="tenor" id="tenor" value="{{ data.tenor }}" disabled>\n           <!-- </div> -->\n          </div>\n          <label class="unit">Bulan</label>\n        </div>\n        <div class="form-group">\n          <!-- null -->\n        </div>\n        </div>\n      </div>\n    </div>\n  </div>\n    <div align="center" *ngIf="dataDetailListInvest == 0"> \n      <br><br><br><br><br>\n      <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n      <span class="sr-only">Loading...</span>\n    </div>\n</div>'}});