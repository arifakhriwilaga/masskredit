webpackJsonp([29],{719:function(e,s,t){"use strict";var o=t(0),n=t(87),r=t(50),a=t(153),i=t(720);s.routes=[{path:"",component:i.NewPasswordComponent}];var d=function(){function StepRegisterModule(){}return StepRegisterModule.routes=s.routes,StepRegisterModule=__decorate([o.NgModule({declarations:[i.NewPasswordComponent],imports:[n.HttpModule,a.FormsModule,r.RouterModule.forChild(s.routes)],providers:[]}),__metadata("design:paramtypes",[])],StepRegisterModule)}();Object.defineProperty(s,"__esModule",{value:!0}),s.default=d},720:function(e,s,t){"use strict";var o=t(0),n=t(50),r=t(87),a=t(721),i=function(){function NewPasswordComponent(e,s,t,o){this.newPasswordService=e,this.router=s,this.http=t,this.activatedRoute=o,this.user={new_password:null,confirm_new_password:null,reset_token:null},this.cancelUrl="#/home"}return NewPasswordComponent.prototype.ngOnInit=function(){var e=this;this.activatedRoute.params.subscribe(function(s){var t=s.token;e.user.reset_token=t});jQuery("#ResetForm").validate({rules:{new_password:{required:!0},confirm_new_password:{required:!0}},messages:{new_password:"Data dibutuhkan",confirm_new_password:"Data dibutuhkan"}})},NewPasswordComponent.prototype.submitResetPassword=function(e){var s=this;jQuery("#ResetForm").valid()?this.newPasswordService.resetPassword(this.user).then(function(e){var t=e.meta.message,o=JSON.stringify(e.meta.code),n=e.meta.message;"5"==o.charAt(0)&&s.handleError(t),"2"==o.charAt(0)&&s.handleSuccess(n)}):alert("Data tidak valid")},NewPasswordComponent.prototype.handleError=function(e){"Password dan Confirm Password tidak sama"==e&&alert("Password dan Confirm Password tidak sama")},NewPasswordComponent.prototype.handleSuccess=function(e){alert(e),this.router.navigateByUrl("/home")},NewPasswordComponent=__decorate([o.Component({selector:"new-password",template:t(908),providers:[a.NewPasswordService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.NewPasswordService&&a.NewPasswordService)&&e||Object,"function"==typeof(s="undefined"!=typeof n.Router&&n.Router)&&s||Object,"function"==typeof(i="undefined"!=typeof r.Http&&r.Http)&&i||Object,"function"==typeof(d="undefined"!=typeof n.ActivatedRoute&&n.ActivatedRoute)&&d||Object])],NewPasswordComponent);var e,s,i,d}();s.NewPasswordComponent=i},721:function(e,s,t){"use strict";var o=t(0),n=t(87),r=t(50),a=function(){function NewPasswordService(e,s){this.router=e,this.http=s,this.newPasswordUrl="https://masscredit-api.stagingapps.net/user/credential/forgetpassword/new-password",this.headers=new n.Headers({"Content-Type":"application/json",API_KEY:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new n.RequestOptions({headers:this.headers}),this.message={}}return NewPasswordService.prototype.resetPassword=function(e){return this.http.post(this.newPasswordUrl,e,this.options).toPromise().then(function(e){return e.json()}).catch(this.handleError)},NewPasswordService.prototype.handleError=function(e){var s=JSON.parse(e._body);return s},NewPasswordService.prototype.showNotif=function(){jQuery("#myModal").modal({backdrop:"static",keyboard:!1})},NewPasswordService=__decorate([o.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Router&&r.Router)&&e||Object,"function"==typeof(s="undefined"!=typeof n.Http&&n.Http)&&s||Object])],NewPasswordService);var e,s}();s.NewPasswordService=a},908:function(e,s){e.exports='<div class="row">\n<div class="container">\n  <div class="form-account form-login-register" id="step-1">\n  <h2>Ganti Password</h2>\n  <p>Masukan password baru anda</p>\n  <div class="row">\n  <div class="col-xs-12">\n  <form class="form-horizontal clearfix row" name="ResetForm" id="ResetForm">\n  <div class="col-xs-12">\n    <div class="form-group">\n      <div class="col-xs-12">\n      <span class="required">*</span>\n        <input  type="password" placeholder="New Password" class="form-control input-md" [(ngModel)]="user.new_password" id="new_password" name="new_password" required minlength="6">\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="col-xs-12">\n      <span class="required">*</span>\n        <input  type="password" placeholder="Confirm Password" class="form-control input-md" [(ngModel)]="user.confirm_new_password" name="confirm_new_password" required minlength="6">\n      </div>\n    </div>\n  </div>\n  </form>\n  </div>\n  </div>\n  <div class="row">\n  <div class="col-xs-12">\n    <div class="form-group">\n      <div class="col-md-6 col-center">\n        <a [href]="cancelUrl" name="singlebutton" class="btn btn-default" id="load-reject">Batal</a>\n        <button type="submit" (click)="submitResetPassword()" name="singlebutton" class="btn btn-red">Ganti</button>\n      </div>\n    </div>\n  </div>\n  </div>\n  <!-- <div class="modal fade" id="myModal" style="z-index:9000;">\n    <div class="modal-dialog">\n    <div class="modal-content bg-navy">\n      <div class="modal-body">\n      <button type="button" class="close" (click)="hideNotif()" style="color: #ffffff">&times;</button>\n      <div class="row">\n      <div class="col-md-12">\n        <div class="form-group">\n        <h1 style="color:#ffc300;">Hai, {{ register.nama_lengkap }}</h1>\n        <h2 style="color:#ffffff;">Proses registrasi berhasil, langkah selanjutnya silahkan ada melakukan Login.</h2>\n        </div>\n      </div>\n      </div>\n      </div>\n    </div>\n    </div>\n  </div> -->\n  </div>\n</div>\n</div>'}});