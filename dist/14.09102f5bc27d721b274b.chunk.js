webpackJsonp([14],{692:function(n,e,t){"use strict";var a=t(0),s=t(153),i=t(87),o=t(50),r=function(){function CreateComponent(n,e,t){this.http=n,this.router=e,this.fb=t,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.invest={access_token:JSON.parse(localStorage.getItem("access_token")),invest_name:null,invest_type:0,description:null,images:null,due_date:"",amount:null,interest:null,tenor:null,password:null},this.simulation={nominal:null,pokok:null,bunga:null,cicilan_perbulan:null,denda:null,sucess_fee:null},this.token=JSON.parse(localStorage.getItem("access_token")),this.dataInvest=0,this.dataDetailInvest=0}return CreateComponent.prototype.ngOnInit=function(){this.status=this.fb.group({agreement:["",s.Validators.required]}),jQuery("#investForm").validate({rules:{invest_name:{required:!0},invest_type:{required:!0},masa_berlaku:{required:!0},amount:{required:!0},tenor:{required:!0},description:{required:!0}}}),jQuery("#interest").mask("00000"),jQuery("#tenor").mask("00"),jQuery("#amount").mask("0000000000")},CreateComponent.prototype.getTipeInvestasi=function(n){this.tipeInvest=n},CreateComponent.prototype.cancelInvest=function(){this.router.navigateByUrl("/dashboard/other-user-action/invest")},CreateComponent.prototype.createInvest=function(n){if(jQuery("#investForm").valid()){this.invest.due_date=jQuery("#masa_berlaku").datepicker("getDate");var e=new FileReader;e.onload=function(n,e){try{var t=n.target.result.split(",")[1];"AQID"==t&&(this.invest.images=null),"AQID"!=t&&(this.invest.images=t)}finally{this.dataInvest=1}}.bind(this);var t=document.getElementById("images"),a=t.files[0],s=new Uint8Array([1,2,3]),i=s.buffer,o=new Blob([i]);void 0==a&&(a=o);e.readAsDataURL(a)}else alert("Data tidak valid")},CreateComponent.prototype.sendVerifyInvest=function(n){jQuery("#confirmInvestForm").valid()?this.sendDataInvest():alert("Harap masukan password")},CreateComponent.prototype.cancelVerifyInvest=function(){this.dataInvest=0},CreateComponent.prototype.sendDataInvest=function(){var n=this;this.http.post("https://masscredit-api.stagingapps.net/user/investment/new",this.invest,this.options).map(function(n){return n.json()}).subscribe(function(e){e.meta.code,e.meta.message;n.dataDetailInvest=0,alert("Investasi berhasil dibuat"),n.router.navigateByUrl("/dashboard/other-user-action/invest")},function(e){var t=JSON.parse(e._body),a=t.meta.message;t.meta.code;return"unauthorized"==a?(alert("Maaf session anda telah habis silahkan login kembali"),n.router.navigateByUrl("/dashboard/sign-out")):("Password salah!"==a&&(n.dataInvest=1,n.dataDetailInvest=0,alert("Password anda salah")),void("Saldo Anda tidak mencukupi."==a&&(n.dataInvest=1,n.dataDetailInvest=0,alert("Saldo anda tidak mencukupi"))))})},CreateComponent=__decorate([a.Component({selector:"create",template:t(934)}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.Http&&i.Http)&&n||Object,"function"==typeof(e="undefined"!=typeof o.Router&&o.Router)&&e||Object,"function"==typeof(r="undefined"!=typeof s.FormBuilder&&s.FormBuilder)&&r||Object])],CreateComponent);var n,e,r}();e.CreateComponent=r},779:function(n,e,t){"use strict";var a=t(0),s=t(50),i=t(87),o=t(153),r=t(72),l=t(692),d=t(781),c=t(782);e.routes=[{path:"",component:l.CreateComponent}];var u=function(){function CreateModule(){}return CreateModule.routes=e.routes,CreateModule=__decorate([a.NgModule({declarations:[l.CreateComponent,d.DueDateComponent,c.VerifyComponent],imports:[i.HttpModule,o.FormsModule,r.CommonModule,s.RouterModule.forChild(e.routes),o.ReactiveFormsModule],providers:[]}),__metadata("design:paramtypes",[])],CreateModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},780:function(n,e,t){"use strict";var a=t(0),s=t(692),i=function(){function DueDateComponent(n){this.create=n,this.invest=this.create.invest}return DueDateComponent.prototype.ngOnInit=function(){jQuery("#masa_berlaku").datepicker({format:"yyyy-mm-dd"})},DueDateComponent=__decorate([a.Component({selector:"due-date",template:' \n\t<div class="form-group">\n    <div class="col-md-8">\n    <span class="required">*</span>\n    <input  type="text" placeholder="Batas Akhir Penawaran " name="masa_berlaku" class="form-control input-md datepicker" id="masa_berlaku" [(ngModel)]="invest.masa_berlaku">\n    </div>\n  </div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof s.CreateComponent&&s.CreateComponent)&&n||Object])],DueDateComponent);var n}();e.DueDateComponent=i},781:function(n,e,t){"use strict";function __export(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}__export(t(780))},782:function(n,e,t){"use strict";function __export(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}__export(t(783))},783:function(n,e,t){"use strict";var a=t(0),s=t(50),i=t(692),o=function(){function VerifyComponent(n,e){this.create=n,this.router=e,this.invest=this.create.invest,this.dataConfirmInvest=0}return VerifyComponent.prototype.ngOnInit=function(){jQuery("#confirmInvestForm").validate({rules:{password:{required:!0}}})},VerifyComponent.prototype.cancelConfirmInvest=function(){this.router.navigateByUrl("/dashboard/other-user-action/invest")},VerifyComponent.prototype.confirmInvest=function(){jQuery("#confirmInvestForm").valid()?(this.create.dataDetailInvest=1,this.create.dataInvest=3,this.create.sendDataInvest()):alert("Harap masukan password")},VerifyComponent=__decorate([a.Component({selector:"verify",template:'\n\t<form class="form-horizontal clearfix row" name="confirmInvestForm" id="confirmInvestForm">\n\t  <div class="col-md-12">\n\t    <div class="form-group">\n\t          <span class="required">*</span>\n\t          <input type="password" name="password" placeholder="Password" class="form-control input-md" id="password" [(ngModel)]="invest.password">\n\t    </div>\n\t  </div>\n\t</form>\n\t  <div class="col-md-12">\n\t    <div class="form-group">\n\t        <div class="col-md-6 col-center">\n\t          <button class="btn btn-default" (click)="cancelConfirmInvest()">Batal</button>\n\t          <button class="btn btn-red" (click)="confirmInvest(invest)">Verifikasi</button>\n\t        </div>\n\t    </div>\n\t  </div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.CreateComponent&&i.CreateComponent)&&n||Object,"function"==typeof(e="undefined"!=typeof s.Router&&s.Router)&&e||Object])],VerifyComponent);var n,e}();e.VerifyComponent=o},934:function(n,e){n.exports='<div class="row">\n  <div class="col-xs-8">\n  <div class="box-header">\n    <h2 class="box-title">Tambah Investasi</h2>\n  </div>\n  <div class="box-body">\n  <div class="row">\n    <div class="col-xs-12">\n    <form class="form-center" name="investForm" id="investForm">\n      <div *ngIf="dataInvest == 0">\n      <div class="row" align="center">\n      <div class="col-md-4">\n        <div class="form-group">\n          <div class="col-md-12">\n            <span class="required">*</span>\n            <input type="text" name="invest_name" placeholder="Nama Investasi" class="form-control input-md" id="invest_name" [(ngModel)]="invest.invest_name">\n          </div>\n         </div>\n         <div class="form-group">\n            <div class="col-md-12">\n              <span class="required">*</span>\n              <select class="form-control input-md" name="invest_type" id="invest_type" (change)="getTipeInvestasi($event.target.value)" [(ngModel)]="invest.invest_type">\n                <option value="0" disabled>Tipe Investasi</option>\n                <option [value]="1">Jaminan</option>\n                <option [value]="2">Tanpa Jaminan</option>\n              </select>\n            </div>\n         </div>\n         <div class="form-group">\n            <div class="col-md-12">\n              <div class="input-group">\n                <label class="input-group-btn">Foto Investasi</label>\n                <input type="file" id="images">\n              </div>\n            </div>\n        </div>\n        <div class="form-group">\n           <div class="col-md-12">\n             <span class="required">*</span>\n             <textarea placeholder="Deskripsi" class="form-control input-md"   name="description" id="description" [(ngModel)]="invest.description">\n             </textarea>\n           </div>\n        </div>\n      </div>\n      <div class="col-md-6">\n        <div class="form-group">\n          <div class="col-md-8">\n            <span class="required">*</span>\n            <input type="text" placeholder="Nominal Investasi" class="form-control input-md" name="amount" id="amount" [(ngModel)]="invest.amount">\n          </div>\n          <label class="unit">Rupiah</label>\n        </div>\n          <!-- component due-date -->\n          <due-date></due-date>\n\n        <div class="form-group">\n          <div class="col-md-8">\n            <input type="text" placeholder="Bunga" class="form-control input-md"  name="interest" id="interest" [(ngModel)]="invest.interest">\n            </div>\n            <label class="unit">%/bulan</label>\n        </div>\n        <div class="form-group">\n          <div class="col-md-8">\n            <span class="required">*</span>\n            <input type="text" placeholder="Tenor" class="form-control input-md" maxlength="2" minlength="1"  name="tenor" id="tenor" [(ngModel)]="invest.tenor">\n          </div>\n            <label class="unit">Bulan</label>\n        </div>\n      </div>\n      </div>\n      <div class="row">\n      <div class="col-xs-12">\n        <button class="btn-simulation">KALKULASI</button>\n      </div>\n      </div>\n      </div>\n    </form>\n    </div>\n  </div>\n  </div>\n  </div>\n  <div class="col-xs-4">\n    <div class="box-header">\n      <h2 class="box-title">Kalkulasi Investasi</h2>\n    </div>\n    <div class="box-body">\n      <div class="row">\n      <div class="col-xs-12">     \n      <form name="investForm" id="investForm">\n        <div *ngIf="dataInvest == 0">\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Nominal</label>\n            </div>\n            <div class="col-xs-7">\n              <input type="text" name="nominal" placeholder="Nominal" class="form-control input-md" id="nominal" [(ngModel)]="simulation.nominal">\n            </div>\n           </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Pokok</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" name="pokok" placeholder="Pokok" class="form-control input-md" id="pokok" [(ngModel)]="simulation.pokok"> \n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Bunga</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="Bunga" class="form-control input-md" name="bunga" id="bunga" [(ngModel)]="simulation.bunga">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Cicilan per bulan</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="Cicilan per bulan" class="form-control" name="cicilan_per_bulan" id="cicilan_per_bulan" [(ngModel)]="simulation.cicilan_per_bulan">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Denda</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="Denda" class="form-control input-md" name="denda" id="denda" [(ngModel)]="simulation.denda">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Success Fee</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="Success Fee" class="form-control input-md" name="success_fee" id="success_fee" [(ngModel)]="simulation.success_fee">\n            </div>\n          </div>\n        </div>\n        <div class="col-md-12">\n          <div class="form-group">\n            <!-- <div class="col-md-6 col-center">\n              <button class="btn-simulation">KALKULASI</button>\n            </div> -->\n          </div>\n        </div>\n      </form>\n        <div *ngIf="dataInvest == 0">\n        <div class="col-md-12">\n          <div class="form-group">\n            <div class="col-md-6">\n              <!-- <button class="btn btn-red">Kalkulasi</button> -->\n              <form novalidate [formGroup]="status">\n              <span class="input-group-addon">\n                <input type="checkbox" formControlName="agreement">\n                <label>Saya setuju dengan syarat dan ketentuan</label>\n              </span>\n              <!-- <button class="btn btn-default" (click)="cancelInvest()">Batal</button> -->\n              <button class="btn" (click)="createInvest(invest)" [disabled]="!status.valid">Simpan</button>\n              </form>\n            </div>\n          </div>\n        </div>\n        </div>\n        <!-- component password -->\n        <verify *ngIf="dataInvest == 1"></verify>\n      </div>\n      </div>\n    </div>\n  </div>\n<!-- <div align="center" *ngIf="dataDetailInvest == 1"> \n  <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n  <span class="sr-only">Loading...</span>\n</div> -->\n</div>'}});