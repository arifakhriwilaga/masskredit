<<<<<<< HEAD
webpackJsonp([13],{697:function(n,e,t){"use strict";var i=t(0),a=t(153),s=t(87),o=t(50),r=t(764),l=function(){function CreateComponent(n,e,t,i){this.http=n,this.router=e,this.fb=t,this.createService=i,this.invest={access_token:JSON.parse(localStorage.getItem("access_token")),invest_name:null,invest_type:0,description:null,images:null,due_date:"",amount:null,interest:null,tenor:null,password:null},this.dataIsOn=[{value:1},{value:0}],this.isOn=0,this.simulation={nominal:null,success_fee:null,nominal_and_fee:null,pokok:null,bunga:null,tenor:null,denda:null,cicilan_perbulan:null,transaction_fee:null},this.dataCalculation={jumlah:null,bunga:null,tenor:null}}return CreateComponent.prototype.ngOnInit=function(){this.status=this.fb.group({agreement:["",a.Validators.required]}),jQuery("#investForm").validate({rules:{invest_name:{required:!0},invest_type:{required:!0},due_date:{required:!0},amount:{required:!0},tenor:{required:!0},description:{required:!0}},messages:{invest_name:"Field ini harus diisi.",invest_type:"Field ini harus diisi.",due_date:"Field ini harus diisi.",amount:"Field ini harus diisi.",tenor:"Field ini harus diisi.",description:"Field ini harus diisi."}}),jQuery("#due_date").mask("99-99-9999"),jQuery("#interest").mask("00000"),jQuery("#tenor").mask("00"),jQuery("#amount").mask("0000000000")},CreateComponent.prototype.getTipeInvestasi=function(n){this.tipeInvest=n},CreateComponent.prototype.createInvest=function(){if(jQuery("#investForm").valid()){if(0===this.isOn)return;try{var n=jQuery("#due_date").val(),e=n.split("-"),t=e[2]+"-"+e[1]+"-"+e[0];this.invest.due_date=t}finally{this.formVerify=1}}else alert("Data tidak valid")},CreateComponent.prototype.hideVerify=function(n){this.formVerify=n},CreateComponent.prototype.calculationInvest=function(){if(jQuery("#investForm").valid()){this.dataCalculation.bunga=this.invest.interest,this.dataCalculation.jumlah=this.invest.amount,this.dataCalculation.tenor=this.invest.tenor;var n=document.getElementById("images"),e=n.files[0],t=new Uint8Array([1,2,3]),i=t.buffer,a=new Blob([i]);void 0==e&&(e=a),this.encodeImage(e).onload=function(n,e){var t=this;try{var i=n.target.result.split(",")[1];"AQID"!=i?this.invest.images=i:this.invest.images=null}finally{this.createService.calculationInvest(this.dataCalculation).then(function(n){try{t.simulation.nominal=t.delimiter(n.data.simulation_result.nominal),t.simulation.success_fee=t.delimiter(n.data.simulation_result.sucess_fee),t.simulation.nominal_and_fee=t.delimiter(n.data.simulation_result.nominal_and_fee),t.simulation.pokok=t.delimiter(n.data.simulation_result.pokok),t.simulation.bunga=t.delimiter(n.data.simulation_result.bunga),t.simulation.tenor=t.delimiter(n.data.simulation_result.tenor),t.simulation.denda=t.delimiter(n.data.simulation_result.denda),t.simulation.cicilan_perbulan=t.delimiter(n.data.simulation_result.cicilan_perbulan),t.simulation.transaction_fee=t.delimiter(n.data.simulation_result.transaction_fee)}finally{t.dataInvest=1}})}}.bind(this)}else alert("Data tidak valid")},CreateComponent.prototype.encodeImage=function(n){var e=new FileReader;return e.readAsDataURL(n),e},CreateComponent.prototype.delimiter=function(n){var e=!1,t=n.toString();t<0&&(e=!0),t=t.replace(".",""),t=t.replace("-","");for(var i="",a=t.length,s=0,o=a;o>0;o--)s+=1,i=s%3==1&&1!=s?t.substr(o-1,1)+"."+i:t.substr(o-1,1)+i;e&&(i="-"+i);var r="Rp.";return r.concat(i)},CreateComponent=__decorate([i.Component({selector:"create",template:t(939),providers:[r.CreateService]}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof s.Http&&s.Http)&&n||Object,"function"==typeof(e="undefined"!=typeof o.Router&&o.Router)&&e||Object,"function"==typeof(l="undefined"!=typeof a.FormBuilder&&a.FormBuilder)&&l||Object,"function"==typeof(d="undefined"!=typeof r.CreateService&&r.CreateService)&&d||Object])],CreateComponent);var n,e,l,d}();e.CreateComponent=l},698:function(n,e,t){"use strict";var i=t(0),a=t(50),s=t(771),o=function(){function VerifyComponent(n,e){this.verifyService=n,this.router=e,this.statusConfirm=1,this.dataInvest={access_token:null,invest_name:null,invest_type:0,description:null,images:null,due_date:"",amount:null,interest:null,tenor:null,password:null},this.statusForm=new i.EventEmitter}return VerifyComponent.prototype.ngOnInit=function(){jQuery("#ModalForm").modal({backdrop:"static",keyboard:!1})},VerifyComponent.prototype.cancelConfirmInvest=function(){jQuery("#ModalForm").modal("toggle"),this.router.navigateByUrl("dashboard/other-user-action/invest")},VerifyComponent.prototype.hideModal=function(){this.statusForm.emit(0)},VerifyComponent.prototype.confirmInvest=function(){var n=this;jQuery("#confirmInvestForm").valid()?(this.statusConfirm=0,this.verifyService.createInvest(this.dataInvest).then(function(e){var t=e.meta.message,i=JSON.stringify(e.meta.code);"4"==i.charAt(0)&&n.handleError(t),"2"==i.charAt(0)&&n.handleSuccess()})):alert("Harap masukan password")},VerifyComponent.prototype.handleError=function(n){try{"Saldo Anda tidak mencukupi."==n?alert("Saldo Anda tidak mencukupi."):alert("Password anda salah")}finally{this.statusConfirm=1}},VerifyComponent.prototype.handleSuccess=function(){alert("Investasi berhasil dibuat"),jQuery("#ModalForm").modal("toggle"),this.router.navigateByUrl("/dashboard/other-user-action/invest")},__decorate([i.Input(),__metadata("design:type",Object)],VerifyComponent.prototype,"dataInvest",void 0),__decorate([i.Output(),__metadata("design:type",Object)],VerifyComponent.prototype,"statusForm",void 0),VerifyComponent=__decorate([i.Component({selector:"verify",template:t(940),providers:[s.VerifyService]}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof s.VerifyService&&s.VerifyService)&&n||Object,"function"==typeof(e="undefined"!=typeof a.Router&&a.Router)&&e||Object])],VerifyComponent);var n,e}();e.VerifyComponent=o},764:function(n,e,t){"use strict";var i=t(0),a=t(87);t(403);var s=function(){function CreateService(n){this.http=n,this.headers=new a.Headers({"Content-Type":"application/json",API_KEY:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new a.RequestOptions({headers:this.headers}),this.simulationUrl="https://masscredit-api.stagingapps.net/user/investment/simulate"}return CreateService.prototype.calculationInvest=function(n){return this.http.post(this.simulationUrl,n,this.options).toPromise().then(function(n){return n.json()}).catch(this.handleError)},CreateService.prototype.handleError=function(n){var e=JSON.parse(n._body);return e},CreateService=__decorate([i.Injectable(),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.Http&&a.Http)&&n||Object])],CreateService);var n}();e.CreateService=s},765:function(n,e,t){"use strict";var i=t(0),a=t(50),s=t(87),o=t(153),r=t(72),l=t(697),d=t(767),c=t(770),u=t(769);e.routes=[{path:"",component:l.CreateComponent}];var p=function(){function CreateModule(){}return CreateModule.routes=e.routes,CreateModule=__decorate([i.NgModule({declarations:[l.CreateComponent,d.DueDateComponent,c.VerifyComponent,u.FormVerifyComponent],imports:[s.HttpModule,o.FormsModule,r.CommonModule,a.RouterModule.forChild(e.routes),o.ReactiveFormsModule]}),__metadata("design:paramtypes",[])],CreateModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=p},766:function(n,e,t){"use strict";var i=t(0),a=t(697),s=function(){function DueDateComponent(n){this.create=n,this.invest=this.create.invest}return DueDateComponent.prototype.ngOnInit=function(){jQuery("#due_date").datepicker({format:"dd-mm-yyyy",startDate:"today",autoclose:!0,todayHighlight:!0})},DueDateComponent=__decorate([i.Component({selector:"due-date",template:' \n\t<div class="form-group">\n    <div class="row">\n      <div class="col-md-10">\n      <span class="required">*</span>\n      <input type="text" placeholder="Batas Penawaran" class="form-control input-md datepicker" name="due_date" id="due_date" [(ngModel)]="invest.due_date">\n    </div>\n    </div>\n  </div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.CreateComponent&&a.CreateComponent)&&n||Object])],DueDateComponent);var n}();e.DueDateComponent=s},767:function(n,e,t){"use strict";function __export(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}__export(t(766))},768:function(n,e,t){"use strict";var i=t(0),a=t(698),s=function(){function FormVerifyComponent(n){this.verifyComponent=n,this.dataInvest=this.verifyComponent.dataInvest}return FormVerifyComponent.prototype.ngOnInit=function(){jQuery("#confirmInvestForm").validate({rules:{password:{required:!0}}})},FormVerifyComponent=__decorate([i.Component({selector:"form-verify",template:'\n\t\t<form name="confirmInvestForm" id="confirmInvestForm">\n\t\t  <div class="col-md-6">\n\t\t    <div class="form-group">\n          <span class="required">*</span>\n          <input type="password" name="password" placeholder="Password" class="form-control input-md" id="password" [(ngModel)]="dataInvest.password">\n\t\t    </div>\n\t\t  </div>\n\t\t</form>\n\t'}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.VerifyComponent&&a.VerifyComponent)&&n||Object])],FormVerifyComponent);var n}();e.FormVerifyComponent=s},769:function(n,e,t){"use strict";function __export(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}__export(t(768))},770:function(n,e,t){"use strict";function __export(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}__export(t(698))},771:function(n,e,t){"use strict";var i=t(0),a=t(87);t(403);var s=function(){function VerifyService(n){this.http=n,this.headers=new a.Headers({"Content-Type":"application/json",API_KEY:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new a.RequestOptions({headers:this.headers}),this.investUrl="https://masscredit-api.stagingapps.net/user/investment/new"}return VerifyService.prototype.createInvest=function(n){return this.http.post(this.investUrl,n,this.options).toPromise().then(function(n){return n.json()}).catch(this.handleError)},VerifyService.prototype.handleError=function(n){var e=JSON.parse(n._body);return e},VerifyService=__decorate([i.Injectable(),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.Http&&a.Http)&&n||Object])],VerifyService);var n}();e.VerifyService=s},939:function(n,e){n.exports='<div class="row">\n  <div class="col-xs-12">\n  \n  <div class="box-body">\n  <div class="row">\n    <div class="col-xs-12">\n    <form class="form-center" (ngSubmit)="calculationInvest()" name="investForm" id="investForm">\n      <div class="row">\n      <div class="col-xs-6">\n      <div class="box-header">\n        <h2 class="box-title">Tambah Investasi</h2>\n      </div>\n      </div>\n        <div class="col-xs-5">\n        <button class="btn-calculation-invest pull-right col-center" type="submit">KALKULASI</button>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-md-6">\n        <div class="form-group">\n          <div class="col-md-12">\n            <span class="required">*</span>\n            <input type="text" name="invest_name" placeholder="Nama Investasi" class="form-control input-md" id="invest_name" [(ngModel)]="invest.invest_name">\n          </div>\n         </div>\n         <div class="form-group">\n            <div class="col-md-12">\n              <span class="required">*</span>\n              <select class="form-control input-md" name="invest_type" id="invest_type" (change)="getTipeInvestasi($event.target.value)" [(ngModel)]="invest.invest_type">\n                <option value="0" disabled>Tipe Investasi</option>\n                <option [value]="1">Jaminan</option>\n                <option [value]="2">Tanpa Jaminan</option>\n              </select>\n            </div>\n         </div>\n         <div class="form-group">\n            <div class="col-md-12">\n              <div class="input-group">\n                <label class="input-group-btn">Foto Investasi</label>\n                <input type="file" id="images">\n              </div>\n            </div>\n        </div>\n        <div class="form-group">\n           <div class="col-md-12">\n             <span class="required">*</span>\n             <textarea placeholder="Deskripsi" class="form-control input-md"   name="description" id="description" [(ngModel)]="invest.description">\n             </textarea>\n           </div>\n        </div>\n        </div>\n        <div class="col-md-6">\n        <div class="form-group">\n          <div class="row">\n            <div class="col-md-10">\n            <span class="required">*</span>\n            <input type="text" placeholder="Nominal Investasi" class="form-control input-md" name="amount" id="amount" [(ngModel)]="invest.amount">\n          </div>\n          <div class="2">\n            <label class="unit">Rupiah</label>\n          </div>\n          </div>\n        </div>\n       \n        <!-- component due-date -->\n        <due-date></due-date>\n       \n        <div class="form-group">\n          <div class="row">\n            <div class="col-md-10">\n            <!-- <span class="required">*</span> -->\n            <input type="text" placeholder="Bunga" class="form-control input-md" name="interest" id="interest" [(ngModel)]="invest.interest">\n          </div>\n          <div class="2">\n            <label class="unit">%/bln</label>\n          </div>\n          </div>\n        </div>\n        <div class="form-group">\n          <div class="row">\n            <div class="col-md-10">\n            <span class="required">*</span>\n            <input type="text" placeholder="Tenor" class="form-control input-md" name="tenor" id="tenor" [(ngModel)]="invest.tenor">\n          </div>\n          <div class="2">\n            <label class="unit">Bulan</label>\n          </div>\n          </div>\n        </div>\n        </div>\n      </div>\n    </form>\n    </div>\n  </div>\n  </div>\n  </div>\n</div>\n<div class="row">\n  <hr>\n  <div class="col-xs-12">\n    <br>\n    <div class="box-header" align="center">\n      <h2 class="box-title">Kalkulasi Investasi</h2>\n    </div>\n    <div class="box-body">\n      <div class="row">\n      <div class="col-xs-12">     \n      <form name="investForm" id="investForm">\n        <fieldset disabled>\n          <div class="col-md-6">\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Nominal</label>\n            </div>\n            <div class="col-xs-7">\n              <input type="text" name="nominal" id="nominal" placeholder="-" class="form-control input-md" id="nominal" [(ngModel)]="simulation.nominal">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Success Fee</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="success_fee" id="success_fee" [(ngModel)]="simulation.success_fee">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Nominal dan Fee</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="nominal_and_fee" id="nominal_and_fee" [(ngModel)]="simulation.nominal_and_fee">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Pokok</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" name="pokok" id="pokok" placeholder="-" class="form-control input-md" id="pokok" [(ngModel)]="simulation.pokok"> \n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Bunga</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="bunga" id="bunga" [(ngModel)]="simulation.bunga">\n            </div>\n          </div>\n          </div>\n          <div class="col-md-6">\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Tenor</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control" name="tenor" id="tenor" [(ngModel)]="simulation.tenor">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Denda</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="denda" id="denda" [(ngModel)]="simulation.denda">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Cicilan/bulan</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control" name="cicilan_per_bulan" id="cicilan_per_bulan" [(ngModel)]="simulation.cicilan_perbulan">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Transaction Fee</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="transaction_fee" id="transaction_fee" [(ngModel)]="simulation.transaction_fee">\n            </div>\n          </div>\n          </div>\n        </fieldset>\n      </form>\n        <div *ngIf="dataInvest == 1">\n        <div class="col-md-12">\n          <div class="form-group">\n          <div class="col-md-6 col-center">\n          <div align="center">\n            <span class="input-group-addon">\n              <input type="checkbox" [checked]="isOn === dataIsOn[0].value" (change)="$event.target.checked? (isOn = dataIsOn[0].value) : (isOn = dataIsOn[1].value)">\n              <label>Saya setuju dengan syarat dan ketentuan</label>\n            </span>\n            <button class="btn btn-submit-invest" (click)="createInvest()" [ngClass]="{disabled:isOn === 0}" id="createLoan">Simpan</button>\n          </div>\n          </div>\n          </div>\n        </div>\n        </div>\n        <!-- component password -->\n        <verify *ngIf="formVerify == 1" (statusForm)="hideVerify($event)" [dataInvest]="invest"></verify>\n      </div>\n      </div>\n    </div>\n  </div>\n  <div align="center" *ngIf="dataInvest == 0"> \n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n</div>'},940:function(n,e){n.exports='<div class="modal fade" id="ModalForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index: 9000">\n<div class="modal-dialog  modal-style">\n\t<div class="modal-content">\n\t  <div class="modal-header">\n\t    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" (click)="hideModal()">&times;</button>\n\t\t  <h4 class="modal-title">Masukan Password untuk verifikasi</h4>\n\t  </div>\n\t  <div class="modal-body">\n\t   <div class="row">\n\t    <div align="center" *ngIf="statusConfirm == 0"> \n\t\t    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n\t\t    <span class="sr-only">Loading...</span>\n\t\t  </div>\n\t\t  <div *ngIf="statusConfirm == 1">\n\t\t  <!-- component form -->\n\t\t  <form-verify></form-verify>\n\t\t  <div class="col-md-6">\n\t\t    <div class="form-group">\n\t\t        <div class="col-md-12">\n\t\t          <button class="btn btn-default" (click)="cancelConfirmInvest()">Batal</button>\n\t\t          <button class="btn btn-red" (click)="confirmInvest()">Verifikasi</button>\n\t\t        </div>\n\t\t    </div>\n\t\t  </div>\n\t\t  </div>\n\t   </div>\n\t  </div>\n\t</div>\n</div>\n</div>'}});
=======
webpackJsonp([13],{699:function(n,e,t){"use strict";var i=t(0),a=t(153),s=t(87),o=t(50),r=t(770),l=function(){function CreateComponent(n,e,t,i){this.http=n,this.router=e,this.fb=t,this.createService=i,this.invest={access_token:JSON.parse(localStorage.getItem("access_token")),invest_name:null,invest_type:0,description:null,images:null,due_date:"",amount:null,interest:null,tenor:null,password:null},this.dataIsOn=[{value:1},{value:0}],this.isOn=0,this.simulation={nominal:null,success_fee:null,nominal_and_fee:null,pokok:null,bunga:null,tenor:null,denda:null,cicilan_perbulan:null,transaction_fee:null},this.dataCalculation={jumlah:null,bunga:null,tenor:null}}return CreateComponent.prototype.ngOnInit=function(){this.status=this.fb.group({agreement:["",a.Validators.required]}),jQuery("#investForm").validate({rules:{invest_name:{required:!0},invest_type:{required:!0},due_date:{required:!0},amount:{required:!0},tenor:{required:!0},description:{required:!0}},messages:{invest_name:"Field ini harus diisi.",invest_type:"Field ini harus diisi.",due_date:"Field ini harus diisi.",amount:"Field ini harus diisi.",tenor:"Field ini harus diisi.",description:"Field ini harus diisi."}}),jQuery("#due_date").mask("99-99-9999"),jQuery("#interest").mask("00000"),jQuery("#tenor").mask("00"),jQuery("#amount").mask("0000000000")},CreateComponent.prototype.getTipeInvestasi=function(n){this.tipeInvest=n},CreateComponent.prototype.createInvest=function(){if(jQuery("#investForm").valid()){if(0===this.isOn)return;try{var n=jQuery("#due_date").val(),e=n.split("-"),t=e[2]+"-"+e[1]+"-"+e[0];this.invest.due_date=t}finally{this.formVerify=1}}else alert("Data tidak valid")},CreateComponent.prototype.hideVerify=function(n){this.formVerify=n},CreateComponent.prototype.calculationInvest=function(){if(jQuery("#investForm").valid()){this.dataCalculation.bunga=this.invest.interest,this.dataCalculation.jumlah=this.invest.amount,this.dataCalculation.tenor=this.invest.tenor;var n=document.getElementById("images"),e=n.files[0],t=new Uint8Array([1,2,3]),i=t.buffer,a=new Blob([i]);void 0==e&&(e=a),this.encodeImage(e).onload=function(n,e){var t=this;try{var i=n.target.result.split(",")[1];"AQID"!=i?this.invest.images=i:this.invest.images=null}finally{this.createService.calculationInvest(this.dataCalculation).then(function(n){try{t.simulation.nominal=t.delimiter(n.data.simulation_result.nominal),t.simulation.success_fee=t.delimiter(n.data.simulation_result.sucess_fee),t.simulation.nominal_and_fee=t.delimiter(n.data.simulation_result.nominal_and_fee),t.simulation.pokok=t.delimiter(n.data.simulation_result.pokok),t.simulation.bunga=t.delimiter(n.data.simulation_result.bunga),t.simulation.tenor=t.delimiter(n.data.simulation_result.tenor),t.simulation.denda=t.delimiter(n.data.simulation_result.denda),t.simulation.cicilan_perbulan=t.delimiter(n.data.simulation_result.cicilan_perbulan),t.simulation.transaction_fee=t.delimiter(n.data.simulation_result.transaction_fee)}finally{t.dataInvest=1}})}}.bind(this)}else alert("Data tidak valid")},CreateComponent.prototype.encodeImage=function(n){var e=new FileReader;return e.readAsDataURL(n),e},CreateComponent.prototype.delimiter=function(n){var e=!1,t=n.toString();t<0&&(e=!0),t=t.replace(".",""),t=t.replace("-","");for(var i="",a=t.length,s=0,o=a;o>0;o--)s+=1,i=s%3==1&&1!=s?t.substr(o-1,1)+"."+i:t.substr(o-1,1)+i;e&&(i="-"+i);var r="Rp.";return r.concat(i)},CreateComponent=__decorate([i.Component({selector:"create",template:t(947),providers:[r.CreateService]}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof s.Http&&s.Http)&&n||Object,"function"==typeof(e="undefined"!=typeof o.Router&&o.Router)&&e||Object,"function"==typeof(l="undefined"!=typeof a.FormBuilder&&a.FormBuilder)&&l||Object,"function"==typeof(d="undefined"!=typeof r.CreateService&&r.CreateService)&&d||Object])],CreateComponent);var n,e,l,d}();e.CreateComponent=l},700:function(n,e,t){"use strict";var i=t(0),a=t(50),s=t(777),o=function(){function VerifyComponent(n,e){this.verifyService=n,this.router=e,this.statusConfirm=1,this.dataInvest={access_token:null,invest_name:null,invest_type:0,description:null,images:null,due_date:"",amount:null,interest:null,tenor:null,password:null},this.statusForm=new i.EventEmitter}return VerifyComponent.prototype.ngOnInit=function(){jQuery("#ModalForm").modal({backdrop:"static",keyboard:!1})},VerifyComponent.prototype.cancelConfirmInvest=function(){jQuery("#ModalForm").modal("toggle"),this.router.navigateByUrl("dashboard/other-user-action/invest")},VerifyComponent.prototype.hideModal=function(){this.statusForm.emit(0)},VerifyComponent.prototype.confirmInvest=function(){var n=this;jQuery("#confirmInvestForm").valid()?(this.statusConfirm=0,this.verifyService.createInvest(this.dataInvest).then(function(e){var t=e.meta.message,i=JSON.stringify(e.meta.code);"4"==i.charAt(0)&&n.handleError(t),"2"==i.charAt(0)&&n.handleSuccess()})):alert("Harap masukan password")},VerifyComponent.prototype.handleError=function(n){try{"Saldo Anda tidak mencukupi."==n?alert("Saldo Anda tidak mencukupi."):alert("Password anda salah")}finally{this.statusConfirm=1}},VerifyComponent.prototype.handleSuccess=function(){alert("Investasi berhasil dibuat"),jQuery("#ModalForm").modal("toggle"),this.router.navigateByUrl("/dashboard/other-user-action/invest")},__decorate([i.Input(),__metadata("design:type",Object)],VerifyComponent.prototype,"dataInvest",void 0),__decorate([i.Output(),__metadata("design:type",Object)],VerifyComponent.prototype,"statusForm",void 0),VerifyComponent=__decorate([i.Component({selector:"verify",template:t(948),providers:[s.VerifyService]}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof s.VerifyService&&s.VerifyService)&&n||Object,"function"==typeof(e="undefined"!=typeof a.Router&&a.Router)&&e||Object])],VerifyComponent);var n,e}();e.VerifyComponent=o},770:function(n,e,t){"use strict";var i=t(0),a=t(87);t(403);var s=function(){function CreateService(n){this.http=n,this.headers=new a.Headers({"Content-Type":"application/json",API_KEY:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new a.RequestOptions({headers:this.headers}),this.simulationUrl="https://masscredit-api.stagingapps.net/user/investment/simulate"}return CreateService.prototype.calculationInvest=function(n){return this.http.post(this.simulationUrl,n,this.options).toPromise().then(function(n){return n.json()}).catch(this.handleError)},CreateService.prototype.handleError=function(n){var e=JSON.parse(n._body);return e},CreateService=__decorate([i.Injectable(),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.Http&&a.Http)&&n||Object])],CreateService);var n}();e.CreateService=s},771:function(n,e,t){"use strict";var i=t(0),a=t(50),s=t(87),o=t(153),r=t(62),l=t(699),d=t(773),c=t(776),u=t(775);e.routes=[{path:"",component:l.CreateComponent}];var p=function(){function CreateModule(){}return CreateModule.routes=e.routes,CreateModule=__decorate([i.NgModule({declarations:[l.CreateComponent,d.DueDateComponent,c.VerifyComponent,u.FormVerifyComponent],imports:[s.HttpModule,o.FormsModule,r.CommonModule,a.RouterModule.forChild(e.routes),o.ReactiveFormsModule]}),__metadata("design:paramtypes",[])],CreateModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=p},772:function(n,e,t){"use strict";var i=t(0),a=t(699),s=function(){function DueDateComponent(n){this.create=n,this.invest=this.create.invest}return DueDateComponent.prototype.ngOnInit=function(){jQuery("#due_date").datepicker({format:"dd-mm-yyyy",startDate:"today",autoclose:!0,todayHighlight:!0})},DueDateComponent=__decorate([i.Component({selector:"due-date",template:' \n\t<div class="form-group">\n    <div class="row">\n      <div class="col-md-10">\n      <span class="required">*</span>\n      <input type="text" placeholder="Batas Penawaran" class="form-control input-md datepicker" name="due_date" id="due_date" [(ngModel)]="invest.due_date">\n    </div>\n    </div>\n  </div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.CreateComponent&&a.CreateComponent)&&n||Object])],DueDateComponent);var n}();e.DueDateComponent=s},773:function(n,e,t){"use strict";function __export(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}__export(t(772))},774:function(n,e,t){"use strict";var i=t(0),a=t(700),s=function(){function FormVerifyComponent(n){this.verifyComponent=n,this.dataInvest=this.verifyComponent.dataInvest}return FormVerifyComponent.prototype.ngOnInit=function(){jQuery("#confirmInvestForm").validate({rules:{password:{required:!0}}})},FormVerifyComponent=__decorate([i.Component({selector:"form-verify",template:'\n\t\t<form name="confirmInvestForm" id="confirmInvestForm">\n\t\t  <div class="col-md-6">\n\t\t    <div class="form-group">\n          <span class="required">*</span>\n          <input type="password" name="password" placeholder="Password" class="form-control input-md" id="password" [(ngModel)]="dataInvest.password">\n\t\t    </div>\n\t\t  </div>\n\t\t</form>\n\t'}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.VerifyComponent&&a.VerifyComponent)&&n||Object])],FormVerifyComponent);var n}();e.FormVerifyComponent=s},775:function(n,e,t){"use strict";function __export(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}__export(t(774))},776:function(n,e,t){"use strict";function __export(n){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}__export(t(700))},777:function(n,e,t){"use strict";var i=t(0),a=t(87);t(403);var s=function(){function VerifyService(n){this.http=n,this.headers=new a.Headers({"Content-Type":"application/json",API_KEY:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new a.RequestOptions({headers:this.headers}),this.investUrl="https://masscredit-api.stagingapps.net/user/investment/new"}return VerifyService.prototype.createInvest=function(n){return this.http.post(this.investUrl,n,this.options).toPromise().then(function(n){return n.json()}).catch(this.handleError)},VerifyService.prototype.handleError=function(n){var e=JSON.parse(n._body);return e},VerifyService=__decorate([i.Injectable(),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.Http&&a.Http)&&n||Object])],VerifyService);var n}();e.VerifyService=s},947:function(n,e){n.exports='<div class="row">\n  <div class="col-xs-12">\n  \n  <div class="box-body">\n  <div class="row">\n    <div class="col-xs-12">\n    <form class="form-center" (ngSubmit)="calculationInvest()" name="investForm" id="investForm">\n      <div class="row">\n      <div class="col-xs-6">\n      <div class="box-header">\n        <h2 class="box-title">Tambah Investasi</h2>\n      </div>\n      </div>\n        <div class="col-xs-5">\n        <button class="btn-calculation-invest pull-right col-center" type="submit">KALKULASI</button>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-md-6">\n        <div class="form-group">\n          <div class="col-md-12">\n            <span class="required">*</span>\n            <input type="text" name="invest_name" placeholder="Nama Investasi" class="form-control input-md" id="invest_name" [(ngModel)]="invest.invest_name">\n          </div>\n         </div>\n         <div class="form-group">\n            <div class="col-md-12">\n              <span class="required">*</span>\n              <select class="form-control input-md" name="invest_type" id="invest_type" (change)="getTipeInvestasi($event.target.value)" [(ngModel)]="invest.invest_type">\n                <option value="0" disabled>Tipe Investasi</option>\n                <option [value]="1">Jaminan</option>\n                <option [value]="2">Tanpa Jaminan</option>\n              </select>\n            </div>\n         </div>\n         <div class="form-group">\n            <div class="col-md-12">\n              <div class="input-group">\n                <label class="input-group-btn">Foto Investasi</label>\n                <input type="file" id="images">\n              </div>\n            </div>\n        </div>\n        <div class="form-group">\n           <div class="col-md-12">\n             <span class="required">*</span>\n             <textarea placeholder="Deskripsi" class="form-control input-md"   name="description" id="description" [(ngModel)]="invest.description">\n             </textarea>\n           </div>\n        </div>\n        </div>\n        <div class="col-md-6">\n        <div class="form-group">\n          <div class="row">\n            <div class="col-md-10">\n            <span class="required">*</span>\n            <input type="text" placeholder="Nominal Investasi" class="form-control input-md" name="amount" id="amount" [(ngModel)]="invest.amount">\n          </div>\n          <div class="2">\n            <label class="unit">Rupiah</label>\n          </div>\n          </div>\n        </div>\n       \n        <!-- component due-date -->\n        <due-date></due-date>\n       \n        <div class="form-group">\n          <div class="row">\n            <div class="col-md-10">\n            <!-- <span class="required">*</span> -->\n            <input type="text" placeholder="Bunga" class="form-control input-md" name="interest" id="interest" [(ngModel)]="invest.interest">\n          </div>\n          <div class="2">\n            <label class="unit">%/bln</label>\n          </div>\n          </div>\n        </div>\n        <div class="form-group">\n          <div class="row">\n            <div class="col-md-10">\n            <span class="required">*</span>\n            <input type="text" placeholder="Tenor" class="form-control input-md" name="tenor" id="tenor" [(ngModel)]="invest.tenor">\n          </div>\n          <div class="2">\n            <label class="unit">Bulan</label>\n          </div>\n          </div>\n        </div>\n        </div>\n      </div>\n    </form>\n    </div>\n  </div>\n  </div>\n  </div>\n</div>\n<div class="row">\n  <hr>\n  <div class="col-xs-12">\n    <br>\n    <div class="box-header" align="center">\n      <h2 class="box-title">Kalkulasi Investasi</h2>\n    </div>\n    <div class="box-body">\n      <div class="row">\n      <div class="col-xs-12">     \n      <form name="investForm" id="investForm">\n        <fieldset disabled>\n          <div class="col-md-6">\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Nominal</label>\n            </div>\n            <div class="col-xs-7">\n              <input type="text" name="nominal" id="nominal" placeholder="-" class="form-control input-md" id="nominal" [(ngModel)]="simulation.nominal">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Success Fee</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="success_fee" id="success_fee" [(ngModel)]="simulation.success_fee">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Nominal dan Fee</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="nominal_and_fee" id="nominal_and_fee" [(ngModel)]="simulation.nominal_and_fee">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Pokok</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" name="pokok" id="pokok" placeholder="-" class="form-control input-md" id="pokok" [(ngModel)]="simulation.pokok"> \n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Bunga</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="bunga" id="bunga" [(ngModel)]="simulation.bunga">\n            </div>\n          </div>\n          </div>\n          <div class="col-md-6">\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Tenor</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control" name="tenor" id="tenor" [(ngModel)]="simulation.tenor">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Denda</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="denda" id="denda" [(ngModel)]="simulation.denda">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Cicilan/bulan</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control" name="cicilan_per_bulan" id="cicilan_per_bulan" [(ngModel)]="simulation.cicilan_perbulan">\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="col-xs-5">\n              <label class="unit">Transaction Fee</label>\n            </div>\n            <div class="col-md-7">\n              <input type="text" placeholder="-" class="form-control input-md" name="transaction_fee" id="transaction_fee" [(ngModel)]="simulation.transaction_fee">\n            </div>\n          </div>\n          </div>\n        </fieldset>\n      </form>\n        <div *ngIf="dataInvest == 1">\n        <div class="col-md-12">\n          <div class="form-group">\n          <div class="col-md-6 col-center">\n          <div align="center">\n            <span class="input-group-addon">\n              <input type="checkbox" [checked]="isOn === dataIsOn[0].value" (change)="$event.target.checked? (isOn = dataIsOn[0].value) : (isOn = dataIsOn[1].value)">\n              <label>Saya setuju dengan syarat dan ketentuan</label>\n            </span>\n            <button class="btn btn-submit-invest" (click)="createInvest()" [ngClass]="{disabled:isOn === 0}" id="createLoan">Simpan</button>\n          </div>\n          </div>\n          </div>\n        </div>\n        </div>\n        <!-- component password -->\n        <verify *ngIf="formVerify == 1" (statusForm)="hideVerify($event)" [dataInvest]="invest"></verify>\n      </div>\n      </div>\n    </div>\n  </div>\n  <div align="center" *ngIf="dataInvest == 0"> \n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n</div>'},948:function(n,e){n.exports='<div class="modal fade" id="ModalForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index: 9000">\n<div class="modal-dialog  modal-style">\n\t<div class="modal-content">\n\t  <div class="modal-header">\n\t    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" (click)="hideModal()">&times;</button>\n\t\t  <h4 class="modal-title">Masukan Password untuk verifikasi</h4>\n\t  </div>\n\t  <div class="modal-body">\n\t   <div class="row">\n\t    <div align="center" *ngIf="statusConfirm == 0"> \n\t\t    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n\t\t    <span class="sr-only">Loading...</span>\n\t\t  </div>\n\t\t  <div *ngIf="statusConfirm == 1">\n\t\t  <!-- component form -->\n\t\t  <form-verify></form-verify>\n\t\t  <div class="col-md-6">\n\t\t    <div class="form-group">\n\t\t        <div class="col-md-12">\n\t\t          <button class="btn btn-default" (click)="cancelConfirmInvest()">Batal</button>\n\t\t          <button class="btn btn-red" (click)="confirmInvest()">Verifikasi</button>\n\t\t        </div>\n\t\t    </div>\n\t\t  </div>\n\t\t  </div>\n\t   </div>\n\t  </div>\n\t</div>\n</div>\n</div>'}});
>>>>>>> develop
