webpackJsonp([36],{758:function(a,n,t){"use strict";var e=t(0),i=t(109),s=t(62),o=function(){function IndexComponent(a,n){this.router=a,this.http=n,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.access_token={access_token:JSON.parse(localStorage.getItem("access_token"))},this.funds=[],this.current_page=null,this.per_page=null,this.total=null,this.array_total=[],this.param=new i.URLSearchParams,this.acces_token=JSON.parse(localStorage.getItem("access_token")),this.limit=10,this.page=1,this.data_get_list_fund={access_token:this.acces_token,page:this.page,limit:this.limit},this.loaderDana=0,this.dataDetailDana={access_token:JSON.parse(localStorage.getItem("access_token")),fund_id:""},this.dataDetailBorrower={},this.detail={},this.bank={},this.dataAmount={}}return IndexComponent.prototype.ngOnInit=function(){var a=this;this.http.post("https://masscredit-api.stagingapps.net/user/fund/get-list",this.data_get_list_fund,this.options).map(function(a){return a.json()}).subscribe(function(n){var t=n.meta.code,e=(n.meta.message,n.data.fund),i=n.data.paging.current_page,s=(n.data.paging.per_page,n.data.paging.total);a.funds=e;for(var o=0;o<a.funds.length;o++){var d=a.funds[o],l=d.amount,r=!1,c=l.toString();c<0&&(r=!0),c=c.replace(".",""),c=c.replace("-","");for(var u="",p=c.length,m=0,h=p;h>0;h--)m+=1,u=m%3==1&&1!=m?c.substr(h-1,1)+"."+u:c.substr(h-1,1)+u;r&&(u="-"+u);var v="Rp.";d.amount=v.concat(u)}if(a.current_page=i,200==t){var f=Math.ceil(s/a.limit);a.total_pagination=f;for(var g=1;g<=f;g++)a.array_total.push(g)}},function(n){var t=JSON.parse(n._body),e=t.meta.message;if("unauthorized"==e)return alert("Maaf session anda telah habis silahkan login kembali"),a.router.navigateByUrl("/dashboard/sign-out")})},IndexComponent.prototype.linkCreateFund=function(){this.router.navigateByUrl("/dashboard/fund/create")},IndexComponent.prototype.linkTo=function(a){var n=this,t={access_token:this.acces_token,page:a,limit:this.limit};this.http.post("https://masscredit-api.stagingapps.net/user/fund/get-list",t,this.options).map(function(a){return a.json()}).subscribe(function(a){var t=(a.meta.code,a.meta.message,a.data.fund),e=a.data.paging.current_page;a.data.paging.per_page,a.data.paging.total;n.funds=t,n.current_page=e},function(a){var t=JSON.parse(a._body),e=t.meta.message;if("unauthorized"==e)return alert("Maaf session anda telah habis silahkan login kembali"),n.router.navigateByUrl("/dashboard/sign-out")})},IndexComponent.prototype.showDetailDana=function(a){var n=this;this.dataDetailDana.fund_id=a,jQuery("#myModal").modal({backdrop:"static",keyboard:!1}),this.http.post("https://masscredit-api.stagingapps.net/user/fund/get-detail",this.dataDetailDana,this.options).map(function(a){return a.json()}).subscribe(function(a){console.log(a);var t=a.data,e=a.data.bank;1==e&&(n.bank="BCA"),2==e&&(n.bank="Mandiri"),3==e&&(n.bank="Danamon"),4==e&&(n.bank="Sinarmas"),5==e&&(n.bank="BNI"),6==e&&(n.bank="Niaga"),"undefined"==e&&(n.bank=""),n.dataAmount=a.data.amount,n.delimiterAmount(n.dataAmount),n.detail=t})},IndexComponent.prototype.delimiterAmount=function(a){try{var n=!1,t=a.toString();t<0&&(n=!0),t=t.replace(".",""),t=t.replace("-","");for(var e="",i=t.length,s=0,o=i;o>0;o--)s+=1,e=s%3==1&&1!=s?t.substr(o-1,1)+"."+e:t.substr(o-1,1)+e;n&&(e="-"+e);var d="Rp.";this.dataAmount=d.concat(e)}finally{return this.loaderDana=1,!0}},IndexComponent.prototype.hideDetailDana=function(){jQuery("#myModal").modal("toggle"),this.loaderDana=0},IndexComponent=__decorate([e.Component({selector:"index",template:t(906)}),__metadata("design:paramtypes",["function"==typeof(a="undefined"!=typeof s.Router&&s.Router)&&a||Object,"function"==typeof(n="undefined"!=typeof i.Http&&i.Http)&&n||Object])],IndexComponent);var a,n}();n.IndexComponent=o},759:function(a,n,t){"use strict";var e=t(0),i=t(62),s=t(109),o=t(154),d=t(73),l=t(758);n.routes=[{path:"",component:l.IndexComponent}];var r=function(){function IndexModule(){}return IndexModule.routes=n.routes,IndexModule=__decorate([e.NgModule({declarations:[l.IndexComponent],imports:[s.HttpModule,o.FormsModule,d.CommonModule,o.ReactiveFormsModule,i.RouterModule.forChild(n.routes)],providers:[]}),__metadata("design:paramtypes",[])],IndexModule)}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},906:function(a,n){a.exports='<!-- Main content -->\n  <br>\n  <div class="col-xs-12" align="right">\n    <button class="add-advance-search" (click)="linkCreateFund()">\n      Tambah\n    </button>\n  </div>\n  <h1> </h1>\n  <div class="col-md-12">\n  <!-- Tab panes -->\n  <div class="tab-content ">\n      <div role="tabpanel" class="tab-pane active" id="investasi">\n      <br>\n      <br>\n      <div class="box-body data-tables table-responsive">\n        <table class="table table-hover" id="example2">\n          <thead>\n            <tr>\n              <th>No.</th>\n              <th>Nomor Referensi</th>\n              <th>Tanggal</th>\n              <th>Nominal Rp</th>\n              <th>Tanggal Konfirmasi</th>\n              <th>Status</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor="let data of funds; let i=\'index\'">\n              <td>{{ i+1 }}</td>\n              <td>\n                {{ data.no_reference }}\n              </td>\n              <td>{{ data.date }}</td>\n              <td>{{ data.amount }}</td>\n              <td>{{ data.confirm_date }}</td>\n              <td>{{ data.status }}</td>\n              <td>\n                <a *ngIf="data.confirm_date == \'\'" class="pull-right" [routerLink]="[\'/dashboard/fund/confirm\', data.id]">\n                  Konfirmasi\n                </a>\n                <button class="pull-right" (click)="showDetailDana(data.id)">\n                  <i aria-hidden="true" class="fa fa-search"></i>\n                </button><!-- \n                <a class="pull-right" [routerLink]="[\'/dashboard/fund/detail\', data.id]"><i aria-hidden="true" class="fa fa-search"></i></a> -->\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        </div>  \n      <nav aria-label="Page navigation" *ngIf="total_pagination > 1">\n        <ul class="pagination">\n         <!--  <li>\n            <a href="#" aria-label="Previous">\n              <span aria-hidden="true">&laquo;</span>\n            </a>\n          </li> -->\n          <li *ngFor="let a of array_total"><a href="#/dashboard/fund" id="a" (click)="linkTo(a)">{{ a }}</a></li>\n          <!-- <li>\n            <a href="#" aria-label="Next">\n              <span aria-hidden="true">&raquo;</span>\n            </a>\n          </li> -->\n        </ul>\n      </nav>      \n      </div>\n    </div>\n  </div>\n<!-- Modal -->\n<div class="modal fade modal-lg" id="myModal" style="z-index:9000;">\n  <div class="modal-dialog modal-lg">\n    <!-- Modal content-->\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" (click)="hideDetailDana()">&times;</button>\n        <h4 class="modal-title">Detail Dana</h4>\n      </div>\n      <div class="modal-body">\n      <div  *ngIf="loaderDana == 0">\n        <div class="row">\n          <div align="center"> \n            <br><br><br><br><br>\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n            <span class="sr-only">Loading...</span>\n          </div>\n        </div>\n      </div>\n      <div  *ngIf="loaderDana == 1">\n        <div class="row">\n          <div class="col-md-12">\n            <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">No Referensi</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" placeholder="No Referensi" class="form-control input-md" name="no_reference" id="no_reference" value="{{ detail.no_reference }}" disabled>\n              </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Nama Lengkap</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" placeholder="Nama Lengkap" class="form-control input-md" name="nama_lengkap" id="nama_lengkap" value="{{ detail.nama_lengkap }}" disabled>\n              </div>\n           </div>\n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Nama Bank</label>\n              </div>\n              <div class="col-xs-7">\n                <input type="text" placeholder="Nama Bank" class="form-control input-md"  name="bank_name" id="bank_name" value="{{ bank }}" disabled>\n              </div>\n           </div>\n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Tanggal</label>\n              </div>\n              <div class="col-xs-7">\n                  <input  type="text" placeholder="Tanggal" name="date" class="form-control input-md datepicker" id="date" value="{{ detail.date }}" disabled>\n              </div>\n           </div>\n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Nominal</label>\n              </div>\n              <div class="col-xs-7">\n                 <input type="text" placeholder="Nominal" class="form-control input-md" name="amount" id="amount" value="{{ dataAmount }}" disabled>\n              </div>\n           </div>\n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Tanggal Transfer</label>\n              </div>\n              <div class="col-xs-7">\n               <input type="text" placeholder="Tanggal Transfer" class="form-control input-md" name="tanggal_transfer" id="tanggal_transfer" value="{{ detail.date }}" disabled>\n              </div>\n           </div> \n           <div class="form-group">\n              <div class="col-xs-4">\n                <label class="unit">Bukti Transfer</label>\n              </div>\n              <div class="col-xs-7">\n               <img src="{{ detail.images }}" alt="Bukti Transfer" disabled>\n              </div>\n           </div> \n          </div>\n        </div>\n      </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" (click)="hideDetailDana()">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="col-xs-12">\n  <br>\n</div>\n<!-- /.content -->'}});