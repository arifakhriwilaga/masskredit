webpackJsonp([12],{698:function(t,n,e){"use strict";var a=e(0),i=e(87),s=e(50),d=function(){function IndexService(t,n){this.http=t,this.router=n,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.listFundUrl="https://masscredit-api.stagingapps.net/user/withdrawal/get-list"}return IndexService.prototype.getFunds=function(t){return this.http.post(this.listFundUrl,t,this.options).toPromise().then(function(t){return t.json().data.withdrawal}).catch(this.handleError)},IndexService.prototype.handleError=function(t){var n=JSON.parse(t._body),e=(n.meta.code,n.meta.message);if("unauthorized"==e)return alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")},IndexService.prototype.toCreateWithdrawal=function(){this.router.navigateByUrl("/dashboard/fund/fund-withdrawal/create")},IndexService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof s.Router&&s.Router)&&n||Object])],IndexService);var t,n}();n.IndexService=d},762:function(t,n,e){"use strict";var a=e(0),i=e(87),s=e(698),d=function(){function IndexComponent(t,n){this.http=t,this.indexService=n,this.statusFundsWithdrawal=0,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.access_token={access_token:JSON.parse(localStorage.getItem("access_token"))},this.withdrawals=[],this.current_page=null,this.per_page=null,this.total=null,this.array_total=[],this.acces_token=JSON.parse(localStorage.getItem("access_token")),this.limit=10,this.page=1,this.dataListFund={access_token:this.acces_token,page:this.page,limit:this.limit},this.dataFundsNull=0}return IndexComponent.prototype.ngOnInit=function(){this.getListFund()},IndexComponent.prototype.getListFund=function(){var t=this;this.indexService.getFunds(this.dataListFund).then(function(n){try{0==n.length&&(t.dataFundsNull=1),t.funds=n;for(var e=0;e<t.funds.length;e++){var a=t.funds[e],i=a.amount,s=!1,d=i.toString();d<0&&(s=!0),d=d.replace(".",""),d=d.replace("-","");for(var o="",l=d.length,r=0,c=l;c>0;c--)r+=1,o=r%3==1&&1!=r?d.substr(c-1,1)+"."+o:d.substr(c-1,1)+o;s&&(o="-"+o);var u="Rp.";a.amount=u.concat(o)}}finally{t.statusFundsWithdrawal=1}})},IndexComponent.prototype.linkFundWithdrawal=function(){this.indexService.toCreateWithdrawal()},IndexComponent.prototype.linkTo=function(t){var n=this,e=t;this.http.get("https://masscredit-api.stagingapps.net/user/fund/get-list/"+this.acces_token+"/funds.json?limit="+this.limit+"&page="+e,this.options).map(function(t){return t.json()}).subscribe(function(t){""==t.data.withdrawal&&(n.dataFundsNull=1);var e=(t.meta.code,t.meta.message,t.data.withdrawal),a=t.data.paging.current_page;t.data.paging.per_page,t.data.paging.total;n.withdrawals=e,n.current_page=a},function(t){var n=JSON.parse(t._body),e=n.meta.message;"unauthorized"==e&&alert("Maaf session anda telah habis silahkan login kembali")})},IndexComponent.prototype.showDetailFund=function(t){this.fundId=t,this.statusDetailFund=1},IndexComponent.prototype.hideDetailFund=function(t){this.statusDetailFund=t},IndexComponent=__decorate([a.Component({selector:"index",template:e(927)}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof s.IndexService&&s.IndexService)&&n||Object])],IndexComponent);var t,n}();n.IndexComponent=d},763:function(t,n,e){"use strict";var a=e(0),i=e(87),s=e(153),d=e(72),o=e(50),l=e(762),r=e(766),c=e(698);n.routes=[{path:"",component:l.IndexComponent}];var u=function(){function IndexModule(){}return IndexModule.routes=n.routes,IndexModule=__decorate([a.NgModule({declarations:[l.IndexComponent,r.DetailComponent],imports:[i.HttpModule,s.FormsModule,d.CommonModule,o.RouterModule.forChild(n.routes)],providers:[c.IndexService]}),__metadata("design:paramtypes",[])],IndexModule)}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=u},764:function(t,n,e){"use strict";var a=e(0),i=e(765),s=function(){function DetailComponent(t){this.detailService=t,this.dataDetailFund={access_token:JSON.parse(localStorage.getItem("access_token")),withdrawal_id:null},this.statusDataFund=0,this.dataAmount={},this.bank={},this.hideFormDetail=new a.EventEmitter}return DetailComponent.prototype.ngOnInit=function(){jQuery("#FormDetail").modal({backdrop:"static",keyboard:!1}),null!=this.dataFundId&&(this.dataDetailFund.withdrawal_id=this.dataFundId,null!=this.dataDetailFund.withdrawal_id&&this.getFund())},DetailComponent.prototype.getFund=function(){var t=this;this.detailService.getFund(this.dataDetailFund).then(function(n){var e=n.bank;1==e&&(t.bank="BCA"),2==e&&(t.bank="Mandiri"),3==e&&(t.bank="Danamon"),4==e&&(t.bank="Sinarmas"),5==e&&(t.bank="BNI"),6==e&&(t.bank="Niaga"),"undefined"==e&&(t.bank=""),t.delimiter(n.amount),t.fund=n})},DetailComponent.prototype.delimiter=function(t){try{var n=!1,e=t.toString();e<0&&(n=!0),e=e.replace(".",""),e=e.replace("-","");for(var a="",i=e.length,s=0,d=i;d>0;d--)s+=1,a=s%3==1&&1!=s?e.substr(d-1,1)+"."+a:e.substr(d-1,1)+a;n&&(a="-"+a);var o="Rp.";this.dataAmount=o.concat(a)}finally{this.statusDataFund=1}},DetailComponent.prototype.hideDetailFund=function(){jQuery("#FormDetail").modal("toggle"),this.hideFormDetail.emit(0)},__decorate([a.Input(),__metadata("design:type",Number)],DetailComponent.prototype,"dataFundId",void 0),__decorate([a.Output(),__metadata("design:type",Object)],DetailComponent.prototype,"hideFormDetail",void 0),DetailComponent=__decorate([a.Component({selector:"detail",template:e(928),providers:[i.DetailService]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.DetailService&&i.DetailService)&&t||Object])],DetailComponent);var t}();n.DetailComponent=s},765:function(t,n,e){"use strict";var a=e(0),i=e(87),s=e(50),d=function(){function DetailService(t,n){this.http=t,this.router=n,this.headers=new i.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new i.RequestOptions({headers:this.headers}),this.fundUrl="https://masscredit-api.stagingapps.net/user/withdrawal/get-detail"}return DetailService.prototype.getFund=function(t){return this.http.post(this.fundUrl,t,this.options).toPromise().then(function(t){return t.json().data}).catch(this.handleError)},DetailService.prototype.handleError=function(t){var n=JSON.parse(t._body),e=(n.meta.code,n.meta.message);if("unauthorized"==e)return alert("Maaf session anda telah habis silahkan login kembali"),this.router.navigateByUrl("/dashboard/sign-out")},DetailService=__decorate([a.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Http&&i.Http)&&t||Object,"function"==typeof(n="undefined"!=typeof s.Router&&s.Router)&&n||Object])],DetailService);var t,n}();n.DetailService=d},766:function(t,n,e){"use strict";function __export(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}__export(e(764))},927:function(t,n){t.exports='<div class="box-header" align="center">\n  <h2 class="box-title">List Tarik Dana</h2>\n</div>\n<div class="box-body">\n  <div *ngIf="statusFundsWithdrawal == 1">\n    <div class="col-xs-12" align="right">\n      <button class="add-advance-search" (click)="linkFundWithdrawal()">\n        Tarik\n      </button>\n    </div>\n    <div class="col-md-12">\n    <div class="tab-content ">\n      <br>\n      <div role="tabpanel" class="tab-pane active" id="investasi">\n      <div class="box-body data-tables table-responsive">\n        <table class="table table-hover" id="example2">\n          <thead>\n            <tr>\n              <th>No.</th>\n              <th>Nomor Referensi</th>\n              <th>Nominal Rp</th>\n              <th>Tanggal Konfirmasi</th>\n              <th>Status</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngIf="dataFundsNull == 1">\n              <td colspan="5" align="center">Data belum tersedia</td>\n            </tr>\n            <tr *ngFor="let data of funds; let i =\'index\'">\n              <td>{{ i + 1 }}</td>\n              <td>{{ data.no_reference }}</td>\n              <td>{{ data.amount }}</td>\n              <td>{{ data.confirm_date }}</td>\n              <td>{{ data.status }}</td>\n              <td>\n                <button class="pull-right" (click)="showDetailFund(data.id)">\n                  <i aria-hidden="true" class="fa fa-search"></i>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>  \n        <nav aria-label="Page navigation" *ngIf="total_pagination > 1">\n          <ul class="pagination">\n           <!--  <li>\n              <a href="#" aria-label="Previous">\n                <span aria-hidden="true">&laquo;</span>\n              </a>\n            </li> -->\n            <li *ngFor="let a of array_total"><a href="#/dashboard/fund" id="a" (click)="linkTo(a)">{{ a }}</a></li>\n            <!-- <li>\n              <a href="#" aria-label="Next">\n                <span aria-hidden="true">&raquo;</span>\n              </a>\n            </li> -->\n          </ul>\n        </nav>      \n      </div>\n      </div>\n    </div>\n  </div>\n  <div align="center" *ngIf="statusFundsWithdrawal == 0"> \n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n    <span class="sr-only">Loading...</span>\n  </div>\n  <!-- component for detail fund -->\n  <detail *ngIf="statusDetailFund == 1" [dataFundId]="fundId" (hideFormDetail)="hideDetailFund($event)"></detail>\n</div>\n'},928:function(t,n){t.exports='<div class="modal fade" id="FormDetail" tabindex="-1">\n  <div class="modal-dialog">\n  <!-- Modal content-->\n  <div class="modal-content">\n    <div class="modal-header" align="center">\n      <button type="button" class="close" (click)="hideDetailFund(0)">&times;</button>\n        <h3 class="box-title">Detail Penarikan</h3>\n    </div>\n    <div class="modal-body">\n    <div  *ngIf="statusDataFund == 0">\n      <div class="row">\n      <div align="center"> \n        <br>\n        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n        <span class="sr-only">Loading...</span>\n      </div>\n      </div>\n    </div>\n    <div  *ngIf="statusDataFund == 1">\n      <div class="row">\n      <div class="col-md-12">\n        <div class="form-group">\n          <div class="col-xs-4">\n            <label class="unit">No Referensi</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="No Referensi" class="form-control input-md" name="no_reference" id="no_reference" value="{{ fund.no_reference }}" disabled>\n          </div>\n        </div>\n        <div class="form-group">\n          <div class="col-xs-4">\n            <label class="unit">Nama Lengkap</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Nama Lengkap" class="form-control input-md" name="nama_lengkap" id="nama_lengkap" value="{{ fund.nama_lengkap }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-4">\n            <label class="unit">Nama Bank</label>\n          </div>\n          <div class="col-xs-7">\n            <input type="text" placeholder="Nama Bank" class="form-control input-md"  name="bank_name" id="bank_name" value="{{ bank }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-4">\n            <label class="unit">Tanggal Penarikan</label>\n          </div>\n          <div class="col-xs-7">\n              <input  type="text" placeholder="Tanggal" name="date" class="form-control input-md datepicker" id="date" value="{{ fund.date }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-4">\n            <label class="unit">Nominal</label>\n          </div>\n          <div class="col-xs-7">\n             <input type="text" placeholder="Nominal" class="form-control input-md" name="amount" id="amount" value="{{ dataAmount }}" disabled>\n          </div>\n       </div>\n       <div class="form-group">\n          <div class="col-xs-4">\n            <label class="unit">Tanggal Transfer Admin</label>\n          </div>\n          <div class="col-xs-7">\n           <input type="text" placeholder="Tanggal Transfer" class="form-control input-md" name="tanggal_transfer" id="tanggal_transfer" value="{{ fund.confirm_date }}" disabled>\n          </div>\n       </div> \n      </div>\n      </div>\n    </div>\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-default" (click)="hideDetailFund()">Close</button>\n    </div>\n  </div>\n  </div>\n</div>'}});