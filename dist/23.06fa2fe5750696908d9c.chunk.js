webpackJsonp([23],{713:function(e,n,t){"use strict";var a=t(0),r=t(73),s=t(62),i=t(109),o=t(154),d=t(714);n.routes=[{path:"",component:d.Step1RegisterComponent}];var l=function(){function RegisterModule(){}return RegisterModule.routes=n.routes,RegisterModule=__decorate([a.NgModule({declarations:[d.Step1RegisterComponent],imports:[i.HttpModule,o.FormsModule,s.RouterModule.forChild(n.routes),r.CommonModule,o.ReactiveFormsModule],providers:[o.FormBuilder]}),__metadata("design:paramtypes",[])],RegisterModule)}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=l},714:function(e,n,t){"use strict";var a=t(0),r=t(154),s=t(701),i=t(62),o=t(109),d=function(){function Step1RegisterComponent(e,n,t,a){this.registerService=e,this.router=n,this.http=t,this.formBuilder=a,this.agama=[],this.province=[],this.status_rumah=[],this.tipe_identitas=[],this.status=[],this.tipe_bank=[],this.nomor="",this.register=this.registerService.dataRegister(),this.kota=[],this.id_provinsi=""}return Step1RegisterComponent.prototype.ngOnInit=function(){jQuery(".datepicker").datepicker({format:"yyyy-mm-dd"}),jQuery(function(e){jQuery("#kode_pos").mask("00000")}),jQuery("#registerForm").validate({rules:{nama_lengkap:{required:!0},alamat_email:{required:!0,email:!0},password:{required:!0},confirm_password:{required:!0},jenis_kelamin:{required:!0},kode_pos:{required:!0},tempat_lahir:{required:!0},tanggal_lahir:{required:!0},alamat:{required:!0},status_rumah:{required:!0},luas_tanah:{required:!0},luas_bangunan:{required:!0}}}),this.nomor=JSON.parse(localStorage.getItem("verify_handphone"));var e=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"});new o.RequestOptions({headers:e})},Step1RegisterComponent.prototype.sendRegister=function(e){var n=this;if(jQuery("#registerForm").valid()){var t=document.getElementById("phone_number"),a=t.value,r=jQuery("#tanggal_lahir").val();this.register.tanggal_lahir=r,this.register.phone_number=a;var s=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),i=new o.RequestOptions({headers:s});this.register,this.http.post("http://masscredit-api.stagingapps.net/user/credential/register",e,i).map(function(e){return e.json()}).subscribe(function(e){var t=e.meta.code;return"200"==t?(localStorage.removeItem("access_code"),localStorage.removeItem("verify_handphone"),n.router.navigateByUrl("/auth/register/finish")):(alert("Register gagal"),n.router.navigateByUrl("/auth/register/step-1"))},function(e){var n=JSON.parse(e._body),t=n.meta.message;"Email sudah terdaftar"==t&&alert("Maaf Email sudah terdaftar"),"Password dan Confirm Password tidak sama"==t&&alert("Password dan Confirm Password tidak sama"),"No Handphone sudah terdaftar"==t&&alert("No Handphone sudah terdaftar")})}else alert("Data tidak valid")},Step1RegisterComponent.prototype.cancelRegister=function(){localStorage.removeItem("access_code"),localStorage.removeItem("verify_handphone"),this.router.navigateByUrl("/auth/register")},Step1RegisterComponent.prototype.ngAfterViewInit=function(){jQuery(".datepicker").datepicker({format:"yyyy/mm/dd"})},Step1RegisterComponent.prototype.getProvinsi=function(e){var n=this;this.id_provinsi=e,console.log(e);var t=new o.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),a=JSON.parse(e),r={id_provinsi:a},s=new o.RequestOptions({headers:t});return this.http.post("http://masscredit-api.stagingapps.net/master/kota",r,s).map(function(e){return e.json()}).subscribe(function(e){n.kota=e.data.kota,console.log("Kota",n.kota)}),a},Step1RegisterComponent=__decorate([a.Component({selector:"step-1",template:t(839),providers:[s.RegisterService]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.RegisterService&&s.RegisterService)&&e||Object,"function"==typeof(n="undefined"!=typeof i.Router&&i.Router)&&n||Object,"function"==typeof(d="undefined"!=typeof o.Http&&o.Http)&&d||Object,"function"==typeof(l="undefined"!=typeof r.FormBuilder&&r.FormBuilder)&&l||Object])],Step1RegisterComponent);var e,n,d,l}();n.Step1RegisterComponent=d},839:function(e,n){e.exports='<div class="form-account form-login-register" id="step-1">\n<br><br>\n      <h2>Registrasi</h2>\n      <p>Silakan isi data berikut untuk mendaftarkan diri anda</p>\n\n      <form class="form-horizontal clearfix row" name="registerForm" id="registerForm">\n         <div class="col-xs-6">\n            <div class="form-group">\n               <div class="col-xs-12">\n               <span class="required">*</span>\n                    <input  type="text" placeholder="Nama Lengkap" class="form-control input-md" [(ngModel)]="register.nama_lengkap" name="nama_lengkap">\n               </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-12">\n               <span class="required">*</span>\n                    <input  type="email" placeholder="Email" class="form-control input-md" [(ngModel)]="register.alamat_email" name="alamat_email">\n              </div>\n            </div>\n            <!-- Password -->\n            <div class="form-group">\n               <div class="col-md-12">\n               <span class="required">*</span>\n                    <input  type="password" placeholder="Password" class="form-control input-md" [(ngModel)]="register.password" name="password">\n               </div>\n            </div>\n            <div class="form-group">\n               <div class="col-md-12">\n               <span class="required">*</span>\n                    <input  type="password" placeholder="Confirm Password" class="form-control input-md" [(ngModel)]="register.confirm_password" name="confirm_password">\n               </div>\n            </div>\n          <div class="form-group">\n               <div class="col-md-12">\n               <span class="required">*</span>\n                    <input  type="text" placeholder="{{ nomor }}" class="form-control input-md" name="phone_number" id="phone_number" value="{{ nomor }}" disabled>\n               </div>\n            </div>\n          <div class="form-group">\n              <div class="col-md-12">\n              <span class="required">*</span>\n                  <select class="form-control input-md" name="jenis_kelamin" [(ngModel)]="register.jenis_kelamin" name="jenis_kelamin">\n                     <option value="0" disabled>Jenis Kelamin</option>\n                     <option value="1">Laki-laki</option>\n                     <option value="2">Perempuan</option>                  \n                  </select>\n              </div>\n          </div>\n          </div>\n\n          <div class="col-xs-6">\n\n            <div class="form-group">\n              <div class="col-xs-4">\n               <span class="required">*</span>\n                    <input  type="text" placeholder="Tempat Lahir" class="form-control input-md" [(ngModel)]="register.tempat_lahir" name="tempat_lahir">\n              </div>\n              <div class="col-xs-8">\n               <span class="required">*</span>\n                  <input  type="text" placeholder="Tanggal Lahir " name="tanggal_lahir" class="form-control input-md datepicker" id="tanggal_lahir" [(ngModel)]="register.tanggal_lahir">\n               </div>\n            </div>\n\n            <div class="form-group">\n               <div class="col-xs-12">\n               <span class="required">*</span>\n                    <textarea  type="text" placeholder="Alamat" class="form-control input-md" [(ngModel)]="register.alamat" name="alamat">\n                    </textarea>\n               </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-12">\n               <span class="required">*</span>\n                    <input  type="text" placeholder="Kode Pos" class="form-control input-md" [(ngModel)]="register.kode_pos" name="kode_pos" id="kode_pos">\n              </div>\n            </div>\n             <div class="form-group">\n               <div class="col-md-12">\n               <span class="required">*</span>\n                  <select class="form-control input-md" name="status_rumah" [(ngModel)]="register.status_rumah" name="status_rumah">\n                     <option value="0" disabled>Status Rumah</option>\n                     <option value="1">Pribadi</option>\n                     <option value="2">Kontrak</option>                  \n                  </select>\n               </div>\n            </div>\n            <div class="form-group">\n              <div class="col-xs-4">\n               <span class="required">*</span>\n                    <input  type="text" placeholder="Luas Tanah" class="form-control input-md" [(ngModel)]="register.luas_tanah" name="luas_tanah" id="luas_tanah">\n              </div>\n              <div class="col-xs-8">\n               <span class="required">*</span>\n                    <input  type="text" placeholder="Luas Bangunan" class="form-control input-md" [(ngModel)]="register.luas_bangunan" name="luas_bangunan" id="luas_bangunan">\n              </div>\n            </div>\n          </div>\n\n\n      </form>\n         <div class="col-xs-12">\n            <!-- Button -->\n            <div class="form-group">\n               <div class="col-md-6 col-center">\n                  <button class="btn btn-default" (click)="cancelRegister()">Batal</button>\n                  <button type="submit" class="btn btn-red" (click)="sendRegister(register)">Daftar</button>\n               </div>\n            </div>\n         </div>\n</div>\n\n\n'}});