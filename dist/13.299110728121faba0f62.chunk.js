webpackJsonp([13],{694:function(e,n,t){"use strict";var a=t(0),s=t(87),o=t(50),i=function(){function CreateComponent(e,n){this.http=e,this.router=n,this.headers=new s.Headers({"Content-Type":"application/json",api_key:"01b19716dfe44d0e9c656903429c3e9c65d0b243"}),this.options=new s.RequestOptions({headers:this.headers}),this.invest={access_token:JSON.parse(localStorage.getItem("access_token")),invest_name:null,invest_type:0,description:null,images:null,due_date:"",amount:null,interest:null,tenor:null,password:null},this.token=JSON.parse(localStorage.getItem("access_token")),this.dataInvest=0,this.dataDetailInvest=0}return CreateComponent.prototype.ngOnInit=function(){jQuery("#investForm").validate({rules:{invest_name:{required:!0},invest_type:{required:!0},masa_berlaku:{required:!0},amount:{required:!0},tenor:{required:!0},description:{required:!0}}}),jQuery("#interest").mask("00000"),jQuery("#tenor").mask("00"),jQuery("#amount").mask("0000000000")},CreateComponent.prototype.getTipeInvestasi=function(e){this.tipeInvest=e},CreateComponent.prototype.cancelInvest=function(){this.router.navigateByUrl("/dashboard/other-user-action/invest")},CreateComponent.prototype.createInvest=function(e){if(jQuery("#investForm").valid()){this.invest.due_date=jQuery("#masa_berlaku").datepicker("getDate");var n=new FileReader;n.onload=function(e,n){try{var t=e.target.result.split(",")[1];"AQID"==t&&(this.invest.images=null),"AQID"!=t&&(this.invest.images=t)}finally{this.dataInvest=1}}.bind(this);var t=document.getElementById("images"),a=t.files[0],s=new Uint8Array([1,2,3]),o=s.buffer,i=new Blob([o]);void 0==a&&(a=i);n.readAsDataURL(a)}else alert("Data tidak valid")},CreateComponent.prototype.sendVerifyInvest=function(e){jQuery("#confirmInvestForm").valid()?this.sendDataInvest():alert("Harap masukan password")},CreateComponent.prototype.cancelVerifyInvest=function(){this.dataInvest=0},CreateComponent.prototype.sendDataInvest=function(){var e=this;this.http.post("https://masscredit-api.stagingapps.net/user/investment/new",this.invest,this.options).map(function(e){return e.json()}).subscribe(function(n){n.meta.code,n.meta.message;e.dataDetailInvest=0,alert("Investasi berhasil dibuat"),e.router.navigateByUrl("/dashboard/other-user-action/invest")},function(n){var t=JSON.parse(n._body),a=t.meta.message;t.meta.code;return"unauthorized"==a?(alert("Maaf session anda telah habis silahkan login kembali"),e.router.navigateByUrl("/dashboard/sign-out")):("Password salah!"==a&&(e.dataInvest=1,e.dataDetailInvest=0,alert("Password anda salah")),void("Saldo Anda tidak mencukupi."==a&&(e.dataInvest=1,e.dataDetailInvest=0,alert("Saldo anda tidak mencukupi"))))})},CreateComponent=__decorate([a.Component({selector:"create",template:t(937)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.Http&&s.Http)&&e||Object,"function"==typeof(n="undefined"!=typeof o.Router&&o.Router)&&n||Object])],CreateComponent);var e,n}();n.CreateComponent=i},792:function(e,n,t){"use strict";var a=t(0),s=t(694),o=function(){function DueDateComponent(e){this.create=e,this.invest=this.create.invest}return DueDateComponent.prototype.ngOnInit=function(){jQuery("#masa_berlaku").datepicker({format:"yyyy-mm-dd"})},DueDateComponent=__decorate([a.Component({selector:"due-date",template:' \n\t<div class="form-group">\n    <div class="col-md-12">\n    <span class="required">*</span>\n    <input  type="text" placeholder="Batas Akhir Penawaran " name="masa_berlaku" class="form-control input-md datepicker" id="masa_berlaku" [(ngModel)]="invest.masa_berlaku">\n    </div>\n  </div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.CreateComponent&&s.CreateComponent)&&e||Object])],DueDateComponent);var e}();n.DueDateComponent=o},793:function(e,n,t){"use strict";function __export(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}__export(t(792))},794:function(e,n,t){"use strict";var a=t(0),s=t(50),o=t(87),i=t(153),r=t(72),d=t(694),l=t(793),c=t(795);n.routes=[{path:"",component:d.CreateComponent}];var p=function(){function CreateModule(){}return CreateModule.routes=n.routes,CreateModule=__decorate([a.NgModule({declarations:[d.CreateComponent,l.DueDateComponent,c.VerifyComponent],imports:[o.HttpModule,i.FormsModule,r.CommonModule,s.RouterModule.forChild(n.routes)],providers:[]}),__metadata("design:paramtypes",[])],CreateModule)}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=p},795:function(e,n,t){"use strict";function __export(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}__export(t(796))},796:function(e,n,t){"use strict";var a=t(0),s=t(50),o=t(694),i=function(){function VerifyComponent(e,n){this.create=e,this.router=n,this.invest=this.create.invest,this.dataConfirmInvest=0}return VerifyComponent.prototype.ngOnInit=function(){jQuery("#confirmInvestForm").validate({rules:{password:{required:!0}}})},VerifyComponent.prototype.cancelConfirmInvest=function(){this.router.navigateByUrl("/dashboard/other-user-action/invest")},VerifyComponent.prototype.confirmInvest=function(){jQuery("#confirmInvestForm").valid()?(this.create.dataDetailInvest=1,this.create.dataInvest=3,this.create.sendDataInvest()):alert("Harap masukan password")},VerifyComponent=__decorate([a.Component({selector:"verify",template:'\n\t<form class="form-horizontal clearfix row" name="confirmInvestForm" id="confirmInvestForm">\n\t  <div class="col-md-12">\n\t    <div class="form-group">\n\t          <span class="required">*</span>\n\t          <input type="password" name="password" placeholder="Password" class="form-control input-md" id="password" [(ngModel)]="invest.password">\n\t    </div>\n\t  </div>\n\t</form>\n\t  <div class="col-md-12">\n\t    <div class="form-group">\n\t        <div class="col-md-6 col-center">\n\t          <button class="btn btn-default" (click)="cancelConfirmInvest()">Batal</button>\n\t          <button class="btn btn-red" (click)="confirmInvest(invest)">Verifikasi</button>\n\t        </div>\n\t    </div>\n\t  </div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.CreateComponent&&o.CreateComponent)&&e||Object,"function"==typeof(n="undefined"!=typeof s.Router&&s.Router)&&n||Object])],VerifyComponent);var e,n}();n.VerifyComponent=i},937:function(e,n){e.exports='<section class="content">\n <div class="row">\n   <div class="col-md-12">\n    <div class="box bg-transparent">\n       <div class="box-header">\n         <h2 class="box-title pull-left">Tambah Investasi</h2>\n       </div>\n       <div class="box-body">\n         <div class="form-login-register">\n           <form class="form-horizontal clearfix row" name="investForm" id="investForm">\n              <div *ngIf="dataInvest == 0">\n              <div class="col-md-6">\n                 <div class="form-group">\n                   <div class="col-md-12">\n                       <span class="required">*</span>\n                       <input type="text" name="invest_name" placeholder="Nama Investasi" class="form-control input-md" id="invest_name" [(ngModel)]="invest.invest_name">\n                   </div>\n                 </div>\n                 <div class="form-group">\n                     <div class="col-md-12">\n                       <span class="required">*</span>\n                       <select class="form-control input-md" name="invest_type" id="invest_type" (change)="getTipeInvestasi($event.target.value)" [(ngModel)]="invest.invest_type">\n                          <option value="0" disabled>Tipe Investasi</option>\n                          <option [value]="1">Jaminan</option>\n                          <option [value]="2">Tanpa Jaminan</option>\n                       </select>\n                     </div>\n                 </div>\n                 <div class="form-group">\n                   <div class="col-md-12">\n                     <div class="input-group">\n                       <label class="input-group-btn">Foto Investasi</label>\n                         <input type="file" id="images">\n                     </div>\n                   </div>\n                </div>\n                  <div class="form-group">\n                     <div class="col-md-12">\n                       <span class="required">*</span>\n                       <textarea placeholder="Deskripsi" class="form-control input-md"   name="description" id="description" [(ngModel)]="invest.description">\n                       </textarea>\n                     </div>\n                 </div>\n              </div>\n               <div class="col-md-6">\n                 <div class="form-group">\n                   <div class="col-md-10">\n                     <span class="required">*</span>\n                     <input type="text" placeholder="Nominal Investasi" class="form-control input-md" name="amount" id="amount" [(ngModel)]="invest.amount">\n                   </div>\n                     <label class="unit">Rupiah</label>\n                 </div>\n                  <!-- component due-date -->\n                  <due-date></due-date>\n                  \n                 <div class="form-group">\n                   <div class="col-md-10 clearfix">\n                     <input type="text" placeholder="Bunga" class="form-control input-md"  name="interest" id="interest" [(ngModel)]="invest.interest">\n                   </div>\n                     <label class="unit">%/bulan</label>\n                 </div>\n                 <div class="form-group">\n                   <div class="col-md-10 clearfix">\n                     <span class="required">*</span>\n                     <input type="text" placeholder="Tenor" class="form-control input-md" maxlength="2" minlength="1"  name="tenor" id="tenor" [(ngModel)]="invest.tenor">\n                    </div>\n                    <label class="unit">Bulan</label>\n                 </div>\n<!--                  <div class="form-group">\n                   <div class="col-md-12">\n                     <input type="text" placeholder="Charge Free" class="form-control input-md" readonly>\n                   </div>\n                 </div> -->\n               </div>\n               </div>\n           </form>\n              <div *ngIf="dataInvest == 0">\n                 <div class="col-md-12">\n                   <div class="form-group">\n                      <div class="col-md-6 col-center">\n                        <!-- <a href="#/dashboard/investasi" class="btn btn-default">Batal</a> -->\n                        <button class="btn btn-default" (click)="cancelInvest()">Batal</button>\n                        <button class="btn btn-red" (click)="createInvest(invest)">Simpan</button>\n                      </div>\n                   </div>\n                </div>\n              </div>\n                <!-- component password -->\n                <verify *ngIf="dataInvest == 1"></verify>\n<!--                  <h2>Modal Example</h2>\n\n                  Trigger/Open The Modal\n                  <button id="myBtn">Open Modal</button>\n                  The Modal\n                  <div id="myModal" class="modal">\n                    Modal content\n                    <div class="modal-content">\n                      <span class="close" id="close">&times;</span>\n                      <p>Some text in the Modal..</p>\n                    </div>\n                  </div> -->\n                  \n         </div>\n       </div>\n      <div align="center" *ngIf="dataDetailInvest == 1"> \n        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n        <span class="sr-only">Loading...</span>\n      </div>\n    </div>\n   </div>\n </div>\n</section>'}});